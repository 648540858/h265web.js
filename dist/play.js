(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

!function e(t, r, i) {
  function n(s, o) {
    if (!r[s]) {
      if (!t[s]) {
        var f = "function" == typeof require && require;
        if (!o && f) return f(s, !0);
        if (a) return a(s, !0);
        var u = new Error("Cannot find module '" + s + "'");
        throw u.code = "MODULE_NOT_FOUND", u;
      }

      var h = r[s] = {
        exports: {}
      };
      t[s][0].call(h.exports, function (e) {
        return n(t[s][1][e] || e);
      }, h, h.exports, e, t, r, i);
    }

    return r[s].exports;
  }

  for (var a = "function" == typeof require && require, s = 0; s < i.length; s++) {
    n(i[s]);
  }

  return n;
}({
  1: [function (e, t, r) {
    "use strict";

    var i = r;
    i.bignum = e("bn.js"), i.define = e("./asn1/api").define, i.base = e("./asn1/base"), i.constants = e("./asn1/constants"), i.decoders = e("./asn1/decoders"), i.encoders = e("./asn1/encoders");
  }, {
    "./asn1/api": 2,
    "./asn1/base": 4,
    "./asn1/constants": 8,
    "./asn1/decoders": 10,
    "./asn1/encoders": 13,
    "bn.js": 15
  }],
  2: [function (e, t, r) {
    "use strict";

    var i = e("./encoders"),
        n = e("./decoders"),
        a = e("inherits");

    function s(e, t) {
      this.name = e, this.body = t, this.decoders = {}, this.encoders = {};
    }

    r.define = function (e, t) {
      return new s(e, t);
    }, s.prototype._createNamed = function (e) {
      var t = this.name;

      function r(e) {
        this._initNamed(e, t);
      }

      return a(r, e), r.prototype._initNamed = function (t, r) {
        e.call(this, t, r);
      }, new r(this);
    }, s.prototype._getDecoder = function (e) {
      return e = e || "der", this.decoders.hasOwnProperty(e) || (this.decoders[e] = this._createNamed(n[e])), this.decoders[e];
    }, s.prototype.decode = function (e, t, r) {
      return this._getDecoder(t).decode(e, r);
    }, s.prototype._getEncoder = function (e) {
      return e = e || "der", this.encoders.hasOwnProperty(e) || (this.encoders[e] = this._createNamed(i[e])), this.encoders[e];
    }, s.prototype.encode = function (e, t, r) {
      return this._getEncoder(t).encode(e, r);
    };
  }, {
    "./decoders": 10,
    "./encoders": 13,
    inherits: 135
  }],
  3: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("../base/reporter").Reporter,
        a = e("safer-buffer").Buffer;

    function s(e, t) {
      n.call(this, t), a.isBuffer(e) ? (this.base = e, this.offset = 0, this.length = e.length) : this.error("Input not Buffer");
    }

    function o(e, t) {
      if (Array.isArray(e)) this.length = 0, this.value = e.map(function (e) {
        return o.isEncoderBuffer(e) || (e = new o(e, t)), this.length += e.length, e;
      }, this);else if ("number" == typeof e) {
        if (!(0 <= e && e <= 255)) return t.error("non-byte EncoderBuffer value");
        this.value = e, this.length = 1;
      } else if ("string" == typeof e) this.value = e, this.length = a.byteLength(e);else {
        if (!a.isBuffer(e)) return t.error("Unsupported type: " + _typeof(e));
        this.value = e, this.length = e.length;
      }
    }

    i(s, n), r.DecoderBuffer = s, s.isDecoderBuffer = function (e) {
      if (e instanceof s) return !0;
      return "object" == _typeof(e) && a.isBuffer(e.base) && "DecoderBuffer" === e.constructor.name && "number" == typeof e.offset && "number" == typeof e.length && "function" == typeof e.save && "function" == typeof e.restore && "function" == typeof e.isEmpty && "function" == typeof e.readUInt8 && "function" == typeof e.skip && "function" == typeof e.raw;
    }, s.prototype.save = function () {
      return {
        offset: this.offset,
        reporter: n.prototype.save.call(this)
      };
    }, s.prototype.restore = function (e) {
      var t = new s(this.base);
      return t.offset = e.offset, t.length = this.offset, this.offset = e.offset, n.prototype.restore.call(this, e.reporter), t;
    }, s.prototype.isEmpty = function () {
      return this.offset === this.length;
    }, s.prototype.readUInt8 = function (e) {
      return this.offset + 1 <= this.length ? this.base.readUInt8(this.offset++, !0) : this.error(e || "DecoderBuffer overrun");
    }, s.prototype.skip = function (e, t) {
      if (!(this.offset + e <= this.length)) return this.error(t || "DecoderBuffer overrun");
      var r = new s(this.base);
      return r._reporterState = this._reporterState, r.offset = this.offset, r.length = this.offset + e, this.offset += e, r;
    }, s.prototype.raw = function (e) {
      return this.base.slice(e ? e.offset : this.offset, this.length);
    }, r.EncoderBuffer = o, o.isEncoderBuffer = function (e) {
      if (e instanceof o) return !0;
      return "object" == _typeof(e) && "EncoderBuffer" === e.constructor.name && "number" == typeof e.length && "function" == typeof e.join;
    }, o.prototype.join = function (e, t) {
      return e || (e = a.alloc(this.length)), t || (t = 0), 0 === this.length || (Array.isArray(this.value) ? this.value.forEach(function (r) {
        r.join(e, t), t += r.length;
      }) : ("number" == typeof this.value ? e[t] = this.value : "string" == typeof this.value ? e.write(this.value, t) : a.isBuffer(this.value) && this.value.copy(e, t), t += this.length)), e;
    };
  }, {
    "../base/reporter": 6,
    inherits: 135,
    "safer-buffer": 184
  }],
  4: [function (e, t, r) {
    "use strict";

    var i = r;
    i.Reporter = e("./reporter").Reporter, i.DecoderBuffer = e("./buffer").DecoderBuffer, i.EncoderBuffer = e("./buffer").EncoderBuffer, i.Node = e("./node");
  }, {
    "./buffer": 3,
    "./node": 5,
    "./reporter": 6
  }],
  5: [function (e, t, r) {
    "use strict";

    var i = e("../base/reporter").Reporter,
        n = e("../base/buffer").EncoderBuffer,
        a = e("../base/buffer").DecoderBuffer,
        s = e("minimalistic-assert"),
        o = ["seq", "seqof", "set", "setof", "objid", "bool", "gentime", "utctime", "null_", "enum", "int", "objDesc", "bitstr", "bmpstr", "charstr", "genstr", "graphstr", "ia5str", "iso646str", "numstr", "octstr", "printstr", "t61str", "unistr", "utf8str", "videostr"],
        f = ["key", "obj", "use", "optional", "explicit", "implicit", "def", "choice", "any", "contains"].concat(o);

    function u(e, t, r) {
      var i = {};
      this._baseState = i, i.name = r, i.enc = e, i.parent = t || null, i.children = null, i.tag = null, i.args = null, i.reverseArgs = null, i.choice = null, i.optional = !1, i.any = !1, i.obj = !1, i.use = null, i.useDecoder = null, i.key = null, i["default"] = null, i.explicit = null, i.implicit = null, i.contains = null, i.parent || (i.children = [], this._wrap());
    }

    t.exports = u;
    var h = ["enc", "parent", "children", "tag", "args", "reverseArgs", "choice", "optional", "any", "obj", "use", "alteredUse", "key", "default", "explicit", "implicit", "contains"];
    u.prototype.clone = function () {
      var e = this._baseState,
          t = {};
      h.forEach(function (r) {
        t[r] = e[r];
      });
      var r = new this.constructor(t.parent);
      return r._baseState = t, r;
    }, u.prototype._wrap = function () {
      var e = this._baseState;
      f.forEach(function (t) {
        this[t] = function () {
          var r = new this.constructor(this);
          return e.children.push(r), r[t].apply(r, arguments);
        };
      }, this);
    }, u.prototype._init = function (e) {
      var t = this._baseState;
      s(null === t.parent), e.call(this), t.children = t.children.filter(function (e) {
        return e._baseState.parent === this;
      }, this), s.equal(t.children.length, 1, "Root node can have only one child");
    }, u.prototype._useArgs = function (e) {
      var t = this._baseState,
          r = e.filter(function (e) {
        return e instanceof this.constructor;
      }, this);
      e = e.filter(function (e) {
        return !(e instanceof this.constructor);
      }, this), 0 !== r.length && (s(null === t.children), t.children = r, r.forEach(function (e) {
        e._baseState.parent = this;
      }, this)), 0 !== e.length && (s(null === t.args), t.args = e, t.reverseArgs = e.map(function (e) {
        if ("object" != _typeof(e) || e.constructor !== Object) return e;
        var t = {};
        return Object.keys(e).forEach(function (r) {
          r == (0 | r) && (r |= 0);
          var i = e[r];
          t[i] = r;
        }), t;
      }));
    }, ["_peekTag", "_decodeTag", "_use", "_decodeStr", "_decodeObjid", "_decodeTime", "_decodeNull", "_decodeInt", "_decodeBool", "_decodeList", "_encodeComposite", "_encodeStr", "_encodeObjid", "_encodeTime", "_encodeNull", "_encodeInt", "_encodeBool"].forEach(function (e) {
      u.prototype[e] = function () {
        var t = this._baseState;
        throw new Error(e + " not implemented for encoding: " + t.enc);
      };
    }), o.forEach(function (e) {
      u.prototype[e] = function () {
        var t = this._baseState,
            r = Array.prototype.slice.call(arguments);
        return s(null === t.tag), t.tag = e, this._useArgs(r), this;
      };
    }), u.prototype.use = function (e) {
      s(e);
      var t = this._baseState;
      return s(null === t.use), t.use = e, this;
    }, u.prototype.optional = function () {
      return this._baseState.optional = !0, this;
    }, u.prototype.def = function (e) {
      var t = this._baseState;
      return s(null === t["default"]), t["default"] = e, t.optional = !0, this;
    }, u.prototype.explicit = function (e) {
      var t = this._baseState;
      return s(null === t.explicit && null === t.implicit), t.explicit = e, this;
    }, u.prototype.implicit = function (e) {
      var t = this._baseState;
      return s(null === t.explicit && null === t.implicit), t.implicit = e, this;
    }, u.prototype.obj = function () {
      var e = this._baseState,
          t = Array.prototype.slice.call(arguments);
      return e.obj = !0, 0 !== t.length && this._useArgs(t), this;
    }, u.prototype.key = function (e) {
      var t = this._baseState;
      return s(null === t.key), t.key = e, this;
    }, u.prototype.any = function () {
      return this._baseState.any = !0, this;
    }, u.prototype.choice = function (e) {
      var t = this._baseState;
      return s(null === t.choice), t.choice = e, this._useArgs(Object.keys(e).map(function (t) {
        return e[t];
      })), this;
    }, u.prototype.contains = function (e) {
      var t = this._baseState;
      return s(null === t.use), t.contains = e, this;
    }, u.prototype._decode = function (e, t) {
      var r = this._baseState;
      if (null === r.parent) return e.wrapResult(r.children[0]._decode(e, t));
      var i,
          n = r["default"],
          s = !0,
          o = null;

      if (null !== r.key && (o = e.enterKey(r.key)), r.optional) {
        var _i = null;

        if (null !== r.explicit ? _i = r.explicit : null !== r.implicit ? _i = r.implicit : null !== r.tag && (_i = r.tag), null !== _i || r.any) {
          if (s = this._peekTag(e, _i, r.any), e.isError(s)) return s;
        } else {
          var _i2 = e.save();

          try {
            null === r.choice ? this._decodeGeneric(r.tag, e, t) : this._decodeChoice(e, t), s = !0;
          } catch (e) {
            s = !1;
          }

          e.restore(_i2);
        }
      }

      if (r.obj && s && (i = e.enterObject()), s) {
        if (null !== r.explicit) {
          var _t2 = this._decodeTag(e, r.explicit);

          if (e.isError(_t2)) return _t2;
          e = _t2;
        }

        var _i3 = e.offset;

        if (null === r.use && null === r.choice) {
          var _t3;

          r.any && (_t3 = e.save());

          var _i4 = this._decodeTag(e, null !== r.implicit ? r.implicit : r.tag, r.any);

          if (e.isError(_i4)) return _i4;
          r.any ? n = e.raw(_t3) : e = _i4;
        }

        if (t && t.track && null !== r.tag && t.track(e.path(), _i3, e.length, "tagged"), t && t.track && null !== r.tag && t.track(e.path(), e.offset, e.length, "content"), r.any || (n = null === r.choice ? this._decodeGeneric(r.tag, e, t) : this._decodeChoice(e, t)), e.isError(n)) return n;

        if (r.any || null !== r.choice || null === r.children || r.children.forEach(function (r) {
          r._decode(e, t);
        }), r.contains && ("octstr" === r.tag || "bitstr" === r.tag)) {
          var _i5 = new a(n);

          n = this._getUse(r.contains, e._reporterState.obj)._decode(_i5, t);
        }
      }

      return r.obj && s && (n = e.leaveObject(i)), null === r.key || null === n && !0 !== s ? null !== o && e.exitKey(o) : e.leaveKey(o, r.key, n), n;
    }, u.prototype._decodeGeneric = function (e, t, r) {
      var i = this._baseState;
      return "seq" === e || "set" === e ? null : "seqof" === e || "setof" === e ? this._decodeList(t, e, i.args[0], r) : /str$/.test(e) ? this._decodeStr(t, e, r) : "objid" === e && i.args ? this._decodeObjid(t, i.args[0], i.args[1], r) : "objid" === e ? this._decodeObjid(t, null, null, r) : "gentime" === e || "utctime" === e ? this._decodeTime(t, e, r) : "null_" === e ? this._decodeNull(t, r) : "bool" === e ? this._decodeBool(t, r) : "objDesc" === e ? this._decodeStr(t, e, r) : "int" === e || "enum" === e ? this._decodeInt(t, i.args && i.args[0], r) : null !== i.use ? this._getUse(i.use, t._reporterState.obj)._decode(t, r) : t.error("unknown tag: " + e);
    }, u.prototype._getUse = function (e, t) {
      var r = this._baseState;
      return r.useDecoder = this._use(e, t), s(null === r.useDecoder._baseState.parent), r.useDecoder = r.useDecoder._baseState.children[0], r.implicit !== r.useDecoder._baseState.implicit && (r.useDecoder = r.useDecoder.clone(), r.useDecoder._baseState.implicit = r.implicit), r.useDecoder;
    }, u.prototype._decodeChoice = function (e, t) {
      var r = this._baseState;
      var i = null,
          n = !1;
      return Object.keys(r.choice).some(function (a) {
        var s = e.save(),
            o = r.choice[a];

        try {
          var _r2 = o._decode(e, t);

          if (e.isError(_r2)) return !1;
          i = {
            type: a,
            value: _r2
          }, n = !0;
        } catch (t) {
          return e.restore(s), !1;
        }

        return !0;
      }, this), n ? i : e.error("Choice not matched");
    }, u.prototype._createEncoderBuffer = function (e) {
      return new n(e, this.reporter);
    }, u.prototype._encode = function (e, t, r) {
      var i = this._baseState;
      if (null !== i["default"] && i["default"] === e) return;

      var n = this._encodeValue(e, t, r);

      return void 0 === n || this._skipDefault(n, t, r) ? void 0 : n;
    }, u.prototype._encodeValue = function (e, t, r) {
      var n = this._baseState;
      if (null === n.parent) return n.children[0]._encode(e, t || new i());
      var a = null;

      if (this.reporter = t, n.optional && void 0 === e) {
        if (null === n["default"]) return;
        e = n["default"];
      }

      var s = null,
          o = !1;
      if (n.any) a = this._createEncoderBuffer(e);else if (n.choice) a = this._encodeChoice(e, t);else if (n.contains) s = this._getUse(n.contains, r)._encode(e, t), o = !0;else if (n.children) s = n.children.map(function (r) {
        if ("null_" === r._baseState.tag) return r._encode(null, t, e);
        if (null === r._baseState.key) return t.error("Child should have a key");
        var i = t.enterKey(r._baseState.key);
        if ("object" != _typeof(e)) return t.error("Child expected, but input is not object");

        var n = r._encode(e[r._baseState.key], t, e);

        return t.leaveKey(i), n;
      }, this).filter(function (e) {
        return e;
      }), s = this._createEncoderBuffer(s);else if ("seqof" === n.tag || "setof" === n.tag) {
        if (!n.args || 1 !== n.args.length) return t.error("Too many args for : " + n.tag);
        if (!Array.isArray(e)) return t.error("seqof/setof, but data is not Array");

        var _r3 = this.clone();

        _r3._baseState.implicit = null, s = this._createEncoderBuffer(e.map(function (r) {
          var i = this._baseState;
          return this._getUse(i.args[0], e)._encode(r, t);
        }, _r3));
      } else null !== n.use ? a = this._getUse(n.use, r)._encode(e, t) : (s = this._encodePrimitive(n.tag, e), o = !0);

      if (!n.any && null === n.choice) {
        var _e2 = null !== n.implicit ? n.implicit : n.tag,
            _r4 = null === n.implicit ? "universal" : "context";

        null === _e2 ? null === n.use && t.error("Tag could be omitted only for .use()") : null === n.use && (a = this._encodeComposite(_e2, o, _r4, s));
      }

      return null !== n.explicit && (a = this._encodeComposite(n.explicit, !1, "context", a)), a;
    }, u.prototype._encodeChoice = function (e, t) {
      var r = this._baseState,
          i = r.choice[e.type];
      return i || s(!1, e.type + " not found in " + JSON.stringify(Object.keys(r.choice))), i._encode(e.value, t);
    }, u.prototype._encodePrimitive = function (e, t) {
      var r = this._baseState;
      if (/str$/.test(e)) return this._encodeStr(t, e);
      if ("objid" === e && r.args) return this._encodeObjid(t, r.reverseArgs[0], r.args[1]);
      if ("objid" === e) return this._encodeObjid(t, null, null);
      if ("gentime" === e || "utctime" === e) return this._encodeTime(t, e);
      if ("null_" === e) return this._encodeNull();
      if ("int" === e || "enum" === e) return this._encodeInt(t, r.args && r.reverseArgs[0]);
      if ("bool" === e) return this._encodeBool(t);
      if ("objDesc" === e) return this._encodeStr(t, e);
      throw new Error("Unsupported tag: " + e);
    }, u.prototype._isNumstr = function (e) {
      return /^[0-9 ]*$/.test(e);
    }, u.prototype._isPrintstr = function (e) {
      return /^[A-Za-z0-9 '()+,-./:=?]*$/.test(e);
    };
  }, {
    "../base/buffer": 3,
    "../base/reporter": 6,
    "minimalistic-assert": 141
  }],
  6: [function (e, t, r) {
    "use strict";

    var i = e("inherits");

    function n(e) {
      this._reporterState = {
        obj: null,
        path: [],
        options: e || {},
        errors: []
      };
    }

    function a(e, t) {
      this.path = e, this.rethrow(t);
    }

    r.Reporter = n, n.prototype.isError = function (e) {
      return e instanceof a;
    }, n.prototype.save = function () {
      var e = this._reporterState;
      return {
        obj: e.obj,
        pathLen: e.path.length
      };
    }, n.prototype.restore = function (e) {
      var t = this._reporterState;
      t.obj = e.obj, t.path = t.path.slice(0, e.pathLen);
    }, n.prototype.enterKey = function (e) {
      return this._reporterState.path.push(e);
    }, n.prototype.exitKey = function (e) {
      var t = this._reporterState;
      t.path = t.path.slice(0, e - 1);
    }, n.prototype.leaveKey = function (e, t, r) {
      var i = this._reporterState;
      this.exitKey(e), null !== i.obj && (i.obj[t] = r);
    }, n.prototype.path = function () {
      return this._reporterState.path.join("/");
    }, n.prototype.enterObject = function () {
      var e = this._reporterState,
          t = e.obj;
      return e.obj = {}, t;
    }, n.prototype.leaveObject = function (e) {
      var t = this._reporterState,
          r = t.obj;
      return t.obj = e, r;
    }, n.prototype.error = function (e) {
      var t;
      var r = this._reporterState,
          i = e instanceof a;
      if (t = i ? e : new a(r.path.map(function (e) {
        return "[" + JSON.stringify(e) + "]";
      }).join(""), e.message || e, e.stack), !r.options.partial) throw t;
      return i || r.errors.push(t), t;
    }, n.prototype.wrapResult = function (e) {
      var t = this._reporterState;
      return t.options.partial ? {
        result: this.isError(e) ? null : e,
        errors: t.errors
      } : e;
    }, i(a, Error), a.prototype.rethrow = function (e) {
      if (this.message = e + " at: " + (this.path || "(shallow)"), Error.captureStackTrace && Error.captureStackTrace(this, a), !this.stack) try {
        throw new Error(this.message);
      } catch (e) {
        this.stack = e.stack;
      }
      return this;
    };
  }, {
    inherits: 135
  }],
  7: [function (e, t, r) {
    "use strict";

    function i(e) {
      var t = {};
      return Object.keys(e).forEach(function (r) {
        (0 | r) == r && (r |= 0);
        var i = e[r];
        t[i] = r;
      }), t;
    }

    r.tagClass = {
      0: "universal",
      1: "application",
      2: "context",
      3: "private"
    }, r.tagClassByName = i(r.tagClass), r.tag = {
      0: "end",
      1: "bool",
      2: "int",
      3: "bitstr",
      4: "octstr",
      5: "null_",
      6: "objid",
      7: "objDesc",
      8: "external",
      9: "real",
      10: "enum",
      11: "embed",
      12: "utf8str",
      13: "relativeOid",
      16: "seq",
      17: "set",
      18: "numstr",
      19: "printstr",
      20: "t61str",
      21: "videostr",
      22: "ia5str",
      23: "utctime",
      24: "gentime",
      25: "graphstr",
      26: "iso646str",
      27: "genstr",
      28: "unistr",
      29: "charstr",
      30: "bmpstr"
    }, r.tagByName = i(r.tag);
  }, {}],
  8: [function (e, t, r) {
    "use strict";

    var i = r;
    i._reverse = function (e) {
      var t = {};
      return Object.keys(e).forEach(function (r) {
        (0 | r) == r && (r |= 0);
        var i = e[r];
        t[i] = r;
      }), t;
    }, i.der = e("./der");
  }, {
    "./der": 7
  }],
  9: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("bn.js"),
        a = e("../base/buffer").DecoderBuffer,
        s = e("../base/node"),
        o = e("../constants/der");

    function f(e) {
      this.enc = "der", this.name = e.name, this.entity = e, this.tree = new u(), this.tree._init(e.body);
    }

    function u(e) {
      s.call(this, "der", e);
    }

    function h(e, t) {
      var r = e.readUInt8(t);
      if (e.isError(r)) return r;
      var i = o.tagClass[r >> 6],
          n = 0 == (32 & r);

      if (31 == (31 & r)) {
        var _i6 = r;

        for (r = 0; 128 == (128 & _i6);) {
          if (_i6 = e.readUInt8(t), e.isError(_i6)) return _i6;
          r <<= 7, r |= 127 & _i6;
        }
      } else r &= 31;

      return {
        cls: i,
        primitive: n,
        tag: r,
        tagStr: o.tag[r]
      };
    }

    function c(e, t, r) {
      var i = e.readUInt8(r);
      if (e.isError(i)) return i;
      if (!t && 128 === i) return null;
      if (0 == (128 & i)) return i;
      var n = 127 & i;
      if (n > 4) return e.error("length octect is too long");
      i = 0;

      for (var _t4 = 0; _t4 < n; _t4++) {
        i <<= 8;

        var _t5 = e.readUInt8(r);

        if (e.isError(_t5)) return _t5;
        i |= _t5;
      }

      return i;
    }

    t.exports = f, f.prototype.decode = function (e, t) {
      return a.isDecoderBuffer(e) || (e = new a(e, t)), this.tree._decode(e, t);
    }, i(u, s), u.prototype._peekTag = function (e, t, r) {
      if (e.isEmpty()) return !1;
      var i = e.save(),
          n = h(e, 'Failed to peek tag: "' + t + '"');
      return e.isError(n) ? n : (e.restore(i), n.tag === t || n.tagStr === t || n.tagStr + "of" === t || r);
    }, u.prototype._decodeTag = function (e, t, r) {
      var i = h(e, 'Failed to decode tag of "' + t + '"');
      if (e.isError(i)) return i;
      var n = c(e, i.primitive, 'Failed to get length of "' + t + '"');
      if (e.isError(n)) return n;
      if (!r && i.tag !== t && i.tagStr !== t && i.tagStr + "of" !== t) return e.error('Failed to match tag: "' + t + '"');
      if (i.primitive || null !== n) return e.skip(n, 'Failed to match body of: "' + t + '"');

      var a = e.save(),
          s = this._skipUntilEnd(e, 'Failed to skip indefinite length body: "' + this.tag + '"');

      return e.isError(s) ? s : (n = e.offset - a.offset, e.restore(a), e.skip(n, 'Failed to match body of: "' + t + '"'));
    }, u.prototype._skipUntilEnd = function (e, t) {
      for (;;) {
        var _r5 = h(e, t);

        if (e.isError(_r5)) return _r5;

        var _i7 = c(e, _r5.primitive, t);

        if (e.isError(_i7)) return _i7;

        var _n = void 0;

        if (_n = _r5.primitive || null !== _i7 ? e.skip(_i7) : this._skipUntilEnd(e, t), e.isError(_n)) return _n;
        if ("end" === _r5.tagStr) break;
      }
    }, u.prototype._decodeList = function (e, t, r, i) {
      var n = [];

      for (; !e.isEmpty();) {
        var _t6 = this._peekTag(e, "end");

        if (e.isError(_t6)) return _t6;

        var _a = r.decode(e, "der", i);

        if (e.isError(_a) && _t6) break;
        n.push(_a);
      }

      return n;
    }, u.prototype._decodeStr = function (e, t) {
      if ("bitstr" === t) {
        var _t7 = e.readUInt8();

        return e.isError(_t7) ? _t7 : {
          unused: _t7,
          data: e.raw()
        };
      }

      if ("bmpstr" === t) {
        var _t8 = e.raw();

        if (_t8.length % 2 == 1) return e.error("Decoding of string type: bmpstr length mismatch");
        var _r6 = "";

        for (var _e3 = 0; _e3 < _t8.length / 2; _e3++) {
          _r6 += String.fromCharCode(_t8.readUInt16BE(2 * _e3));
        }

        return _r6;
      }

      if ("numstr" === t) {
        var _t9 = e.raw().toString("ascii");

        return this._isNumstr(_t9) ? _t9 : e.error("Decoding of string type: numstr unsupported characters");
      }

      if ("octstr" === t) return e.raw();
      if ("objDesc" === t) return e.raw();

      if ("printstr" === t) {
        var _t10 = e.raw().toString("ascii");

        return this._isPrintstr(_t10) ? _t10 : e.error("Decoding of string type: printstr unsupported characters");
      }

      return /str$/.test(t) ? e.raw().toString() : e.error("Decoding of string type: " + t + " unsupported");
    }, u.prototype._decodeObjid = function (e, t, r) {
      var i;
      var n = [];
      var a = 0,
          s = 0;

      for (; !e.isEmpty();) {
        s = e.readUInt8(), a <<= 7, a |= 127 & s, 0 == (128 & s) && (n.push(a), a = 0);
      }

      128 & s && n.push(a);
      var o = n[0] / 40 | 0,
          f = n[0] % 40;

      if (i = r ? n : [o, f].concat(n.slice(1)), t) {
        var _e4 = t[i.join(" ")];
        void 0 === _e4 && (_e4 = t[i.join(".")]), void 0 !== _e4 && (i = _e4);
      }

      return i;
    }, u.prototype._decodeTime = function (e, t) {
      var r = e.raw().toString();
      var i, n, a, s, o, f;
      if ("gentime" === t) i = 0 | r.slice(0, 4), n = 0 | r.slice(4, 6), a = 0 | r.slice(6, 8), s = 0 | r.slice(8, 10), o = 0 | r.slice(10, 12), f = 0 | r.slice(12, 14);else {
        if ("utctime" !== t) return e.error("Decoding " + t + " time is not supported yet");
        i = 0 | r.slice(0, 2), n = 0 | r.slice(2, 4), a = 0 | r.slice(4, 6), s = 0 | r.slice(6, 8), o = 0 | r.slice(8, 10), f = 0 | r.slice(10, 12), i = i < 70 ? 2e3 + i : 1900 + i;
      }
      return Date.UTC(i, n - 1, a, s, o, f, 0);
    }, u.prototype._decodeNull = function () {
      return null;
    }, u.prototype._decodeBool = function (e) {
      var t = e.readUInt8();
      return e.isError(t) ? t : 0 !== t;
    }, u.prototype._decodeInt = function (e, t) {
      var r = e.raw();
      var i = new n(r);
      return t && (i = t[i.toString(10)] || i), i;
    }, u.prototype._use = function (e, t) {
      return "function" == typeof e && (e = e(t)), e._getDecoder("der").tree;
    };
  }, {
    "../base/buffer": 3,
    "../base/node": 5,
    "../constants/der": 7,
    "bn.js": 15,
    inherits: 135
  }],
  10: [function (e, t, r) {
    "use strict";

    var i = r;
    i.der = e("./der"), i.pem = e("./pem");
  }, {
    "./der": 9,
    "./pem": 11
  }],
  11: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("safer-buffer").Buffer,
        a = e("./der");

    function s(e) {
      a.call(this, e), this.enc = "pem";
    }

    i(s, a), t.exports = s, s.prototype.decode = function (e, t) {
      var r = e.toString().split(/[\r\n]+/g),
          i = t.label.toUpperCase(),
          s = /^-----(BEGIN|END) ([^-]+)-----$/;
      var o = -1,
          f = -1;

      for (var _e5 = 0; _e5 < r.length; _e5++) {
        var _t11 = r[_e5].match(s);

        if (null !== _t11 && _t11[2] === i) {
          if (-1 !== o) {
            if ("END" !== _t11[1]) break;
            f = _e5;
            break;
          }

          if ("BEGIN" !== _t11[1]) break;
          o = _e5;
        }
      }

      if (-1 === o || -1 === f) throw new Error("PEM section not found for: " + i);
      var u = r.slice(o + 1, f).join("");
      u.replace(/[^a-z0-9+/=]+/gi, "");
      var h = n.from(u, "base64");
      return a.prototype.decode.call(this, h, t);
    };
  }, {
    "./der": 9,
    inherits: 135,
    "safer-buffer": 184
  }],
  12: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("safer-buffer").Buffer,
        a = e("../base/node"),
        s = e("../constants/der");

    function o(e) {
      this.enc = "der", this.name = e.name, this.entity = e, this.tree = new f(), this.tree._init(e.body);
    }

    function f(e) {
      a.call(this, "der", e);
    }

    function u(e) {
      return e < 10 ? "0" + e : e;
    }

    t.exports = o, o.prototype.encode = function (e, t) {
      return this.tree._encode(e, t).join();
    }, i(f, a), f.prototype._encodeComposite = function (e, t, r, i) {
      var a = function (e, t, r, i) {
        var n;
        "seqof" === e ? e = "seq" : "setof" === e && (e = "set");
        if (s.tagByName.hasOwnProperty(e)) n = s.tagByName[e];else {
          if ("number" != typeof e || (0 | e) !== e) return i.error("Unknown tag: " + e);
          n = e;
        }
        if (n >= 31) return i.error("Multi-octet tag encoding unsupported");
        t || (n |= 32);
        return n |= s.tagClassByName[r || "universal"] << 6, n;
      }(e, t, r, this.reporter);

      if (i.length < 128) {
        var _e6 = n.alloc(2);

        return _e6[0] = a, _e6[1] = i.length, this._createEncoderBuffer([_e6, i]);
      }

      var o = 1;

      for (var _e7 = i.length; _e7 >= 256; _e7 >>= 8) {
        o++;
      }

      var f = n.alloc(2 + o);
      f[0] = a, f[1] = 128 | o;

      for (var _e8 = 1 + o, _t12 = i.length; _t12 > 0; _e8--, _t12 >>= 8) {
        f[_e8] = 255 & _t12;
      }

      return this._createEncoderBuffer([f, i]);
    }, f.prototype._encodeStr = function (e, t) {
      if ("bitstr" === t) return this._createEncoderBuffer([0 | e.unused, e.data]);

      if ("bmpstr" === t) {
        var _t13 = n.alloc(2 * e.length);

        for (var _r7 = 0; _r7 < e.length; _r7++) {
          _t13.writeUInt16BE(e.charCodeAt(_r7), 2 * _r7);
        }

        return this._createEncoderBuffer(_t13);
      }

      return "numstr" === t ? this._isNumstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: numstr supports only digits and space") : "printstr" === t ? this._isPrintstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark") : /str$/.test(t) || "objDesc" === t ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: " + t + " unsupported");
    }, f.prototype._encodeObjid = function (e, t, r) {
      if ("string" == typeof e) {
        if (!t) return this.reporter.error("string objid given, but no values map found");
        if (!t.hasOwnProperty(e)) return this.reporter.error("objid not found in values map");
        e = t[e].split(/[\s.]+/g);

        for (var _t14 = 0; _t14 < e.length; _t14++) {
          e[_t14] |= 0;
        }
      } else if (Array.isArray(e)) {
        e = e.slice();

        for (var _t15 = 0; _t15 < e.length; _t15++) {
          e[_t15] |= 0;
        }
      }

      if (!Array.isArray(e)) return this.reporter.error("objid() should be either array or string, got: " + JSON.stringify(e));

      if (!r) {
        if (e[1] >= 40) return this.reporter.error("Second objid identifier OOB");
        e.splice(0, 2, 40 * e[0] + e[1]);
      }

      var i = 0;

      for (var _t16 = 0; _t16 < e.length; _t16++) {
        var _r8 = e[_t16];

        for (i++; _r8 >= 128; _r8 >>= 7) {
          i++;
        }
      }

      var a = n.alloc(i);
      var s = a.length - 1;

      for (var _t17 = e.length - 1; _t17 >= 0; _t17--) {
        var _r9 = e[_t17];

        for (a[s--] = 127 & _r9; (_r9 >>= 7) > 0;) {
          a[s--] = 128 | 127 & _r9;
        }
      }

      return this._createEncoderBuffer(a);
    }, f.prototype._encodeTime = function (e, t) {
      var r;
      var i = new Date(e);
      return "gentime" === t ? r = [u(i.getUTCFullYear()), u(i.getUTCMonth() + 1), u(i.getUTCDate()), u(i.getUTCHours()), u(i.getUTCMinutes()), u(i.getUTCSeconds()), "Z"].join("") : "utctime" === t ? r = [u(i.getUTCFullYear() % 100), u(i.getUTCMonth() + 1), u(i.getUTCDate()), u(i.getUTCHours()), u(i.getUTCMinutes()), u(i.getUTCSeconds()), "Z"].join("") : this.reporter.error("Encoding " + t + " time is not supported yet"), this._encodeStr(r, "octstr");
    }, f.prototype._encodeNull = function () {
      return this._createEncoderBuffer("");
    }, f.prototype._encodeInt = function (e, t) {
      if ("string" == typeof e) {
        if (!t) return this.reporter.error("String int or enum given, but no values map");
        if (!t.hasOwnProperty(e)) return this.reporter.error("Values map doesn't contain: " + JSON.stringify(e));
        e = t[e];
      }

      if ("number" != typeof e && !n.isBuffer(e)) {
        var _t18 = e.toArray();

        !e.sign && 128 & _t18[0] && _t18.unshift(0), e = n.from(_t18);
      }

      if (n.isBuffer(e)) {
        var _t19 = e.length;
        0 === e.length && _t19++;

        var _r10 = n.alloc(_t19);

        return e.copy(_r10), 0 === e.length && (_r10[0] = 0), this._createEncoderBuffer(_r10);
      }

      if (e < 128) return this._createEncoderBuffer(e);
      if (e < 256) return this._createEncoderBuffer([0, e]);
      var r = 1;

      for (var _t20 = e; _t20 >= 256; _t20 >>= 8) {
        r++;
      }

      var i = new Array(r);

      for (var _t21 = i.length - 1; _t21 >= 0; _t21--) {
        i[_t21] = 255 & e, e >>= 8;
      }

      return 128 & i[0] && i.unshift(0), this._createEncoderBuffer(n.from(i));
    }, f.prototype._encodeBool = function (e) {
      return this._createEncoderBuffer(e ? 255 : 0);
    }, f.prototype._use = function (e, t) {
      return "function" == typeof e && (e = e(t)), e._getEncoder("der").tree;
    }, f.prototype._skipDefault = function (e, t, r) {
      var i = this._baseState;
      var n;
      if (null === i["default"]) return !1;
      var a = e.join();
      if (void 0 === i.defaultBuffer && (i.defaultBuffer = this._encodeValue(i["default"], t, r).join()), a.length !== i.defaultBuffer.length) return !1;

      for (n = 0; n < a.length; n++) {
        if (a[n] !== i.defaultBuffer[n]) return !1;
      }

      return !0;
    };
  }, {
    "../base/node": 5,
    "../constants/der": 7,
    inherits: 135,
    "safer-buffer": 184
  }],
  13: [function (e, t, r) {
    "use strict";

    var i = r;
    i.der = e("./der"), i.pem = e("./pem");
  }, {
    "./der": 12,
    "./pem": 14
  }],
  14: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("./der");

    function a(e) {
      n.call(this, e), this.enc = "pem";
    }

    i(a, n), t.exports = a, a.prototype.encode = function (e, t) {
      var r = n.prototype.encode.call(this, e).toString("base64"),
          i = ["-----BEGIN " + t.label + "-----"];

      for (var _e9 = 0; _e9 < r.length; _e9 += 64) {
        i.push(r.slice(_e9, _e9 + 64));
      }

      return i.push("-----END " + t.label + "-----"), i.join("\n");
    };
  }, {
    "./der": 12,
    inherits: 135
  }],
  15: [function (e, t, r) {
    !function (t, r) {
      "use strict";

      function i(e, t) {
        if (!e) throw new Error(t || "Assertion failed");
      }

      function n(e, t) {
        e.super_ = t;

        var r = function r() {};

        r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
      }

      function a(e, t, r) {
        if (a.isBN(e)) return e;
        this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== e && ("le" !== t && "be" !== t || (r = t, t = 10), this._init(e || 0, t || 10, r || "be"));
      }

      var s;
      "object" == _typeof(t) ? t.exports = a : r.BN = a, a.BN = a, a.wordSize = 26;

      try {
        s = e("buffer").Buffer;
      } catch (e) {}

      function o(e, t, r) {
        for (var i = 0, n = Math.min(e.length, r), a = t; a < n; a++) {
          var s = e.charCodeAt(a) - 48;
          i <<= 4, i |= s >= 49 && s <= 54 ? s - 49 + 10 : s >= 17 && s <= 22 ? s - 17 + 10 : 15 & s;
        }

        return i;
      }

      function f(e, t, r, i) {
        for (var n = 0, a = Math.min(e.length, r), s = t; s < a; s++) {
          var o = e.charCodeAt(s) - 48;
          n *= i, n += o >= 49 ? o - 49 + 10 : o >= 17 ? o - 17 + 10 : o;
        }

        return n;
      }

      a.isBN = function (e) {
        return e instanceof a || null !== e && "object" == _typeof(e) && e.constructor.wordSize === a.wordSize && Array.isArray(e.words);
      }, a.max = function (e, t) {
        return e.cmp(t) > 0 ? e : t;
      }, a.min = function (e, t) {
        return e.cmp(t) < 0 ? e : t;
      }, a.prototype._init = function (e, t, r) {
        if ("number" == typeof e) return this._initNumber(e, t, r);
        if ("object" == _typeof(e)) return this._initArray(e, t, r);
        "hex" === t && (t = 16), i(t === (0 | t) && t >= 2 && t <= 36);
        var n = 0;
        "-" === (e = e.toString().replace(/\s+/g, ""))[0] && n++, 16 === t ? this._parseHex(e, n) : this._parseBase(e, t, n), "-" === e[0] && (this.negative = 1), this.strip(), "le" === r && this._initArray(this.toArray(), t, r);
      }, a.prototype._initNumber = function (e, t, r) {
        e < 0 && (this.negative = 1, e = -e), e < 67108864 ? (this.words = [67108863 & e], this.length = 1) : e < 4503599627370496 ? (this.words = [67108863 & e, e / 67108864 & 67108863], this.length = 2) : (i(e < 9007199254740992), this.words = [67108863 & e, e / 67108864 & 67108863, 1], this.length = 3), "le" === r && this._initArray(this.toArray(), t, r);
      }, a.prototype._initArray = function (e, t, r) {
        if (i("number" == typeof e.length), e.length <= 0) return this.words = [0], this.length = 1, this;
        this.length = Math.ceil(e.length / 3), this.words = new Array(this.length);

        for (var n = 0; n < this.length; n++) {
          this.words[n] = 0;
        }

        var a,
            s,
            o = 0;
        if ("be" === r) for (n = e.length - 1, a = 0; n >= 0; n -= 3) {
          s = e[n] | e[n - 1] << 8 | e[n - 2] << 16, this.words[a] |= s << o & 67108863, this.words[a + 1] = s >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, a++);
        } else if ("le" === r) for (n = 0, a = 0; n < e.length; n += 3) {
          s = e[n] | e[n + 1] << 8 | e[n + 2] << 16, this.words[a] |= s << o & 67108863, this.words[a + 1] = s >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, a++);
        }
        return this.strip();
      }, a.prototype._parseHex = function (e, t) {
        this.length = Math.ceil((e.length - t) / 6), this.words = new Array(this.length);

        for (var r = 0; r < this.length; r++) {
          this.words[r] = 0;
        }

        var i,
            n,
            a = 0;

        for (r = e.length - 6, i = 0; r >= t; r -= 6) {
          n = o(e, r, r + 6), this.words[i] |= n << a & 67108863, this.words[i + 1] |= n >>> 26 - a & 4194303, (a += 24) >= 26 && (a -= 26, i++);
        }

        r + 6 !== t && (n = o(e, t, r + 6), this.words[i] |= n << a & 67108863, this.words[i + 1] |= n >>> 26 - a & 4194303), this.strip();
      }, a.prototype._parseBase = function (e, t, r) {
        this.words = [0], this.length = 1;

        for (var i = 0, n = 1; n <= 67108863; n *= t) {
          i++;
        }

        i--, n = n / t | 0;

        for (var a = e.length - r, s = a % i, o = Math.min(a, a - s) + r, u = 0, h = r; h < o; h += i) {
          u = f(e, h, h + i, t), this.imuln(n), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);
        }

        if (0 !== s) {
          var c = 1;

          for (u = f(e, h, e.length, t), h = 0; h < s; h++) {
            c *= t;
          }

          this.imuln(c), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);
        }
      }, a.prototype.copy = function (e) {
        e.words = new Array(this.length);

        for (var t = 0; t < this.length; t++) {
          e.words[t] = this.words[t];
        }

        e.length = this.length, e.negative = this.negative, e.red = this.red;
      }, a.prototype.clone = function () {
        var e = new a(null);
        return this.copy(e), e;
      }, a.prototype._expand = function (e) {
        for (; this.length < e;) {
          this.words[this.length++] = 0;
        }

        return this;
      }, a.prototype.strip = function () {
        for (; this.length > 1 && 0 === this.words[this.length - 1];) {
          this.length--;
        }

        return this._normSign();
      }, a.prototype._normSign = function () {
        return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this;
      }, a.prototype.inspect = function () {
        return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
      };
      var u = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"],
          h = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
          c = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];

      function d(e, t, r) {
        r.negative = t.negative ^ e.negative;
        var i = e.length + t.length | 0;
        r.length = i, i = i - 1 | 0;
        var n = 0 | e.words[0],
            a = 0 | t.words[0],
            s = n * a,
            o = 67108863 & s,
            f = s / 67108864 | 0;
        r.words[0] = o;

        for (var u = 1; u < i; u++) {
          for (var h = f >>> 26, c = 67108863 & f, d = Math.min(u, t.length - 1), l = Math.max(0, u - e.length + 1); l <= d; l++) {
            var p = u - l | 0;
            h += (s = (n = 0 | e.words[p]) * (a = 0 | t.words[l]) + c) / 67108864 | 0, c = 67108863 & s;
          }

          r.words[u] = 0 | c, f = 0 | h;
        }

        return 0 !== f ? r.words[u] = 0 | f : r.length--, r.strip();
      }

      a.prototype.toString = function (e, t) {
        var r;

        if (t = 0 | t || 1, 16 === (e = e || 10) || "hex" === e) {
          r = "";

          for (var n = 0, a = 0, s = 0; s < this.length; s++) {
            var o = this.words[s],
                f = (16777215 & (o << n | a)).toString(16);
            r = 0 !== (a = o >>> 24 - n & 16777215) || s !== this.length - 1 ? u[6 - f.length] + f + r : f + r, (n += 2) >= 26 && (n -= 26, s--);
          }

          for (0 !== a && (r = a.toString(16) + r); r.length % t != 0;) {
            r = "0" + r;
          }

          return 0 !== this.negative && (r = "-" + r), r;
        }

        if (e === (0 | e) && e >= 2 && e <= 36) {
          var d = h[e],
              l = c[e];
          r = "";
          var p = this.clone();

          for (p.negative = 0; !p.isZero();) {
            var m = p.modn(l).toString(e);
            r = (p = p.idivn(l)).isZero() ? m + r : u[d - m.length] + m + r;
          }

          for (this.isZero() && (r = "0" + r); r.length % t != 0;) {
            r = "0" + r;
          }

          return 0 !== this.negative && (r = "-" + r), r;
        }

        i(!1, "Base should be between 2 and 36");
      }, a.prototype.toNumber = function () {
        var e = this.words[0];
        return 2 === this.length ? e += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? e += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -e : e;
      }, a.prototype.toJSON = function () {
        return this.toString(16);
      }, a.prototype.toBuffer = function (e, t) {
        return i(void 0 !== s), this.toArrayLike(s, e, t);
      }, a.prototype.toArray = function (e, t) {
        return this.toArrayLike(Array, e, t);
      }, a.prototype.toArrayLike = function (e, t, r) {
        var n = this.byteLength(),
            a = r || Math.max(1, n);
        i(n <= a, "byte array longer than desired length"), i(a > 0, "Requested array length <= 0"), this.strip();
        var s,
            o,
            f = "le" === t,
            u = new e(a),
            h = this.clone();

        if (f) {
          for (o = 0; !h.isZero(); o++) {
            s = h.andln(255), h.iushrn(8), u[o] = s;
          }

          for (; o < a; o++) {
            u[o] = 0;
          }
        } else {
          for (o = 0; o < a - n; o++) {
            u[o] = 0;
          }

          for (o = 0; !h.isZero(); o++) {
            s = h.andln(255), h.iushrn(8), u[a - o - 1] = s;
          }
        }

        return u;
      }, Math.clz32 ? a.prototype._countBits = function (e) {
        return 32 - Math.clz32(e);
      } : a.prototype._countBits = function (e) {
        var t = e,
            r = 0;
        return t >= 4096 && (r += 13, t >>>= 13), t >= 64 && (r += 7, t >>>= 7), t >= 8 && (r += 4, t >>>= 4), t >= 2 && (r += 2, t >>>= 2), r + t;
      }, a.prototype._zeroBits = function (e) {
        if (0 === e) return 26;
        var t = e,
            r = 0;
        return 0 == (8191 & t) && (r += 13, t >>>= 13), 0 == (127 & t) && (r += 7, t >>>= 7), 0 == (15 & t) && (r += 4, t >>>= 4), 0 == (3 & t) && (r += 2, t >>>= 2), 0 == (1 & t) && r++, r;
      }, a.prototype.bitLength = function () {
        var e = this.words[this.length - 1],
            t = this._countBits(e);

        return 26 * (this.length - 1) + t;
      }, a.prototype.zeroBits = function () {
        if (this.isZero()) return 0;

        for (var e = 0, t = 0; t < this.length; t++) {
          var r = this._zeroBits(this.words[t]);

          if (e += r, 26 !== r) break;
        }

        return e;
      }, a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }, a.prototype.toTwos = function (e) {
        return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone();
      }, a.prototype.fromTwos = function (e) {
        return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone();
      }, a.prototype.isNeg = function () {
        return 0 !== this.negative;
      }, a.prototype.neg = function () {
        return this.clone().ineg();
      }, a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }, a.prototype.iuor = function (e) {
        for (; this.length < e.length;) {
          this.words[this.length++] = 0;
        }

        for (var t = 0; t < e.length; t++) {
          this.words[t] = this.words[t] | e.words[t];
        }

        return this.strip();
      }, a.prototype.ior = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuor(e);
      }, a.prototype.or = function (e) {
        return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this);
      }, a.prototype.uor = function (e) {
        return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this);
      }, a.prototype.iuand = function (e) {
        var t;
        t = this.length > e.length ? e : this;

        for (var r = 0; r < t.length; r++) {
          this.words[r] = this.words[r] & e.words[r];
        }

        return this.length = t.length, this.strip();
      }, a.prototype.iand = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuand(e);
      }, a.prototype.and = function (e) {
        return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this);
      }, a.prototype.uand = function (e) {
        return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this);
      }, a.prototype.iuxor = function (e) {
        var t, r;
        this.length > e.length ? (t = this, r = e) : (t = e, r = this);

        for (var i = 0; i < r.length; i++) {
          this.words[i] = t.words[i] ^ r.words[i];
        }

        if (this !== t) for (; i < t.length; i++) {
          this.words[i] = t.words[i];
        }
        return this.length = t.length, this.strip();
      }, a.prototype.ixor = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuxor(e);
      }, a.prototype.xor = function (e) {
        return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this);
      }, a.prototype.uxor = function (e) {
        return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this);
      }, a.prototype.inotn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = 0 | Math.ceil(e / 26),
            r = e % 26;
        this._expand(t), r > 0 && t--;

        for (var n = 0; n < t; n++) {
          this.words[n] = 67108863 & ~this.words[n];
        }

        return r > 0 && (this.words[n] = ~this.words[n] & 67108863 >> 26 - r), this.strip();
      }, a.prototype.notn = function (e) {
        return this.clone().inotn(e);
      }, a.prototype.setn = function (e, t) {
        i("number" == typeof e && e >= 0);
        var r = e / 26 | 0,
            n = e % 26;
        return this._expand(r + 1), this.words[r] = t ? this.words[r] | 1 << n : this.words[r] & ~(1 << n), this.strip();
      }, a.prototype.iadd = function (e) {
        var t, r, i;
        if (0 !== this.negative && 0 === e.negative) return this.negative = 0, t = this.isub(e), this.negative ^= 1, this._normSign();
        if (0 === this.negative && 0 !== e.negative) return e.negative = 0, t = this.isub(e), e.negative = 1, t._normSign();
        this.length > e.length ? (r = this, i = e) : (r = e, i = this);

        for (var n = 0, a = 0; a < i.length; a++) {
          t = (0 | r.words[a]) + (0 | i.words[a]) + n, this.words[a] = 67108863 & t, n = t >>> 26;
        }

        for (; 0 !== n && a < r.length; a++) {
          t = (0 | r.words[a]) + n, this.words[a] = 67108863 & t, n = t >>> 26;
        }

        if (this.length = r.length, 0 !== n) this.words[this.length] = n, this.length++;else if (r !== this) for (; a < r.length; a++) {
          this.words[a] = r.words[a];
        }
        return this;
      }, a.prototype.add = function (e) {
        var t;
        return 0 !== e.negative && 0 === this.negative ? (e.negative = 0, t = this.sub(e), e.negative ^= 1, t) : 0 === e.negative && 0 !== this.negative ? (this.negative = 0, t = e.sub(this), this.negative = 1, t) : this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this);
      }, a.prototype.isub = function (e) {
        if (0 !== e.negative) {
          e.negative = 0;
          var t = this.iadd(e);
          return e.negative = 1, t._normSign();
        }

        if (0 !== this.negative) return this.negative = 0, this.iadd(e), this.negative = 1, this._normSign();
        var r,
            i,
            n = this.cmp(e);
        if (0 === n) return this.negative = 0, this.length = 1, this.words[0] = 0, this;
        n > 0 ? (r = this, i = e) : (r = e, i = this);

        for (var a = 0, s = 0; s < i.length; s++) {
          a = (t = (0 | r.words[s]) - (0 | i.words[s]) + a) >> 26, this.words[s] = 67108863 & t;
        }

        for (; 0 !== a && s < r.length; s++) {
          a = (t = (0 | r.words[s]) + a) >> 26, this.words[s] = 67108863 & t;
        }

        if (0 === a && s < r.length && r !== this) for (; s < r.length; s++) {
          this.words[s] = r.words[s];
        }
        return this.length = Math.max(this.length, s), r !== this && (this.negative = 1), this.strip();
      }, a.prototype.sub = function (e) {
        return this.clone().isub(e);
      };

      var l = function l(e, t, r) {
        var i,
            n,
            a,
            s = e.words,
            o = t.words,
            f = r.words,
            u = 0,
            h = 0 | s[0],
            c = 8191 & h,
            d = h >>> 13,
            l = 0 | s[1],
            p = 8191 & l,
            m = l >>> 13,
            b = 0 | s[2],
            y = 8191 & b,
            g = b >>> 13,
            _ = 0 | s[3],
            v = 8191 & _,
            w = _ >>> 13,
            E = 0 | s[4],
            S = 8191 & E,
            A = E >>> 13,
            x = 0 | s[5],
            M = 8191 & x,
            T = x >>> 13,
            k = 0 | s[6],
            P = 8191 & k,
            U = k >>> 13,
            I = 0 | s[7],
            C = 8191 & I,
            R = I >>> 13,
            B = 0 | s[8],
            D = 8191 & B,
            L = B >>> 13,
            F = 0 | s[9],
            N = 8191 & F,
            O = F >>> 13,
            z = 0 | o[0],
            j = 8191 & z,
            H = z >>> 13,
            V = 0 | o[1],
            Y = 8191 & V,
            q = V >>> 13,
            G = 0 | o[2],
            W = 8191 & G,
            K = G >>> 13,
            X = 0 | o[3],
            Z = 8191 & X,
            J = X >>> 13,
            Q = 0 | o[4],
            $ = 8191 & Q,
            ee = Q >>> 13,
            te = 0 | o[5],
            re = 8191 & te,
            ie = te >>> 13,
            ne = 0 | o[6],
            ae = 8191 & ne,
            se = ne >>> 13,
            oe = 0 | o[7],
            fe = 8191 & oe,
            ue = oe >>> 13,
            he = 0 | o[8],
            ce = 8191 & he,
            de = he >>> 13,
            le = 0 | o[9],
            pe = 8191 & le,
            me = le >>> 13;

        r.negative = e.negative ^ t.negative, r.length = 19;
        var be = (u + (i = Math.imul(c, j)) | 0) + ((8191 & (n = (n = Math.imul(c, H)) + Math.imul(d, j) | 0)) << 13) | 0;
        u = ((a = Math.imul(d, H)) + (n >>> 13) | 0) + (be >>> 26) | 0, be &= 67108863, i = Math.imul(p, j), n = (n = Math.imul(p, H)) + Math.imul(m, j) | 0, a = Math.imul(m, H);
        var ye = (u + (i = i + Math.imul(c, Y) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, q) | 0) + Math.imul(d, Y) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, q) | 0) + (n >>> 13) | 0) + (ye >>> 26) | 0, ye &= 67108863, i = Math.imul(y, j), n = (n = Math.imul(y, H)) + Math.imul(g, j) | 0, a = Math.imul(g, H), i = i + Math.imul(p, Y) | 0, n = (n = n + Math.imul(p, q) | 0) + Math.imul(m, Y) | 0, a = a + Math.imul(m, q) | 0;
        var ge = (u + (i = i + Math.imul(c, W) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, K) | 0) + Math.imul(d, W) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, K) | 0) + (n >>> 13) | 0) + (ge >>> 26) | 0, ge &= 67108863, i = Math.imul(v, j), n = (n = Math.imul(v, H)) + Math.imul(w, j) | 0, a = Math.imul(w, H), i = i + Math.imul(y, Y) | 0, n = (n = n + Math.imul(y, q) | 0) + Math.imul(g, Y) | 0, a = a + Math.imul(g, q) | 0, i = i + Math.imul(p, W) | 0, n = (n = n + Math.imul(p, K) | 0) + Math.imul(m, W) | 0, a = a + Math.imul(m, K) | 0;

        var _e = (u + (i = i + Math.imul(c, Z) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, J) | 0) + Math.imul(d, Z) | 0)) << 13) | 0;

        u = ((a = a + Math.imul(d, J) | 0) + (n >>> 13) | 0) + (_e >>> 26) | 0, _e &= 67108863, i = Math.imul(S, j), n = (n = Math.imul(S, H)) + Math.imul(A, j) | 0, a = Math.imul(A, H), i = i + Math.imul(v, Y) | 0, n = (n = n + Math.imul(v, q) | 0) + Math.imul(w, Y) | 0, a = a + Math.imul(w, q) | 0, i = i + Math.imul(y, W) | 0, n = (n = n + Math.imul(y, K) | 0) + Math.imul(g, W) | 0, a = a + Math.imul(g, K) | 0, i = i + Math.imul(p, Z) | 0, n = (n = n + Math.imul(p, J) | 0) + Math.imul(m, Z) | 0, a = a + Math.imul(m, J) | 0;
        var ve = (u + (i = i + Math.imul(c, $) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ee) | 0) + Math.imul(d, $) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ee) | 0) + (n >>> 13) | 0) + (ve >>> 26) | 0, ve &= 67108863, i = Math.imul(M, j), n = (n = Math.imul(M, H)) + Math.imul(T, j) | 0, a = Math.imul(T, H), i = i + Math.imul(S, Y) | 0, n = (n = n + Math.imul(S, q) | 0) + Math.imul(A, Y) | 0, a = a + Math.imul(A, q) | 0, i = i + Math.imul(v, W) | 0, n = (n = n + Math.imul(v, K) | 0) + Math.imul(w, W) | 0, a = a + Math.imul(w, K) | 0, i = i + Math.imul(y, Z) | 0, n = (n = n + Math.imul(y, J) | 0) + Math.imul(g, Z) | 0, a = a + Math.imul(g, J) | 0, i = i + Math.imul(p, $) | 0, n = (n = n + Math.imul(p, ee) | 0) + Math.imul(m, $) | 0, a = a + Math.imul(m, ee) | 0;
        var we = (u + (i = i + Math.imul(c, re) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ie) | 0) + Math.imul(d, re) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ie) | 0) + (n >>> 13) | 0) + (we >>> 26) | 0, we &= 67108863, i = Math.imul(P, j), n = (n = Math.imul(P, H)) + Math.imul(U, j) | 0, a = Math.imul(U, H), i = i + Math.imul(M, Y) | 0, n = (n = n + Math.imul(M, q) | 0) + Math.imul(T, Y) | 0, a = a + Math.imul(T, q) | 0, i = i + Math.imul(S, W) | 0, n = (n = n + Math.imul(S, K) | 0) + Math.imul(A, W) | 0, a = a + Math.imul(A, K) | 0, i = i + Math.imul(v, Z) | 0, n = (n = n + Math.imul(v, J) | 0) + Math.imul(w, Z) | 0, a = a + Math.imul(w, J) | 0, i = i + Math.imul(y, $) | 0, n = (n = n + Math.imul(y, ee) | 0) + Math.imul(g, $) | 0, a = a + Math.imul(g, ee) | 0, i = i + Math.imul(p, re) | 0, n = (n = n + Math.imul(p, ie) | 0) + Math.imul(m, re) | 0, a = a + Math.imul(m, ie) | 0;
        var Ee = (u + (i = i + Math.imul(c, ae) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, se) | 0) + Math.imul(d, ae) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, se) | 0) + (n >>> 13) | 0) + (Ee >>> 26) | 0, Ee &= 67108863, i = Math.imul(C, j), n = (n = Math.imul(C, H)) + Math.imul(R, j) | 0, a = Math.imul(R, H), i = i + Math.imul(P, Y) | 0, n = (n = n + Math.imul(P, q) | 0) + Math.imul(U, Y) | 0, a = a + Math.imul(U, q) | 0, i = i + Math.imul(M, W) | 0, n = (n = n + Math.imul(M, K) | 0) + Math.imul(T, W) | 0, a = a + Math.imul(T, K) | 0, i = i + Math.imul(S, Z) | 0, n = (n = n + Math.imul(S, J) | 0) + Math.imul(A, Z) | 0, a = a + Math.imul(A, J) | 0, i = i + Math.imul(v, $) | 0, n = (n = n + Math.imul(v, ee) | 0) + Math.imul(w, $) | 0, a = a + Math.imul(w, ee) | 0, i = i + Math.imul(y, re) | 0, n = (n = n + Math.imul(y, ie) | 0) + Math.imul(g, re) | 0, a = a + Math.imul(g, ie) | 0, i = i + Math.imul(p, ae) | 0, n = (n = n + Math.imul(p, se) | 0) + Math.imul(m, ae) | 0, a = a + Math.imul(m, se) | 0;
        var Se = (u + (i = i + Math.imul(c, fe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ue) | 0) + Math.imul(d, fe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ue) | 0) + (n >>> 13) | 0) + (Se >>> 26) | 0, Se &= 67108863, i = Math.imul(D, j), n = (n = Math.imul(D, H)) + Math.imul(L, j) | 0, a = Math.imul(L, H), i = i + Math.imul(C, Y) | 0, n = (n = n + Math.imul(C, q) | 0) + Math.imul(R, Y) | 0, a = a + Math.imul(R, q) | 0, i = i + Math.imul(P, W) | 0, n = (n = n + Math.imul(P, K) | 0) + Math.imul(U, W) | 0, a = a + Math.imul(U, K) | 0, i = i + Math.imul(M, Z) | 0, n = (n = n + Math.imul(M, J) | 0) + Math.imul(T, Z) | 0, a = a + Math.imul(T, J) | 0, i = i + Math.imul(S, $) | 0, n = (n = n + Math.imul(S, ee) | 0) + Math.imul(A, $) | 0, a = a + Math.imul(A, ee) | 0, i = i + Math.imul(v, re) | 0, n = (n = n + Math.imul(v, ie) | 0) + Math.imul(w, re) | 0, a = a + Math.imul(w, ie) | 0, i = i + Math.imul(y, ae) | 0, n = (n = n + Math.imul(y, se) | 0) + Math.imul(g, ae) | 0, a = a + Math.imul(g, se) | 0, i = i + Math.imul(p, fe) | 0, n = (n = n + Math.imul(p, ue) | 0) + Math.imul(m, fe) | 0, a = a + Math.imul(m, ue) | 0;
        var Ae = (u + (i = i + Math.imul(c, ce) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, de) | 0) + Math.imul(d, ce) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, de) | 0) + (n >>> 13) | 0) + (Ae >>> 26) | 0, Ae &= 67108863, i = Math.imul(N, j), n = (n = Math.imul(N, H)) + Math.imul(O, j) | 0, a = Math.imul(O, H), i = i + Math.imul(D, Y) | 0, n = (n = n + Math.imul(D, q) | 0) + Math.imul(L, Y) | 0, a = a + Math.imul(L, q) | 0, i = i + Math.imul(C, W) | 0, n = (n = n + Math.imul(C, K) | 0) + Math.imul(R, W) | 0, a = a + Math.imul(R, K) | 0, i = i + Math.imul(P, Z) | 0, n = (n = n + Math.imul(P, J) | 0) + Math.imul(U, Z) | 0, a = a + Math.imul(U, J) | 0, i = i + Math.imul(M, $) | 0, n = (n = n + Math.imul(M, ee) | 0) + Math.imul(T, $) | 0, a = a + Math.imul(T, ee) | 0, i = i + Math.imul(S, re) | 0, n = (n = n + Math.imul(S, ie) | 0) + Math.imul(A, re) | 0, a = a + Math.imul(A, ie) | 0, i = i + Math.imul(v, ae) | 0, n = (n = n + Math.imul(v, se) | 0) + Math.imul(w, ae) | 0, a = a + Math.imul(w, se) | 0, i = i + Math.imul(y, fe) | 0, n = (n = n + Math.imul(y, ue) | 0) + Math.imul(g, fe) | 0, a = a + Math.imul(g, ue) | 0, i = i + Math.imul(p, ce) | 0, n = (n = n + Math.imul(p, de) | 0) + Math.imul(m, ce) | 0, a = a + Math.imul(m, de) | 0;
        var xe = (u + (i = i + Math.imul(c, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, me) | 0) + Math.imul(d, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, me) | 0) + (n >>> 13) | 0) + (xe >>> 26) | 0, xe &= 67108863, i = Math.imul(N, Y), n = (n = Math.imul(N, q)) + Math.imul(O, Y) | 0, a = Math.imul(O, q), i = i + Math.imul(D, W) | 0, n = (n = n + Math.imul(D, K) | 0) + Math.imul(L, W) | 0, a = a + Math.imul(L, K) | 0, i = i + Math.imul(C, Z) | 0, n = (n = n + Math.imul(C, J) | 0) + Math.imul(R, Z) | 0, a = a + Math.imul(R, J) | 0, i = i + Math.imul(P, $) | 0, n = (n = n + Math.imul(P, ee) | 0) + Math.imul(U, $) | 0, a = a + Math.imul(U, ee) | 0, i = i + Math.imul(M, re) | 0, n = (n = n + Math.imul(M, ie) | 0) + Math.imul(T, re) | 0, a = a + Math.imul(T, ie) | 0, i = i + Math.imul(S, ae) | 0, n = (n = n + Math.imul(S, se) | 0) + Math.imul(A, ae) | 0, a = a + Math.imul(A, se) | 0, i = i + Math.imul(v, fe) | 0, n = (n = n + Math.imul(v, ue) | 0) + Math.imul(w, fe) | 0, a = a + Math.imul(w, ue) | 0, i = i + Math.imul(y, ce) | 0, n = (n = n + Math.imul(y, de) | 0) + Math.imul(g, ce) | 0, a = a + Math.imul(g, de) | 0;
        var Me = (u + (i = i + Math.imul(p, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(p, me) | 0) + Math.imul(m, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(m, me) | 0) + (n >>> 13) | 0) + (Me >>> 26) | 0, Me &= 67108863, i = Math.imul(N, W), n = (n = Math.imul(N, K)) + Math.imul(O, W) | 0, a = Math.imul(O, K), i = i + Math.imul(D, Z) | 0, n = (n = n + Math.imul(D, J) | 0) + Math.imul(L, Z) | 0, a = a + Math.imul(L, J) | 0, i = i + Math.imul(C, $) | 0, n = (n = n + Math.imul(C, ee) | 0) + Math.imul(R, $) | 0, a = a + Math.imul(R, ee) | 0, i = i + Math.imul(P, re) | 0, n = (n = n + Math.imul(P, ie) | 0) + Math.imul(U, re) | 0, a = a + Math.imul(U, ie) | 0, i = i + Math.imul(M, ae) | 0, n = (n = n + Math.imul(M, se) | 0) + Math.imul(T, ae) | 0, a = a + Math.imul(T, se) | 0, i = i + Math.imul(S, fe) | 0, n = (n = n + Math.imul(S, ue) | 0) + Math.imul(A, fe) | 0, a = a + Math.imul(A, ue) | 0, i = i + Math.imul(v, ce) | 0, n = (n = n + Math.imul(v, de) | 0) + Math.imul(w, ce) | 0, a = a + Math.imul(w, de) | 0;
        var Te = (u + (i = i + Math.imul(y, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(y, me) | 0) + Math.imul(g, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(g, me) | 0) + (n >>> 13) | 0) + (Te >>> 26) | 0, Te &= 67108863, i = Math.imul(N, Z), n = (n = Math.imul(N, J)) + Math.imul(O, Z) | 0, a = Math.imul(O, J), i = i + Math.imul(D, $) | 0, n = (n = n + Math.imul(D, ee) | 0) + Math.imul(L, $) | 0, a = a + Math.imul(L, ee) | 0, i = i + Math.imul(C, re) | 0, n = (n = n + Math.imul(C, ie) | 0) + Math.imul(R, re) | 0, a = a + Math.imul(R, ie) | 0, i = i + Math.imul(P, ae) | 0, n = (n = n + Math.imul(P, se) | 0) + Math.imul(U, ae) | 0, a = a + Math.imul(U, se) | 0, i = i + Math.imul(M, fe) | 0, n = (n = n + Math.imul(M, ue) | 0) + Math.imul(T, fe) | 0, a = a + Math.imul(T, ue) | 0, i = i + Math.imul(S, ce) | 0, n = (n = n + Math.imul(S, de) | 0) + Math.imul(A, ce) | 0, a = a + Math.imul(A, de) | 0;
        var ke = (u + (i = i + Math.imul(v, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(v, me) | 0) + Math.imul(w, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(w, me) | 0) + (n >>> 13) | 0) + (ke >>> 26) | 0, ke &= 67108863, i = Math.imul(N, $), n = (n = Math.imul(N, ee)) + Math.imul(O, $) | 0, a = Math.imul(O, ee), i = i + Math.imul(D, re) | 0, n = (n = n + Math.imul(D, ie) | 0) + Math.imul(L, re) | 0, a = a + Math.imul(L, ie) | 0, i = i + Math.imul(C, ae) | 0, n = (n = n + Math.imul(C, se) | 0) + Math.imul(R, ae) | 0, a = a + Math.imul(R, se) | 0, i = i + Math.imul(P, fe) | 0, n = (n = n + Math.imul(P, ue) | 0) + Math.imul(U, fe) | 0, a = a + Math.imul(U, ue) | 0, i = i + Math.imul(M, ce) | 0, n = (n = n + Math.imul(M, de) | 0) + Math.imul(T, ce) | 0, a = a + Math.imul(T, de) | 0;
        var Pe = (u + (i = i + Math.imul(S, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(S, me) | 0) + Math.imul(A, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(A, me) | 0) + (n >>> 13) | 0) + (Pe >>> 26) | 0, Pe &= 67108863, i = Math.imul(N, re), n = (n = Math.imul(N, ie)) + Math.imul(O, re) | 0, a = Math.imul(O, ie), i = i + Math.imul(D, ae) | 0, n = (n = n + Math.imul(D, se) | 0) + Math.imul(L, ae) | 0, a = a + Math.imul(L, se) | 0, i = i + Math.imul(C, fe) | 0, n = (n = n + Math.imul(C, ue) | 0) + Math.imul(R, fe) | 0, a = a + Math.imul(R, ue) | 0, i = i + Math.imul(P, ce) | 0, n = (n = n + Math.imul(P, de) | 0) + Math.imul(U, ce) | 0, a = a + Math.imul(U, de) | 0;
        var Ue = (u + (i = i + Math.imul(M, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(M, me) | 0) + Math.imul(T, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(T, me) | 0) + (n >>> 13) | 0) + (Ue >>> 26) | 0, Ue &= 67108863, i = Math.imul(N, ae), n = (n = Math.imul(N, se)) + Math.imul(O, ae) | 0, a = Math.imul(O, se), i = i + Math.imul(D, fe) | 0, n = (n = n + Math.imul(D, ue) | 0) + Math.imul(L, fe) | 0, a = a + Math.imul(L, ue) | 0, i = i + Math.imul(C, ce) | 0, n = (n = n + Math.imul(C, de) | 0) + Math.imul(R, ce) | 0, a = a + Math.imul(R, de) | 0;
        var Ie = (u + (i = i + Math.imul(P, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(P, me) | 0) + Math.imul(U, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(U, me) | 0) + (n >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, i = Math.imul(N, fe), n = (n = Math.imul(N, ue)) + Math.imul(O, fe) | 0, a = Math.imul(O, ue), i = i + Math.imul(D, ce) | 0, n = (n = n + Math.imul(D, de) | 0) + Math.imul(L, ce) | 0, a = a + Math.imul(L, de) | 0;
        var Ce = (u + (i = i + Math.imul(C, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(C, me) | 0) + Math.imul(R, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(R, me) | 0) + (n >>> 13) | 0) + (Ce >>> 26) | 0, Ce &= 67108863, i = Math.imul(N, ce), n = (n = Math.imul(N, de)) + Math.imul(O, ce) | 0, a = Math.imul(O, de);
        var Re = (u + (i = i + Math.imul(D, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(D, me) | 0) + Math.imul(L, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(L, me) | 0) + (n >>> 13) | 0) + (Re >>> 26) | 0, Re &= 67108863;
        var Be = (u + (i = Math.imul(N, pe)) | 0) + ((8191 & (n = (n = Math.imul(N, me)) + Math.imul(O, pe) | 0)) << 13) | 0;
        return u = ((a = Math.imul(O, me)) + (n >>> 13) | 0) + (Be >>> 26) | 0, Be &= 67108863, f[0] = be, f[1] = ye, f[2] = ge, f[3] = _e, f[4] = ve, f[5] = we, f[6] = Ee, f[7] = Se, f[8] = Ae, f[9] = xe, f[10] = Me, f[11] = Te, f[12] = ke, f[13] = Pe, f[14] = Ue, f[15] = Ie, f[16] = Ce, f[17] = Re, f[18] = Be, 0 !== u && (f[19] = u, r.length++), r;
      };

      function p(e, t, r) {
        return new m().mulp(e, t, r);
      }

      function m(e, t) {
        this.x = e, this.y = t;
      }

      Math.imul || (l = d), a.prototype.mulTo = function (e, t) {
        var r = this.length + e.length;
        return 10 === this.length && 10 === e.length ? l(this, e, t) : r < 63 ? d(this, e, t) : r < 1024 ? function (e, t, r) {
          r.negative = t.negative ^ e.negative, r.length = e.length + t.length;

          for (var i = 0, n = 0, a = 0; a < r.length - 1; a++) {
            var s = n;
            n = 0;

            for (var o = 67108863 & i, f = Math.min(a, t.length - 1), u = Math.max(0, a - e.length + 1); u <= f; u++) {
              var h = a - u,
                  c = (0 | e.words[h]) * (0 | t.words[u]),
                  d = 67108863 & c;
              o = 67108863 & (d = d + o | 0), n += (s = (s = s + (c / 67108864 | 0) | 0) + (d >>> 26) | 0) >>> 26, s &= 67108863;
            }

            r.words[a] = o, i = s, s = n;
          }

          return 0 !== i ? r.words[a] = i : r.length--, r.strip();
        }(this, e, t) : p(this, e, t);
      }, m.prototype.makeRBT = function (e) {
        for (var t = new Array(e), r = a.prototype._countBits(e) - 1, i = 0; i < e; i++) {
          t[i] = this.revBin(i, r, e);
        }

        return t;
      }, m.prototype.revBin = function (e, t, r) {
        if (0 === e || e === r - 1) return e;

        for (var i = 0, n = 0; n < t; n++) {
          i |= (1 & e) << t - n - 1, e >>= 1;
        }

        return i;
      }, m.prototype.permute = function (e, t, r, i, n, a) {
        for (var s = 0; s < a; s++) {
          i[s] = t[e[s]], n[s] = r[e[s]];
        }
      }, m.prototype.transform = function (e, t, r, i, n, a) {
        this.permute(a, e, t, r, i, n);

        for (var s = 1; s < n; s <<= 1) {
          for (var o = s << 1, f = Math.cos(2 * Math.PI / o), u = Math.sin(2 * Math.PI / o), h = 0; h < n; h += o) {
            for (var c = f, d = u, l = 0; l < s; l++) {
              var p = r[h + l],
                  m = i[h + l],
                  b = r[h + l + s],
                  y = i[h + l + s],
                  g = c * b - d * y;
              y = c * y + d * b, b = g, r[h + l] = p + b, i[h + l] = m + y, r[h + l + s] = p - b, i[h + l + s] = m - y, l !== o && (g = f * c - u * d, d = f * d + u * c, c = g);
            }
          }
        }
      }, m.prototype.guessLen13b = function (e, t) {
        var r = 1 | Math.max(t, e),
            i = 1 & r,
            n = 0;

        for (r = r / 2 | 0; r; r >>>= 1) {
          n++;
        }

        return 1 << n + 1 + i;
      }, m.prototype.conjugate = function (e, t, r) {
        if (!(r <= 1)) for (var i = 0; i < r / 2; i++) {
          var n = e[i];
          e[i] = e[r - i - 1], e[r - i - 1] = n, n = t[i], t[i] = -t[r - i - 1], t[r - i - 1] = -n;
        }
      }, m.prototype.normalize13b = function (e, t) {
        for (var r = 0, i = 0; i < t / 2; i++) {
          var n = 8192 * Math.round(e[2 * i + 1] / t) + Math.round(e[2 * i] / t) + r;
          e[i] = 67108863 & n, r = n < 67108864 ? 0 : n / 67108864 | 0;
        }

        return e;
      }, m.prototype.convert13b = function (e, t, r, n) {
        for (var a = 0, s = 0; s < t; s++) {
          a += 0 | e[s], r[2 * s] = 8191 & a, a >>>= 13, r[2 * s + 1] = 8191 & a, a >>>= 13;
        }

        for (s = 2 * t; s < n; ++s) {
          r[s] = 0;
        }

        i(0 === a), i(0 == (-8192 & a));
      }, m.prototype.stub = function (e) {
        for (var t = new Array(e), r = 0; r < e; r++) {
          t[r] = 0;
        }

        return t;
      }, m.prototype.mulp = function (e, t, r) {
        var i = 2 * this.guessLen13b(e.length, t.length),
            n = this.makeRBT(i),
            a = this.stub(i),
            s = new Array(i),
            o = new Array(i),
            f = new Array(i),
            u = new Array(i),
            h = new Array(i),
            c = new Array(i),
            d = r.words;
        d.length = i, this.convert13b(e.words, e.length, s, i), this.convert13b(t.words, t.length, u, i), this.transform(s, a, o, f, i, n), this.transform(u, a, h, c, i, n);

        for (var l = 0; l < i; l++) {
          var p = o[l] * h[l] - f[l] * c[l];
          f[l] = o[l] * c[l] + f[l] * h[l], o[l] = p;
        }

        return this.conjugate(o, f, i), this.transform(o, f, d, a, i, n), this.conjugate(d, a, i), this.normalize13b(d, i), r.negative = e.negative ^ t.negative, r.length = e.length + t.length, r.strip();
      }, a.prototype.mul = function (e) {
        var t = new a(null);
        return t.words = new Array(this.length + e.length), this.mulTo(e, t);
      }, a.prototype.mulf = function (e) {
        var t = new a(null);
        return t.words = new Array(this.length + e.length), p(this, e, t);
      }, a.prototype.imul = function (e) {
        return this.clone().mulTo(e, this);
      }, a.prototype.imuln = function (e) {
        i("number" == typeof e), i(e < 67108864);

        for (var t = 0, r = 0; r < this.length; r++) {
          var n = (0 | this.words[r]) * e,
              a = (67108863 & n) + (67108863 & t);
          t >>= 26, t += n / 67108864 | 0, t += a >>> 26, this.words[r] = 67108863 & a;
        }

        return 0 !== t && (this.words[r] = t, this.length++), this;
      }, a.prototype.muln = function (e) {
        return this.clone().imuln(e);
      }, a.prototype.sqr = function () {
        return this.mul(this);
      }, a.prototype.isqr = function () {
        return this.imul(this.clone());
      }, a.prototype.pow = function (e) {
        var t = function (e) {
          for (var t = new Array(e.bitLength()), r = 0; r < t.length; r++) {
            var i = r / 26 | 0,
                n = r % 26;
            t[r] = (e.words[i] & 1 << n) >>> n;
          }

          return t;
        }(e);

        if (0 === t.length) return new a(1);

        for (var r = this, i = 0; i < t.length && 0 === t[i]; i++, r = r.sqr()) {
          ;
        }

        if (++i < t.length) for (var n = r.sqr(); i < t.length; i++, n = n.sqr()) {
          0 !== t[i] && (r = r.mul(n));
        }
        return r;
      }, a.prototype.iushln = function (e) {
        i("number" == typeof e && e >= 0);
        var t,
            r = e % 26,
            n = (e - r) / 26,
            a = 67108863 >>> 26 - r << 26 - r;

        if (0 !== r) {
          var s = 0;

          for (t = 0; t < this.length; t++) {
            var o = this.words[t] & a,
                f = (0 | this.words[t]) - o << r;
            this.words[t] = f | s, s = o >>> 26 - r;
          }

          s && (this.words[t] = s, this.length++);
        }

        if (0 !== n) {
          for (t = this.length - 1; t >= 0; t--) {
            this.words[t + n] = this.words[t];
          }

          for (t = 0; t < n; t++) {
            this.words[t] = 0;
          }

          this.length += n;
        }

        return this.strip();
      }, a.prototype.ishln = function (e) {
        return i(0 === this.negative), this.iushln(e);
      }, a.prototype.iushrn = function (e, t, r) {
        var n;
        i("number" == typeof e && e >= 0), n = t ? (t - t % 26) / 26 : 0;
        var a = e % 26,
            s = Math.min((e - a) / 26, this.length),
            o = 67108863 ^ 67108863 >>> a << a,
            f = r;

        if (n -= s, n = Math.max(0, n), f) {
          for (var u = 0; u < s; u++) {
            f.words[u] = this.words[u];
          }

          f.length = s;
        }

        if (0 === s) ;else if (this.length > s) for (this.length -= s, u = 0; u < this.length; u++) {
          this.words[u] = this.words[u + s];
        } else this.words[0] = 0, this.length = 1;
        var h = 0;

        for (u = this.length - 1; u >= 0 && (0 !== h || u >= n); u--) {
          var c = 0 | this.words[u];
          this.words[u] = h << 26 - a | c >>> a, h = c & o;
        }

        return f && 0 !== h && (f.words[f.length++] = h), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip();
      }, a.prototype.ishrn = function (e, t, r) {
        return i(0 === this.negative), this.iushrn(e, t, r);
      }, a.prototype.shln = function (e) {
        return this.clone().ishln(e);
      }, a.prototype.ushln = function (e) {
        return this.clone().iushln(e);
      }, a.prototype.shrn = function (e) {
        return this.clone().ishrn(e);
      }, a.prototype.ushrn = function (e) {
        return this.clone().iushrn(e);
      }, a.prototype.testn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = e % 26,
            r = (e - t) / 26,
            n = 1 << t;
        return !(this.length <= r) && !!(this.words[r] & n);
      }, a.prototype.imaskn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = e % 26,
            r = (e - t) / 26;
        if (i(0 === this.negative, "imaskn works only with positive numbers"), this.length <= r) return this;

        if (0 !== t && r++, this.length = Math.min(r, this.length), 0 !== t) {
          var n = 67108863 ^ 67108863 >>> t << t;
          this.words[this.length - 1] &= n;
        }

        return this.strip();
      }, a.prototype.maskn = function (e) {
        return this.clone().imaskn(e);
      }, a.prototype.iaddn = function (e) {
        return i("number" == typeof e), i(e < 67108864), e < 0 ? this.isubn(-e) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < e ? (this.words[0] = e - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(e), this.negative = 1, this) : this._iaddn(e);
      }, a.prototype._iaddn = function (e) {
        this.words[0] += e;

        for (var t = 0; t < this.length && this.words[t] >= 67108864; t++) {
          this.words[t] -= 67108864, t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++;
        }

        return this.length = Math.max(this.length, t + 1), this;
      }, a.prototype.isubn = function (e) {
        if (i("number" == typeof e), i(e < 67108864), e < 0) return this.iaddn(-e);
        if (0 !== this.negative) return this.negative = 0, this.iaddn(e), this.negative = 1, this;
        if (this.words[0] -= e, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1;else for (var t = 0; t < this.length && this.words[t] < 0; t++) {
          this.words[t] += 67108864, this.words[t + 1] -= 1;
        }
        return this.strip();
      }, a.prototype.addn = function (e) {
        return this.clone().iaddn(e);
      }, a.prototype.subn = function (e) {
        return this.clone().isubn(e);
      }, a.prototype.iabs = function () {
        return this.negative = 0, this;
      }, a.prototype.abs = function () {
        return this.clone().iabs();
      }, a.prototype._ishlnsubmul = function (e, t, r) {
        var n,
            a,
            s = e.length + r;

        this._expand(s);

        var o = 0;

        for (n = 0; n < e.length; n++) {
          a = (0 | this.words[n + r]) + o;
          var f = (0 | e.words[n]) * t;
          o = ((a -= 67108863 & f) >> 26) - (f / 67108864 | 0), this.words[n + r] = 67108863 & a;
        }

        for (; n < this.length - r; n++) {
          o = (a = (0 | this.words[n + r]) + o) >> 26, this.words[n + r] = 67108863 & a;
        }

        if (0 === o) return this.strip();

        for (i(-1 === o), o = 0, n = 0; n < this.length; n++) {
          o = (a = -(0 | this.words[n]) + o) >> 26, this.words[n] = 67108863 & a;
        }

        return this.negative = 1, this.strip();
      }, a.prototype._wordDiv = function (e, t) {
        var r = (this.length, e.length),
            i = this.clone(),
            n = e,
            s = 0 | n.words[n.length - 1];
        0 !== (r = 26 - this._countBits(s)) && (n = n.ushln(r), i.iushln(r), s = 0 | n.words[n.length - 1]);
        var o,
            f = i.length - n.length;

        if ("mod" !== t) {
          (o = new a(null)).length = f + 1, o.words = new Array(o.length);

          for (var u = 0; u < o.length; u++) {
            o.words[u] = 0;
          }
        }

        var h = i.clone()._ishlnsubmul(n, 1, f);

        0 === h.negative && (i = h, o && (o.words[f] = 1));

        for (var c = f - 1; c >= 0; c--) {
          var d = 67108864 * (0 | i.words[n.length + c]) + (0 | i.words[n.length + c - 1]);

          for (d = Math.min(d / s | 0, 67108863), i._ishlnsubmul(n, d, c); 0 !== i.negative;) {
            d--, i.negative = 0, i._ishlnsubmul(n, 1, c), i.isZero() || (i.negative ^= 1);
          }

          o && (o.words[c] = d);
        }

        return o && o.strip(), i.strip(), "div" !== t && 0 !== r && i.iushrn(r), {
          div: o || null,
          mod: i
        };
      }, a.prototype.divmod = function (e, t, r) {
        return i(!e.isZero()), this.isZero() ? {
          div: new a(0),
          mod: new a(0)
        } : 0 !== this.negative && 0 === e.negative ? (o = this.neg().divmod(e, t), "mod" !== t && (n = o.div.neg()), "div" !== t && (s = o.mod.neg(), r && 0 !== s.negative && s.iadd(e)), {
          div: n,
          mod: s
        }) : 0 === this.negative && 0 !== e.negative ? (o = this.divmod(e.neg(), t), "mod" !== t && (n = o.div.neg()), {
          div: n,
          mod: o.mod
        }) : 0 != (this.negative & e.negative) ? (o = this.neg().divmod(e.neg(), t), "div" !== t && (s = o.mod.neg(), r && 0 !== s.negative && s.isub(e)), {
          div: o.div,
          mod: s
        }) : e.length > this.length || this.cmp(e) < 0 ? {
          div: new a(0),
          mod: this
        } : 1 === e.length ? "div" === t ? {
          div: this.divn(e.words[0]),
          mod: null
        } : "mod" === t ? {
          div: null,
          mod: new a(this.modn(e.words[0]))
        } : {
          div: this.divn(e.words[0]),
          mod: new a(this.modn(e.words[0]))
        } : this._wordDiv(e, t);
        var n, s, o;
      }, a.prototype.div = function (e) {
        return this.divmod(e, "div", !1).div;
      }, a.prototype.mod = function (e) {
        return this.divmod(e, "mod", !1).mod;
      }, a.prototype.umod = function (e) {
        return this.divmod(e, "mod", !0).mod;
      }, a.prototype.divRound = function (e) {
        var t = this.divmod(e);
        if (t.mod.isZero()) return t.div;
        var r = 0 !== t.div.negative ? t.mod.isub(e) : t.mod,
            i = e.ushrn(1),
            n = e.andln(1),
            a = r.cmp(i);
        return a < 0 || 1 === n && 0 === a ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1);
      }, a.prototype.modn = function (e) {
        i(e <= 67108863);

        for (var t = (1 << 26) % e, r = 0, n = this.length - 1; n >= 0; n--) {
          r = (t * r + (0 | this.words[n])) % e;
        }

        return r;
      }, a.prototype.idivn = function (e) {
        i(e <= 67108863);

        for (var t = 0, r = this.length - 1; r >= 0; r--) {
          var n = (0 | this.words[r]) + 67108864 * t;
          this.words[r] = n / e | 0, t = n % e;
        }

        return this.strip();
      }, a.prototype.divn = function (e) {
        return this.clone().idivn(e);
      }, a.prototype.egcd = function (e) {
        i(0 === e.negative), i(!e.isZero());
        var t = this,
            r = e.clone();
        t = 0 !== t.negative ? t.umod(e) : t.clone();

        for (var n = new a(1), s = new a(0), o = new a(0), f = new a(1), u = 0; t.isEven() && r.isEven();) {
          t.iushrn(1), r.iushrn(1), ++u;
        }

        for (var h = r.clone(), c = t.clone(); !t.isZero();) {
          for (var d = 0, l = 1; 0 == (t.words[0] & l) && d < 26; ++d, l <<= 1) {
            ;
          }

          if (d > 0) for (t.iushrn(d); d-- > 0;) {
            (n.isOdd() || s.isOdd()) && (n.iadd(h), s.isub(c)), n.iushrn(1), s.iushrn(1);
          }

          for (var p = 0, m = 1; 0 == (r.words[0] & m) && p < 26; ++p, m <<= 1) {
            ;
          }

          if (p > 0) for (r.iushrn(p); p-- > 0;) {
            (o.isOdd() || f.isOdd()) && (o.iadd(h), f.isub(c)), o.iushrn(1), f.iushrn(1);
          }
          t.cmp(r) >= 0 ? (t.isub(r), n.isub(o), s.isub(f)) : (r.isub(t), o.isub(n), f.isub(s));
        }

        return {
          a: o,
          b: f,
          gcd: r.iushln(u)
        };
      }, a.prototype._invmp = function (e) {
        i(0 === e.negative), i(!e.isZero());
        var t = this,
            r = e.clone();
        t = 0 !== t.negative ? t.umod(e) : t.clone();

        for (var n, s = new a(1), o = new a(0), f = r.clone(); t.cmpn(1) > 0 && r.cmpn(1) > 0;) {
          for (var u = 0, h = 1; 0 == (t.words[0] & h) && u < 26; ++u, h <<= 1) {
            ;
          }

          if (u > 0) for (t.iushrn(u); u-- > 0;) {
            s.isOdd() && s.iadd(f), s.iushrn(1);
          }

          for (var c = 0, d = 1; 0 == (r.words[0] & d) && c < 26; ++c, d <<= 1) {
            ;
          }

          if (c > 0) for (r.iushrn(c); c-- > 0;) {
            o.isOdd() && o.iadd(f), o.iushrn(1);
          }
          t.cmp(r) >= 0 ? (t.isub(r), s.isub(o)) : (r.isub(t), o.isub(s));
        }

        return (n = 0 === t.cmpn(1) ? s : o).cmpn(0) < 0 && n.iadd(e), n;
      }, a.prototype.gcd = function (e) {
        if (this.isZero()) return e.abs();
        if (e.isZero()) return this.abs();
        var t = this.clone(),
            r = e.clone();
        t.negative = 0, r.negative = 0;

        for (var i = 0; t.isEven() && r.isEven(); i++) {
          t.iushrn(1), r.iushrn(1);
        }

        for (;;) {
          for (; t.isEven();) {
            t.iushrn(1);
          }

          for (; r.isEven();) {
            r.iushrn(1);
          }

          var n = t.cmp(r);

          if (n < 0) {
            var a = t;
            t = r, r = a;
          } else if (0 === n || 0 === r.cmpn(1)) break;

          t.isub(r);
        }

        return r.iushln(i);
      }, a.prototype.invm = function (e) {
        return this.egcd(e).a.umod(e);
      }, a.prototype.isEven = function () {
        return 0 == (1 & this.words[0]);
      }, a.prototype.isOdd = function () {
        return 1 == (1 & this.words[0]);
      }, a.prototype.andln = function (e) {
        return this.words[0] & e;
      }, a.prototype.bincn = function (e) {
        i("number" == typeof e);
        var t = e % 26,
            r = (e - t) / 26,
            n = 1 << t;
        if (this.length <= r) return this._expand(r + 1), this.words[r] |= n, this;

        for (var a = n, s = r; 0 !== a && s < this.length; s++) {
          var o = 0 | this.words[s];
          a = (o += a) >>> 26, o &= 67108863, this.words[s] = o;
        }

        return 0 !== a && (this.words[s] = a, this.length++), this;
      }, a.prototype.isZero = function () {
        return 1 === this.length && 0 === this.words[0];
      }, a.prototype.cmpn = function (e) {
        var t,
            r = e < 0;
        if (0 !== this.negative && !r) return -1;
        if (0 === this.negative && r) return 1;
        if (this.strip(), this.length > 1) t = 1;else {
          r && (e = -e), i(e <= 67108863, "Number is too big");
          var n = 0 | this.words[0];
          t = n === e ? 0 : n < e ? -1 : 1;
        }
        return 0 !== this.negative ? 0 | -t : t;
      }, a.prototype.cmp = function (e) {
        if (0 !== this.negative && 0 === e.negative) return -1;
        if (0 === this.negative && 0 !== e.negative) return 1;
        var t = this.ucmp(e);
        return 0 !== this.negative ? 0 | -t : t;
      }, a.prototype.ucmp = function (e) {
        if (this.length > e.length) return 1;
        if (this.length < e.length) return -1;

        for (var t = 0, r = this.length - 1; r >= 0; r--) {
          var i = 0 | this.words[r],
              n = 0 | e.words[r];

          if (i !== n) {
            i < n ? t = -1 : i > n && (t = 1);
            break;
          }
        }

        return t;
      }, a.prototype.gtn = function (e) {
        return 1 === this.cmpn(e);
      }, a.prototype.gt = function (e) {
        return 1 === this.cmp(e);
      }, a.prototype.gten = function (e) {
        return this.cmpn(e) >= 0;
      }, a.prototype.gte = function (e) {
        return this.cmp(e) >= 0;
      }, a.prototype.ltn = function (e) {
        return -1 === this.cmpn(e);
      }, a.prototype.lt = function (e) {
        return -1 === this.cmp(e);
      }, a.prototype.lten = function (e) {
        return this.cmpn(e) <= 0;
      }, a.prototype.lte = function (e) {
        return this.cmp(e) <= 0;
      }, a.prototype.eqn = function (e) {
        return 0 === this.cmpn(e);
      }, a.prototype.eq = function (e) {
        return 0 === this.cmp(e);
      }, a.red = function (e) {
        return new E(e);
      }, a.prototype.toRed = function (e) {
        return i(!this.red, "Already a number in reduction context"), i(0 === this.negative, "red works only with positives"), e.convertTo(this)._forceRed(e);
      }, a.prototype.fromRed = function () {
        return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
      }, a.prototype._forceRed = function (e) {
        return this.red = e, this;
      }, a.prototype.forceRed = function (e) {
        return i(!this.red, "Already a number in reduction context"), this._forceRed(e);
      }, a.prototype.redAdd = function (e) {
        return i(this.red, "redAdd works only with red numbers"), this.red.add(this, e);
      }, a.prototype.redIAdd = function (e) {
        return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, e);
      }, a.prototype.redSub = function (e) {
        return i(this.red, "redSub works only with red numbers"), this.red.sub(this, e);
      }, a.prototype.redISub = function (e) {
        return i(this.red, "redISub works only with red numbers"), this.red.isub(this, e);
      }, a.prototype.redShl = function (e) {
        return i(this.red, "redShl works only with red numbers"), this.red.shl(this, e);
      }, a.prototype.redMul = function (e) {
        return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.mul(this, e);
      }, a.prototype.redIMul = function (e) {
        return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.imul(this, e);
      }, a.prototype.redSqr = function () {
        return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
      }, a.prototype.redISqr = function () {
        return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
      }, a.prototype.redSqrt = function () {
        return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
      }, a.prototype.redInvm = function () {
        return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
      }, a.prototype.redNeg = function () {
        return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
      }, a.prototype.redPow = function (e) {
        return i(this.red && !e.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, e);
      };
      var b = {
        k256: null,
        p224: null,
        p192: null,
        p25519: null
      };

      function y(e, t) {
        this.name = e, this.p = new a(t, 16), this.n = this.p.bitLength(), this.k = new a(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
      }

      function g() {
        y.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
      }

      function _() {
        y.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
      }

      function v() {
        y.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
      }

      function w() {
        y.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
      }

      function E(e) {
        if ("string" == typeof e) {
          var t = a._prime(e);

          this.m = t.p, this.prime = t;
        } else i(e.gtn(1), "modulus must be greater than 1"), this.m = e, this.prime = null;
      }

      function S(e) {
        E.call(this, e), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new a(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
      }

      y.prototype._tmp = function () {
        var e = new a(null);
        return e.words = new Array(Math.ceil(this.n / 13)), e;
      }, y.prototype.ireduce = function (e) {
        var t,
            r = e;

        do {
          this.split(r, this.tmp), t = (r = (r = this.imulK(r)).iadd(this.tmp)).bitLength();
        } while (t > this.n);

        var i = t < this.n ? -1 : r.ucmp(this.p);
        return 0 === i ? (r.words[0] = 0, r.length = 1) : i > 0 ? r.isub(this.p) : void 0 !== r.strip ? r.strip() : r._strip(), r;
      }, y.prototype.split = function (e, t) {
        e.iushrn(this.n, 0, t);
      }, y.prototype.imulK = function (e) {
        return e.imul(this.k);
      }, n(g, y), g.prototype.split = function (e, t) {
        for (var r = Math.min(e.length, 9), i = 0; i < r; i++) {
          t.words[i] = e.words[i];
        }

        if (t.length = r, e.length <= 9) return e.words[0] = 0, void (e.length = 1);
        var n = e.words[9];

        for (t.words[t.length++] = 4194303 & n, i = 10; i < e.length; i++) {
          var a = 0 | e.words[i];
          e.words[i - 10] = (4194303 & a) << 4 | n >>> 22, n = a;
        }

        n >>>= 22, e.words[i - 10] = n, 0 === n && e.length > 10 ? e.length -= 10 : e.length -= 9;
      }, g.prototype.imulK = function (e) {
        e.words[e.length] = 0, e.words[e.length + 1] = 0, e.length += 2;

        for (var t = 0, r = 0; r < e.length; r++) {
          var i = 0 | e.words[r];
          t += 977 * i, e.words[r] = 67108863 & t, t = 64 * i + (t / 67108864 | 0);
        }

        return 0 === e.words[e.length - 1] && (e.length--, 0 === e.words[e.length - 1] && e.length--), e;
      }, n(_, y), n(v, y), n(w, y), w.prototype.imulK = function (e) {
        for (var t = 0, r = 0; r < e.length; r++) {
          var i = 19 * (0 | e.words[r]) + t,
              n = 67108863 & i;
          i >>>= 26, e.words[r] = n, t = i;
        }

        return 0 !== t && (e.words[e.length++] = t), e;
      }, a._prime = function (e) {
        if (b[e]) return b[e];
        var t;
        if ("k256" === e) t = new g();else if ("p224" === e) t = new _();else if ("p192" === e) t = new v();else {
          if ("p25519" !== e) throw new Error("Unknown prime " + e);
          t = new w();
        }
        return b[e] = t, t;
      }, E.prototype._verify1 = function (e) {
        i(0 === e.negative, "red works only with positives"), i(e.red, "red works only with red numbers");
      }, E.prototype._verify2 = function (e, t) {
        i(0 == (e.negative | t.negative), "red works only with positives"), i(e.red && e.red === t.red, "red works only with red numbers");
      }, E.prototype.imod = function (e) {
        return this.prime ? this.prime.ireduce(e)._forceRed(this) : e.umod(this.m)._forceRed(this);
      }, E.prototype.neg = function (e) {
        return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this);
      }, E.prototype.add = function (e, t) {
        this._verify2(e, t);

        var r = e.add(t);
        return r.cmp(this.m) >= 0 && r.isub(this.m), r._forceRed(this);
      }, E.prototype.iadd = function (e, t) {
        this._verify2(e, t);

        var r = e.iadd(t);
        return r.cmp(this.m) >= 0 && r.isub(this.m), r;
      }, E.prototype.sub = function (e, t) {
        this._verify2(e, t);

        var r = e.sub(t);
        return r.cmpn(0) < 0 && r.iadd(this.m), r._forceRed(this);
      }, E.prototype.isub = function (e, t) {
        this._verify2(e, t);

        var r = e.isub(t);
        return r.cmpn(0) < 0 && r.iadd(this.m), r;
      }, E.prototype.shl = function (e, t) {
        return this._verify1(e), this.imod(e.ushln(t));
      }, E.prototype.imul = function (e, t) {
        return this._verify2(e, t), this.imod(e.imul(t));
      }, E.prototype.mul = function (e, t) {
        return this._verify2(e, t), this.imod(e.mul(t));
      }, E.prototype.isqr = function (e) {
        return this.imul(e, e.clone());
      }, E.prototype.sqr = function (e) {
        return this.mul(e, e);
      }, E.prototype.sqrt = function (e) {
        if (e.isZero()) return e.clone();
        var t = this.m.andln(3);

        if (i(t % 2 == 1), 3 === t) {
          var r = this.m.add(new a(1)).iushrn(2);
          return this.pow(e, r);
        }

        for (var n = this.m.subn(1), s = 0; !n.isZero() && 0 === n.andln(1);) {
          s++, n.iushrn(1);
        }

        i(!n.isZero());
        var o = new a(1).toRed(this),
            f = o.redNeg(),
            u = this.m.subn(1).iushrn(1),
            h = this.m.bitLength();

        for (h = new a(2 * h * h).toRed(this); 0 !== this.pow(h, u).cmp(f);) {
          h.redIAdd(f);
        }

        for (var c = this.pow(h, n), d = this.pow(e, n.addn(1).iushrn(1)), l = this.pow(e, n), p = s; 0 !== l.cmp(o);) {
          for (var m = l, b = 0; 0 !== m.cmp(o); b++) {
            m = m.redSqr();
          }

          i(b < p);
          var y = this.pow(c, new a(1).iushln(p - b - 1));
          d = d.redMul(y), c = y.redSqr(), l = l.redMul(c), p = b;
        }

        return d;
      }, E.prototype.invm = function (e) {
        var t = e._invmp(this.m);

        return 0 !== t.negative ? (t.negative = 0, this.imod(t).redNeg()) : this.imod(t);
      }, E.prototype.pow = function (e, t) {
        if (t.isZero()) return new a(1).toRed(this);
        if (0 === t.cmpn(1)) return e.clone();
        var r = new Array(16);
        r[0] = new a(1).toRed(this), r[1] = e;

        for (var i = 2; i < r.length; i++) {
          r[i] = this.mul(r[i - 1], e);
        }

        var n = r[0],
            s = 0,
            o = 0,
            f = t.bitLength() % 26;

        for (0 === f && (f = 26), i = t.length - 1; i >= 0; i--) {
          for (var u = t.words[i], h = f - 1; h >= 0; h--) {
            var c = u >> h & 1;
            n !== r[0] && (n = this.sqr(n)), 0 !== c || 0 !== s ? (s <<= 1, s |= c, (4 === ++o || 0 === i && 0 === h) && (n = this.mul(n, r[s]), o = 0, s = 0)) : o = 0;
          }

          f = 26;
        }

        return n;
      }, E.prototype.convertTo = function (e) {
        var t = e.umod(this.m);
        return t === e ? t.clone() : t;
      }, E.prototype.convertFrom = function (e) {
        var t = e.clone();
        return t.red = null, t;
      }, a.mont = function (e) {
        return new S(e);
      }, n(S, E), S.prototype.convertTo = function (e) {
        return this.imod(e.ushln(this.shift));
      }, S.prototype.convertFrom = function (e) {
        var t = this.imod(e.mul(this.rinv));
        return t.red = null, t;
      }, S.prototype.imul = function (e, t) {
        if (e.isZero() || t.isZero()) return e.words[0] = 0, e.length = 1, e;
        var r = e.imul(t),
            i = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
            n = r.isub(i).iushrn(this.shift),
            a = n;
        return n.cmp(this.m) >= 0 ? a = n.isub(this.m) : n.cmpn(0) < 0 && (a = n.iadd(this.m)), a._forceRed(this);
      }, S.prototype.mul = function (e, t) {
        if (e.isZero() || t.isZero()) return new a(0)._forceRed(this);
        var r = e.mul(t),
            i = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
            n = r.isub(i).iushrn(this.shift),
            s = n;
        return n.cmp(this.m) >= 0 ? s = n.isub(this.m) : n.cmpn(0) < 0 && (s = n.iadd(this.m)), s._forceRed(this);
      }, S.prototype.invm = function (e) {
        return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this);
      };
    }(void 0 === t || t, this);
  }, {
    buffer: 19
  }],
  16: [function (e, t, r) {
    "use strict";

    r.byteLength = function (e) {
      var t = u(e),
          r = t[0],
          i = t[1];
      return 3 * (r + i) / 4 - i;
    }, r.toByteArray = function (e) {
      var t,
          r,
          i = u(e),
          s = i[0],
          o = i[1],
          f = new a(function (e, t, r) {
        return 3 * (t + r) / 4 - r;
      }(0, s, o)),
          h = 0,
          c = o > 0 ? s - 4 : s;

      for (r = 0; r < c; r += 4) {
        t = n[e.charCodeAt(r)] << 18 | n[e.charCodeAt(r + 1)] << 12 | n[e.charCodeAt(r + 2)] << 6 | n[e.charCodeAt(r + 3)], f[h++] = t >> 16 & 255, f[h++] = t >> 8 & 255, f[h++] = 255 & t;
      }

      2 === o && (t = n[e.charCodeAt(r)] << 2 | n[e.charCodeAt(r + 1)] >> 4, f[h++] = 255 & t);
      1 === o && (t = n[e.charCodeAt(r)] << 10 | n[e.charCodeAt(r + 1)] << 4 | n[e.charCodeAt(r + 2)] >> 2, f[h++] = t >> 8 & 255, f[h++] = 255 & t);
      return f;
    }, r.fromByteArray = function (e) {
      for (var t, r = e.length, n = r % 3, a = [], s = 0, o = r - n; s < o; s += 16383) {
        a.push(h(e, s, s + 16383 > o ? o : s + 16383));
      }

      1 === n ? (t = e[r - 1], a.push(i[t >> 2] + i[t << 4 & 63] + "==")) : 2 === n && (t = (e[r - 2] << 8) + e[r - 1], a.push(i[t >> 10] + i[t >> 4 & 63] + i[t << 2 & 63] + "="));
      return a.join("");
    };

    for (var i = [], n = [], a = "undefined" != typeof Uint8Array ? Uint8Array : Array, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", o = 0, f = s.length; o < f; ++o) {
      i[o] = s[o], n[s.charCodeAt(o)] = o;
    }

    function u(e) {
      var t = e.length;
      if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
      var r = e.indexOf("=");
      return -1 === r && (r = t), [r, r === t ? 0 : 4 - r % 4];
    }

    function h(e, t, r) {
      for (var n, a, s = [], o = t; o < r; o += 3) {
        n = (e[o] << 16 & 16711680) + (e[o + 1] << 8 & 65280) + (255 & e[o + 2]), s.push(i[(a = n) >> 18 & 63] + i[a >> 12 & 63] + i[a >> 6 & 63] + i[63 & a]);
      }

      return s.join("");
    }

    n["-".charCodeAt(0)] = 62, n["_".charCodeAt(0)] = 63;
  }, {}],
  17: [function (e, t, r) {
    !function (t, r) {
      "use strict";

      function i(e, t) {
        if (!e) throw new Error(t || "Assertion failed");
      }

      function n(e, t) {
        e.super_ = t;

        var r = function r() {};

        r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
      }

      function a(e, t, r) {
        if (a.isBN(e)) return e;
        this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== e && ("le" !== t && "be" !== t || (r = t, t = 10), this._init(e || 0, t || 10, r || "be"));
      }

      var s;
      "object" == _typeof(t) ? t.exports = a : r.BN = a, a.BN = a, a.wordSize = 26;

      try {
        s = e("buffer").Buffer;
      } catch (e) {}

      function o(e, t, r) {
        for (var n = 0, a = Math.min(e.length, r), s = 0, o = t; o < a; o++) {
          var f,
              u = e.charCodeAt(o) - 48;
          n <<= 4, n |= f = u >= 49 && u <= 54 ? u - 49 + 10 : u >= 17 && u <= 22 ? u - 17 + 10 : u, s |= f;
        }

        return i(!(240 & s), "Invalid character in " + e), n;
      }

      function f(e, t, r, n) {
        for (var a = 0, s = 0, o = Math.min(e.length, r), f = t; f < o; f++) {
          var u = e.charCodeAt(f) - 48;
          a *= n, s = u >= 49 ? u - 49 + 10 : u >= 17 ? u - 17 + 10 : u, i(u >= 0 && s < n, "Invalid character"), a += s;
        }

        return a;
      }

      function u(e, t) {
        e.words = t.words, e.length = t.length, e.negative = t.negative, e.red = t.red;
      }

      if (a.isBN = function (e) {
        return e instanceof a || null !== e && "object" == _typeof(e) && e.constructor.wordSize === a.wordSize && Array.isArray(e.words);
      }, a.max = function (e, t) {
        return e.cmp(t) > 0 ? e : t;
      }, a.min = function (e, t) {
        return e.cmp(t) < 0 ? e : t;
      }, a.prototype._init = function (e, t, r) {
        if ("number" == typeof e) return this._initNumber(e, t, r);
        if ("object" == _typeof(e)) return this._initArray(e, t, r);
        "hex" === t && (t = 16), i(t === (0 | t) && t >= 2 && t <= 36);
        var n = 0;
        "-" === (e = e.toString().replace(/\s+/g, ""))[0] && n++, 16 === t ? this._parseHex(e, n) : this._parseBase(e, t, n), "-" === e[0] && (this.negative = 1), this._strip(), "le" === r && this._initArray(this.toArray(), t, r);
      }, a.prototype._initNumber = function (e, t, r) {
        e < 0 && (this.negative = 1, e = -e), e < 67108864 ? (this.words = [67108863 & e], this.length = 1) : e < 4503599627370496 ? (this.words = [67108863 & e, e / 67108864 & 67108863], this.length = 2) : (i(e < 9007199254740992), this.words = [67108863 & e, e / 67108864 & 67108863, 1], this.length = 3), "le" === r && this._initArray(this.toArray(), t, r);
      }, a.prototype._initArray = function (e, t, r) {
        if (i("number" == typeof e.length), e.length <= 0) return this.words = [0], this.length = 1, this;
        this.length = Math.ceil(e.length / 3), this.words = new Array(this.length);

        for (var n = 0; n < this.length; n++) {
          this.words[n] = 0;
        }

        var a,
            s,
            o = 0;
        if ("be" === r) for (n = e.length - 1, a = 0; n >= 0; n -= 3) {
          s = e[n] | e[n - 1] << 8 | e[n - 2] << 16, this.words[a] |= s << o & 67108863, this.words[a + 1] = s >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, a++);
        } else if ("le" === r) for (n = 0, a = 0; n < e.length; n += 3) {
          s = e[n] | e[n + 1] << 8 | e[n + 2] << 16, this.words[a] |= s << o & 67108863, this.words[a + 1] = s >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, a++);
        }
        return this._strip();
      }, a.prototype._parseHex = function (e, t) {
        this.length = Math.ceil((e.length - t) / 6), this.words = new Array(this.length);

        for (var r = 0; r < this.length; r++) {
          this.words[r] = 0;
        }

        var i,
            n,
            a = 0;

        for (r = e.length - 6, i = 0; r >= t; r -= 6) {
          n = o(e, r, r + 6), this.words[i] |= n << a & 67108863, this.words[i + 1] |= n >>> 26 - a & 4194303, (a += 24) >= 26 && (a -= 26, i++);
        }

        r + 6 !== t && (n = o(e, t, r + 6), this.words[i] |= n << a & 67108863, this.words[i + 1] |= n >>> 26 - a & 4194303), this._strip();
      }, a.prototype._parseBase = function (e, t, r) {
        this.words = [0], this.length = 1;

        for (var i = 0, n = 1; n <= 67108863; n *= t) {
          i++;
        }

        i--, n = n / t | 0;

        for (var a = e.length - r, s = a % i, o = Math.min(a, a - s) + r, u = 0, h = r; h < o; h += i) {
          u = f(e, h, h + i, t), this.imuln(n), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);
        }

        if (0 !== s) {
          var c = 1;

          for (u = f(e, h, e.length, t), h = 0; h < s; h++) {
            c *= t;
          }

          this.imuln(c), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);
        }
      }, a.prototype.copy = function (e) {
        e.words = new Array(this.length);

        for (var t = 0; t < this.length; t++) {
          e.words[t] = this.words[t];
        }

        e.length = this.length, e.negative = this.negative, e.red = this.red;
      }, a.prototype._move = function (e) {
        u(e, this);
      }, a.prototype.clone = function () {
        var e = new a(null);
        return this.copy(e), e;
      }, a.prototype._expand = function (e) {
        for (; this.length < e;) {
          this.words[this.length++] = 0;
        }

        return this;
      }, a.prototype._strip = function () {
        for (; this.length > 1 && 0 === this.words[this.length - 1];) {
          this.length--;
        }

        return this._normSign();
      }, a.prototype._normSign = function () {
        return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this;
      }, "undefined" != typeof Symbol && "function" == typeof Symbol["for"]) try {
        a.prototype[Symbol["for"]("nodejs.util.inspect.custom")] = h;
      } catch (e) {
        a.prototype.inspect = h;
      } else a.prototype.inspect = h;

      function h() {
        return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
      }

      var c = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"],
          d = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
          l = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
      a.prototype.toString = function (e, t) {
        var r;

        if (t = 0 | t || 1, 16 === (e = e || 10) || "hex" === e) {
          r = "";

          for (var n = 0, a = 0, s = 0; s < this.length; s++) {
            var o = this.words[s],
                f = (16777215 & (o << n | a)).toString(16);
            r = 0 !== (a = o >>> 24 - n & 16777215) || s !== this.length - 1 ? c[6 - f.length] + f + r : f + r, (n += 2) >= 26 && (n -= 26, s--);
          }

          for (0 !== a && (r = a.toString(16) + r); r.length % t != 0;) {
            r = "0" + r;
          }

          return 0 !== this.negative && (r = "-" + r), r;
        }

        if (e === (0 | e) && e >= 2 && e <= 36) {
          var u = d[e],
              h = l[e];
          r = "";
          var p = this.clone();

          for (p.negative = 0; !p.isZero();) {
            var m = p.modrn(h).toString(e);
            r = (p = p.idivn(h)).isZero() ? m + r : c[u - m.length] + m + r;
          }

          for (this.isZero() && (r = "0" + r); r.length % t != 0;) {
            r = "0" + r;
          }

          return 0 !== this.negative && (r = "-" + r), r;
        }

        i(!1, "Base should be between 2 and 36");
      }, a.prototype.toNumber = function () {
        var e = this.words[0];
        return 2 === this.length ? e += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? e += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -e : e;
      }, a.prototype.toJSON = function () {
        return this.toString(16, 2);
      }, s && (a.prototype.toBuffer = function (e, t) {
        return this.toArrayLike(s, e, t);
      }), a.prototype.toArray = function (e, t) {
        return this.toArrayLike(Array, e, t);
      };

      function p(e, t, r) {
        r.negative = t.negative ^ e.negative;
        var i = e.length + t.length | 0;
        r.length = i, i = i - 1 | 0;
        var n = 0 | e.words[0],
            a = 0 | t.words[0],
            s = n * a,
            o = 67108863 & s,
            f = s / 67108864 | 0;
        r.words[0] = o;

        for (var u = 1; u < i; u++) {
          for (var h = f >>> 26, c = 67108863 & f, d = Math.min(u, t.length - 1), l = Math.max(0, u - e.length + 1); l <= d; l++) {
            var p = u - l | 0;
            h += (s = (n = 0 | e.words[p]) * (a = 0 | t.words[l]) + c) / 67108864 | 0, c = 67108863 & s;
          }

          r.words[u] = 0 | c, f = 0 | h;
        }

        return 0 !== f ? r.words[u] = 0 | f : r.length--, r._strip();
      }

      a.prototype.toArrayLike = function (e, t, r) {
        this._strip();

        var n = this.byteLength(),
            a = r || Math.max(1, n);
        i(n <= a, "byte array longer than desired length"), i(a > 0, "Requested array length <= 0");

        var s = function (e, t) {
          return e.allocUnsafe ? e.allocUnsafe(t) : new e(t);
        }(e, a);

        return this["_toArrayLike" + ("le" === t ? "LE" : "BE")](s, n), s;
      }, a.prototype._toArrayLikeLE = function (e, t) {
        for (var r = 0, i = 0, n = 0, a = 0; n < this.length; n++) {
          var s = this.words[n] << a | i;
          e[r++] = 255 & s, r < e.length && (e[r++] = s >> 8 & 255), r < e.length && (e[r++] = s >> 16 & 255), 6 === a ? (r < e.length && (e[r++] = s >> 24 & 255), i = 0, a = 0) : (i = s >>> 24, a += 2);
        }

        if (r < e.length) for (e[r++] = i; r < e.length;) {
          e[r++] = 0;
        }
      }, a.prototype._toArrayLikeBE = function (e, t) {
        for (var r = e.length - 1, i = 0, n = 0, a = 0; n < this.length; n++) {
          var s = this.words[n] << a | i;
          e[r--] = 255 & s, r >= 0 && (e[r--] = s >> 8 & 255), r >= 0 && (e[r--] = s >> 16 & 255), 6 === a ? (r >= 0 && (e[r--] = s >> 24 & 255), i = 0, a = 0) : (i = s >>> 24, a += 2);
        }

        if (r >= 0) for (e[r--] = i; r >= 0;) {
          e[r--] = 0;
        }
      }, Math.clz32 ? a.prototype._countBits = function (e) {
        return 32 - Math.clz32(e);
      } : a.prototype._countBits = function (e) {
        var t = e,
            r = 0;
        return t >= 4096 && (r += 13, t >>>= 13), t >= 64 && (r += 7, t >>>= 7), t >= 8 && (r += 4, t >>>= 4), t >= 2 && (r += 2, t >>>= 2), r + t;
      }, a.prototype._zeroBits = function (e) {
        if (0 === e) return 26;
        var t = e,
            r = 0;
        return 0 == (8191 & t) && (r += 13, t >>>= 13), 0 == (127 & t) && (r += 7, t >>>= 7), 0 == (15 & t) && (r += 4, t >>>= 4), 0 == (3 & t) && (r += 2, t >>>= 2), 0 == (1 & t) && r++, r;
      }, a.prototype.bitLength = function () {
        var e = this.words[this.length - 1],
            t = this._countBits(e);

        return 26 * (this.length - 1) + t;
      }, a.prototype.zeroBits = function () {
        if (this.isZero()) return 0;

        for (var e = 0, t = 0; t < this.length; t++) {
          var r = this._zeroBits(this.words[t]);

          if (e += r, 26 !== r) break;
        }

        return e;
      }, a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }, a.prototype.toTwos = function (e) {
        return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone();
      }, a.prototype.fromTwos = function (e) {
        return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone();
      }, a.prototype.isNeg = function () {
        return 0 !== this.negative;
      }, a.prototype.neg = function () {
        return this.clone().ineg();
      }, a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }, a.prototype.iuor = function (e) {
        for (; this.length < e.length;) {
          this.words[this.length++] = 0;
        }

        for (var t = 0; t < e.length; t++) {
          this.words[t] = this.words[t] | e.words[t];
        }

        return this._strip();
      }, a.prototype.ior = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuor(e);
      }, a.prototype.or = function (e) {
        return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this);
      }, a.prototype.uor = function (e) {
        return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this);
      }, a.prototype.iuand = function (e) {
        var t;
        t = this.length > e.length ? e : this;

        for (var r = 0; r < t.length; r++) {
          this.words[r] = this.words[r] & e.words[r];
        }

        return this.length = t.length, this._strip();
      }, a.prototype.iand = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuand(e);
      }, a.prototype.and = function (e) {
        return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this);
      }, a.prototype.uand = function (e) {
        return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this);
      }, a.prototype.iuxor = function (e) {
        var t, r;
        this.length > e.length ? (t = this, r = e) : (t = e, r = this);

        for (var i = 0; i < r.length; i++) {
          this.words[i] = t.words[i] ^ r.words[i];
        }

        if (this !== t) for (; i < t.length; i++) {
          this.words[i] = t.words[i];
        }
        return this.length = t.length, this._strip();
      }, a.prototype.ixor = function (e) {
        return i(0 == (this.negative | e.negative)), this.iuxor(e);
      }, a.prototype.xor = function (e) {
        return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this);
      }, a.prototype.uxor = function (e) {
        return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this);
      }, a.prototype.inotn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = 0 | Math.ceil(e / 26),
            r = e % 26;
        this._expand(t), r > 0 && t--;

        for (var n = 0; n < t; n++) {
          this.words[n] = 67108863 & ~this.words[n];
        }

        return r > 0 && (this.words[n] = ~this.words[n] & 67108863 >> 26 - r), this._strip();
      }, a.prototype.notn = function (e) {
        return this.clone().inotn(e);
      }, a.prototype.setn = function (e, t) {
        i("number" == typeof e && e >= 0);
        var r = e / 26 | 0,
            n = e % 26;
        return this._expand(r + 1), this.words[r] = t ? this.words[r] | 1 << n : this.words[r] & ~(1 << n), this._strip();
      }, a.prototype.iadd = function (e) {
        var t, r, i;
        if (0 !== this.negative && 0 === e.negative) return this.negative = 0, t = this.isub(e), this.negative ^= 1, this._normSign();
        if (0 === this.negative && 0 !== e.negative) return e.negative = 0, t = this.isub(e), e.negative = 1, t._normSign();
        this.length > e.length ? (r = this, i = e) : (r = e, i = this);

        for (var n = 0, a = 0; a < i.length; a++) {
          t = (0 | r.words[a]) + (0 | i.words[a]) + n, this.words[a] = 67108863 & t, n = t >>> 26;
        }

        for (; 0 !== n && a < r.length; a++) {
          t = (0 | r.words[a]) + n, this.words[a] = 67108863 & t, n = t >>> 26;
        }

        if (this.length = r.length, 0 !== n) this.words[this.length] = n, this.length++;else if (r !== this) for (; a < r.length; a++) {
          this.words[a] = r.words[a];
        }
        return this;
      }, a.prototype.add = function (e) {
        var t;
        return 0 !== e.negative && 0 === this.negative ? (e.negative = 0, t = this.sub(e), e.negative ^= 1, t) : 0 === e.negative && 0 !== this.negative ? (this.negative = 0, t = e.sub(this), this.negative = 1, t) : this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this);
      }, a.prototype.isub = function (e) {
        if (0 !== e.negative) {
          e.negative = 0;
          var t = this.iadd(e);
          return e.negative = 1, t._normSign();
        }

        if (0 !== this.negative) return this.negative = 0, this.iadd(e), this.negative = 1, this._normSign();
        var r,
            i,
            n = this.cmp(e);
        if (0 === n) return this.negative = 0, this.length = 1, this.words[0] = 0, this;
        n > 0 ? (r = this, i = e) : (r = e, i = this);

        for (var a = 0, s = 0; s < i.length; s++) {
          a = (t = (0 | r.words[s]) - (0 | i.words[s]) + a) >> 26, this.words[s] = 67108863 & t;
        }

        for (; 0 !== a && s < r.length; s++) {
          a = (t = (0 | r.words[s]) + a) >> 26, this.words[s] = 67108863 & t;
        }

        if (0 === a && s < r.length && r !== this) for (; s < r.length; s++) {
          this.words[s] = r.words[s];
        }
        return this.length = Math.max(this.length, s), r !== this && (this.negative = 1), this._strip();
      }, a.prototype.sub = function (e) {
        return this.clone().isub(e);
      };

      var m = function m(e, t, r) {
        var i,
            n,
            a,
            s = e.words,
            o = t.words,
            f = r.words,
            u = 0,
            h = 0 | s[0],
            c = 8191 & h,
            d = h >>> 13,
            l = 0 | s[1],
            p = 8191 & l,
            m = l >>> 13,
            b = 0 | s[2],
            y = 8191 & b,
            g = b >>> 13,
            _ = 0 | s[3],
            v = 8191 & _,
            w = _ >>> 13,
            E = 0 | s[4],
            S = 8191 & E,
            A = E >>> 13,
            x = 0 | s[5],
            M = 8191 & x,
            T = x >>> 13,
            k = 0 | s[6],
            P = 8191 & k,
            U = k >>> 13,
            I = 0 | s[7],
            C = 8191 & I,
            R = I >>> 13,
            B = 0 | s[8],
            D = 8191 & B,
            L = B >>> 13,
            F = 0 | s[9],
            N = 8191 & F,
            O = F >>> 13,
            z = 0 | o[0],
            j = 8191 & z,
            H = z >>> 13,
            V = 0 | o[1],
            Y = 8191 & V,
            q = V >>> 13,
            G = 0 | o[2],
            W = 8191 & G,
            K = G >>> 13,
            X = 0 | o[3],
            Z = 8191 & X,
            J = X >>> 13,
            Q = 0 | o[4],
            $ = 8191 & Q,
            ee = Q >>> 13,
            te = 0 | o[5],
            re = 8191 & te,
            ie = te >>> 13,
            ne = 0 | o[6],
            ae = 8191 & ne,
            se = ne >>> 13,
            oe = 0 | o[7],
            fe = 8191 & oe,
            ue = oe >>> 13,
            he = 0 | o[8],
            ce = 8191 & he,
            de = he >>> 13,
            le = 0 | o[9],
            pe = 8191 & le,
            me = le >>> 13;

        r.negative = e.negative ^ t.negative, r.length = 19;
        var be = (u + (i = Math.imul(c, j)) | 0) + ((8191 & (n = (n = Math.imul(c, H)) + Math.imul(d, j) | 0)) << 13) | 0;
        u = ((a = Math.imul(d, H)) + (n >>> 13) | 0) + (be >>> 26) | 0, be &= 67108863, i = Math.imul(p, j), n = (n = Math.imul(p, H)) + Math.imul(m, j) | 0, a = Math.imul(m, H);
        var ye = (u + (i = i + Math.imul(c, Y) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, q) | 0) + Math.imul(d, Y) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, q) | 0) + (n >>> 13) | 0) + (ye >>> 26) | 0, ye &= 67108863, i = Math.imul(y, j), n = (n = Math.imul(y, H)) + Math.imul(g, j) | 0, a = Math.imul(g, H), i = i + Math.imul(p, Y) | 0, n = (n = n + Math.imul(p, q) | 0) + Math.imul(m, Y) | 0, a = a + Math.imul(m, q) | 0;
        var ge = (u + (i = i + Math.imul(c, W) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, K) | 0) + Math.imul(d, W) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, K) | 0) + (n >>> 13) | 0) + (ge >>> 26) | 0, ge &= 67108863, i = Math.imul(v, j), n = (n = Math.imul(v, H)) + Math.imul(w, j) | 0, a = Math.imul(w, H), i = i + Math.imul(y, Y) | 0, n = (n = n + Math.imul(y, q) | 0) + Math.imul(g, Y) | 0, a = a + Math.imul(g, q) | 0, i = i + Math.imul(p, W) | 0, n = (n = n + Math.imul(p, K) | 0) + Math.imul(m, W) | 0, a = a + Math.imul(m, K) | 0;

        var _e = (u + (i = i + Math.imul(c, Z) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, J) | 0) + Math.imul(d, Z) | 0)) << 13) | 0;

        u = ((a = a + Math.imul(d, J) | 0) + (n >>> 13) | 0) + (_e >>> 26) | 0, _e &= 67108863, i = Math.imul(S, j), n = (n = Math.imul(S, H)) + Math.imul(A, j) | 0, a = Math.imul(A, H), i = i + Math.imul(v, Y) | 0, n = (n = n + Math.imul(v, q) | 0) + Math.imul(w, Y) | 0, a = a + Math.imul(w, q) | 0, i = i + Math.imul(y, W) | 0, n = (n = n + Math.imul(y, K) | 0) + Math.imul(g, W) | 0, a = a + Math.imul(g, K) | 0, i = i + Math.imul(p, Z) | 0, n = (n = n + Math.imul(p, J) | 0) + Math.imul(m, Z) | 0, a = a + Math.imul(m, J) | 0;
        var ve = (u + (i = i + Math.imul(c, $) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ee) | 0) + Math.imul(d, $) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ee) | 0) + (n >>> 13) | 0) + (ve >>> 26) | 0, ve &= 67108863, i = Math.imul(M, j), n = (n = Math.imul(M, H)) + Math.imul(T, j) | 0, a = Math.imul(T, H), i = i + Math.imul(S, Y) | 0, n = (n = n + Math.imul(S, q) | 0) + Math.imul(A, Y) | 0, a = a + Math.imul(A, q) | 0, i = i + Math.imul(v, W) | 0, n = (n = n + Math.imul(v, K) | 0) + Math.imul(w, W) | 0, a = a + Math.imul(w, K) | 0, i = i + Math.imul(y, Z) | 0, n = (n = n + Math.imul(y, J) | 0) + Math.imul(g, Z) | 0, a = a + Math.imul(g, J) | 0, i = i + Math.imul(p, $) | 0, n = (n = n + Math.imul(p, ee) | 0) + Math.imul(m, $) | 0, a = a + Math.imul(m, ee) | 0;
        var we = (u + (i = i + Math.imul(c, re) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ie) | 0) + Math.imul(d, re) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ie) | 0) + (n >>> 13) | 0) + (we >>> 26) | 0, we &= 67108863, i = Math.imul(P, j), n = (n = Math.imul(P, H)) + Math.imul(U, j) | 0, a = Math.imul(U, H), i = i + Math.imul(M, Y) | 0, n = (n = n + Math.imul(M, q) | 0) + Math.imul(T, Y) | 0, a = a + Math.imul(T, q) | 0, i = i + Math.imul(S, W) | 0, n = (n = n + Math.imul(S, K) | 0) + Math.imul(A, W) | 0, a = a + Math.imul(A, K) | 0, i = i + Math.imul(v, Z) | 0, n = (n = n + Math.imul(v, J) | 0) + Math.imul(w, Z) | 0, a = a + Math.imul(w, J) | 0, i = i + Math.imul(y, $) | 0, n = (n = n + Math.imul(y, ee) | 0) + Math.imul(g, $) | 0, a = a + Math.imul(g, ee) | 0, i = i + Math.imul(p, re) | 0, n = (n = n + Math.imul(p, ie) | 0) + Math.imul(m, re) | 0, a = a + Math.imul(m, ie) | 0;
        var Ee = (u + (i = i + Math.imul(c, ae) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, se) | 0) + Math.imul(d, ae) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, se) | 0) + (n >>> 13) | 0) + (Ee >>> 26) | 0, Ee &= 67108863, i = Math.imul(C, j), n = (n = Math.imul(C, H)) + Math.imul(R, j) | 0, a = Math.imul(R, H), i = i + Math.imul(P, Y) | 0, n = (n = n + Math.imul(P, q) | 0) + Math.imul(U, Y) | 0, a = a + Math.imul(U, q) | 0, i = i + Math.imul(M, W) | 0, n = (n = n + Math.imul(M, K) | 0) + Math.imul(T, W) | 0, a = a + Math.imul(T, K) | 0, i = i + Math.imul(S, Z) | 0, n = (n = n + Math.imul(S, J) | 0) + Math.imul(A, Z) | 0, a = a + Math.imul(A, J) | 0, i = i + Math.imul(v, $) | 0, n = (n = n + Math.imul(v, ee) | 0) + Math.imul(w, $) | 0, a = a + Math.imul(w, ee) | 0, i = i + Math.imul(y, re) | 0, n = (n = n + Math.imul(y, ie) | 0) + Math.imul(g, re) | 0, a = a + Math.imul(g, ie) | 0, i = i + Math.imul(p, ae) | 0, n = (n = n + Math.imul(p, se) | 0) + Math.imul(m, ae) | 0, a = a + Math.imul(m, se) | 0;
        var Se = (u + (i = i + Math.imul(c, fe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, ue) | 0) + Math.imul(d, fe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, ue) | 0) + (n >>> 13) | 0) + (Se >>> 26) | 0, Se &= 67108863, i = Math.imul(D, j), n = (n = Math.imul(D, H)) + Math.imul(L, j) | 0, a = Math.imul(L, H), i = i + Math.imul(C, Y) | 0, n = (n = n + Math.imul(C, q) | 0) + Math.imul(R, Y) | 0, a = a + Math.imul(R, q) | 0, i = i + Math.imul(P, W) | 0, n = (n = n + Math.imul(P, K) | 0) + Math.imul(U, W) | 0, a = a + Math.imul(U, K) | 0, i = i + Math.imul(M, Z) | 0, n = (n = n + Math.imul(M, J) | 0) + Math.imul(T, Z) | 0, a = a + Math.imul(T, J) | 0, i = i + Math.imul(S, $) | 0, n = (n = n + Math.imul(S, ee) | 0) + Math.imul(A, $) | 0, a = a + Math.imul(A, ee) | 0, i = i + Math.imul(v, re) | 0, n = (n = n + Math.imul(v, ie) | 0) + Math.imul(w, re) | 0, a = a + Math.imul(w, ie) | 0, i = i + Math.imul(y, ae) | 0, n = (n = n + Math.imul(y, se) | 0) + Math.imul(g, ae) | 0, a = a + Math.imul(g, se) | 0, i = i + Math.imul(p, fe) | 0, n = (n = n + Math.imul(p, ue) | 0) + Math.imul(m, fe) | 0, a = a + Math.imul(m, ue) | 0;
        var Ae = (u + (i = i + Math.imul(c, ce) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, de) | 0) + Math.imul(d, ce) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, de) | 0) + (n >>> 13) | 0) + (Ae >>> 26) | 0, Ae &= 67108863, i = Math.imul(N, j), n = (n = Math.imul(N, H)) + Math.imul(O, j) | 0, a = Math.imul(O, H), i = i + Math.imul(D, Y) | 0, n = (n = n + Math.imul(D, q) | 0) + Math.imul(L, Y) | 0, a = a + Math.imul(L, q) | 0, i = i + Math.imul(C, W) | 0, n = (n = n + Math.imul(C, K) | 0) + Math.imul(R, W) | 0, a = a + Math.imul(R, K) | 0, i = i + Math.imul(P, Z) | 0, n = (n = n + Math.imul(P, J) | 0) + Math.imul(U, Z) | 0, a = a + Math.imul(U, J) | 0, i = i + Math.imul(M, $) | 0, n = (n = n + Math.imul(M, ee) | 0) + Math.imul(T, $) | 0, a = a + Math.imul(T, ee) | 0, i = i + Math.imul(S, re) | 0, n = (n = n + Math.imul(S, ie) | 0) + Math.imul(A, re) | 0, a = a + Math.imul(A, ie) | 0, i = i + Math.imul(v, ae) | 0, n = (n = n + Math.imul(v, se) | 0) + Math.imul(w, ae) | 0, a = a + Math.imul(w, se) | 0, i = i + Math.imul(y, fe) | 0, n = (n = n + Math.imul(y, ue) | 0) + Math.imul(g, fe) | 0, a = a + Math.imul(g, ue) | 0, i = i + Math.imul(p, ce) | 0, n = (n = n + Math.imul(p, de) | 0) + Math.imul(m, ce) | 0, a = a + Math.imul(m, de) | 0;
        var xe = (u + (i = i + Math.imul(c, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(c, me) | 0) + Math.imul(d, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(d, me) | 0) + (n >>> 13) | 0) + (xe >>> 26) | 0, xe &= 67108863, i = Math.imul(N, Y), n = (n = Math.imul(N, q)) + Math.imul(O, Y) | 0, a = Math.imul(O, q), i = i + Math.imul(D, W) | 0, n = (n = n + Math.imul(D, K) | 0) + Math.imul(L, W) | 0, a = a + Math.imul(L, K) | 0, i = i + Math.imul(C, Z) | 0, n = (n = n + Math.imul(C, J) | 0) + Math.imul(R, Z) | 0, a = a + Math.imul(R, J) | 0, i = i + Math.imul(P, $) | 0, n = (n = n + Math.imul(P, ee) | 0) + Math.imul(U, $) | 0, a = a + Math.imul(U, ee) | 0, i = i + Math.imul(M, re) | 0, n = (n = n + Math.imul(M, ie) | 0) + Math.imul(T, re) | 0, a = a + Math.imul(T, ie) | 0, i = i + Math.imul(S, ae) | 0, n = (n = n + Math.imul(S, se) | 0) + Math.imul(A, ae) | 0, a = a + Math.imul(A, se) | 0, i = i + Math.imul(v, fe) | 0, n = (n = n + Math.imul(v, ue) | 0) + Math.imul(w, fe) | 0, a = a + Math.imul(w, ue) | 0, i = i + Math.imul(y, ce) | 0, n = (n = n + Math.imul(y, de) | 0) + Math.imul(g, ce) | 0, a = a + Math.imul(g, de) | 0;
        var Me = (u + (i = i + Math.imul(p, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(p, me) | 0) + Math.imul(m, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(m, me) | 0) + (n >>> 13) | 0) + (Me >>> 26) | 0, Me &= 67108863, i = Math.imul(N, W), n = (n = Math.imul(N, K)) + Math.imul(O, W) | 0, a = Math.imul(O, K), i = i + Math.imul(D, Z) | 0, n = (n = n + Math.imul(D, J) | 0) + Math.imul(L, Z) | 0, a = a + Math.imul(L, J) | 0, i = i + Math.imul(C, $) | 0, n = (n = n + Math.imul(C, ee) | 0) + Math.imul(R, $) | 0, a = a + Math.imul(R, ee) | 0, i = i + Math.imul(P, re) | 0, n = (n = n + Math.imul(P, ie) | 0) + Math.imul(U, re) | 0, a = a + Math.imul(U, ie) | 0, i = i + Math.imul(M, ae) | 0, n = (n = n + Math.imul(M, se) | 0) + Math.imul(T, ae) | 0, a = a + Math.imul(T, se) | 0, i = i + Math.imul(S, fe) | 0, n = (n = n + Math.imul(S, ue) | 0) + Math.imul(A, fe) | 0, a = a + Math.imul(A, ue) | 0, i = i + Math.imul(v, ce) | 0, n = (n = n + Math.imul(v, de) | 0) + Math.imul(w, ce) | 0, a = a + Math.imul(w, de) | 0;
        var Te = (u + (i = i + Math.imul(y, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(y, me) | 0) + Math.imul(g, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(g, me) | 0) + (n >>> 13) | 0) + (Te >>> 26) | 0, Te &= 67108863, i = Math.imul(N, Z), n = (n = Math.imul(N, J)) + Math.imul(O, Z) | 0, a = Math.imul(O, J), i = i + Math.imul(D, $) | 0, n = (n = n + Math.imul(D, ee) | 0) + Math.imul(L, $) | 0, a = a + Math.imul(L, ee) | 0, i = i + Math.imul(C, re) | 0, n = (n = n + Math.imul(C, ie) | 0) + Math.imul(R, re) | 0, a = a + Math.imul(R, ie) | 0, i = i + Math.imul(P, ae) | 0, n = (n = n + Math.imul(P, se) | 0) + Math.imul(U, ae) | 0, a = a + Math.imul(U, se) | 0, i = i + Math.imul(M, fe) | 0, n = (n = n + Math.imul(M, ue) | 0) + Math.imul(T, fe) | 0, a = a + Math.imul(T, ue) | 0, i = i + Math.imul(S, ce) | 0, n = (n = n + Math.imul(S, de) | 0) + Math.imul(A, ce) | 0, a = a + Math.imul(A, de) | 0;
        var ke = (u + (i = i + Math.imul(v, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(v, me) | 0) + Math.imul(w, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(w, me) | 0) + (n >>> 13) | 0) + (ke >>> 26) | 0, ke &= 67108863, i = Math.imul(N, $), n = (n = Math.imul(N, ee)) + Math.imul(O, $) | 0, a = Math.imul(O, ee), i = i + Math.imul(D, re) | 0, n = (n = n + Math.imul(D, ie) | 0) + Math.imul(L, re) | 0, a = a + Math.imul(L, ie) | 0, i = i + Math.imul(C, ae) | 0, n = (n = n + Math.imul(C, se) | 0) + Math.imul(R, ae) | 0, a = a + Math.imul(R, se) | 0, i = i + Math.imul(P, fe) | 0, n = (n = n + Math.imul(P, ue) | 0) + Math.imul(U, fe) | 0, a = a + Math.imul(U, ue) | 0, i = i + Math.imul(M, ce) | 0, n = (n = n + Math.imul(M, de) | 0) + Math.imul(T, ce) | 0, a = a + Math.imul(T, de) | 0;
        var Pe = (u + (i = i + Math.imul(S, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(S, me) | 0) + Math.imul(A, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(A, me) | 0) + (n >>> 13) | 0) + (Pe >>> 26) | 0, Pe &= 67108863, i = Math.imul(N, re), n = (n = Math.imul(N, ie)) + Math.imul(O, re) | 0, a = Math.imul(O, ie), i = i + Math.imul(D, ae) | 0, n = (n = n + Math.imul(D, se) | 0) + Math.imul(L, ae) | 0, a = a + Math.imul(L, se) | 0, i = i + Math.imul(C, fe) | 0, n = (n = n + Math.imul(C, ue) | 0) + Math.imul(R, fe) | 0, a = a + Math.imul(R, ue) | 0, i = i + Math.imul(P, ce) | 0, n = (n = n + Math.imul(P, de) | 0) + Math.imul(U, ce) | 0, a = a + Math.imul(U, de) | 0;
        var Ue = (u + (i = i + Math.imul(M, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(M, me) | 0) + Math.imul(T, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(T, me) | 0) + (n >>> 13) | 0) + (Ue >>> 26) | 0, Ue &= 67108863, i = Math.imul(N, ae), n = (n = Math.imul(N, se)) + Math.imul(O, ae) | 0, a = Math.imul(O, se), i = i + Math.imul(D, fe) | 0, n = (n = n + Math.imul(D, ue) | 0) + Math.imul(L, fe) | 0, a = a + Math.imul(L, ue) | 0, i = i + Math.imul(C, ce) | 0, n = (n = n + Math.imul(C, de) | 0) + Math.imul(R, ce) | 0, a = a + Math.imul(R, de) | 0;
        var Ie = (u + (i = i + Math.imul(P, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(P, me) | 0) + Math.imul(U, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(U, me) | 0) + (n >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, i = Math.imul(N, fe), n = (n = Math.imul(N, ue)) + Math.imul(O, fe) | 0, a = Math.imul(O, ue), i = i + Math.imul(D, ce) | 0, n = (n = n + Math.imul(D, de) | 0) + Math.imul(L, ce) | 0, a = a + Math.imul(L, de) | 0;
        var Ce = (u + (i = i + Math.imul(C, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(C, me) | 0) + Math.imul(R, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(R, me) | 0) + (n >>> 13) | 0) + (Ce >>> 26) | 0, Ce &= 67108863, i = Math.imul(N, ce), n = (n = Math.imul(N, de)) + Math.imul(O, ce) | 0, a = Math.imul(O, de);
        var Re = (u + (i = i + Math.imul(D, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(D, me) | 0) + Math.imul(L, pe) | 0)) << 13) | 0;
        u = ((a = a + Math.imul(L, me) | 0) + (n >>> 13) | 0) + (Re >>> 26) | 0, Re &= 67108863;
        var Be = (u + (i = Math.imul(N, pe)) | 0) + ((8191 & (n = (n = Math.imul(N, me)) + Math.imul(O, pe) | 0)) << 13) | 0;
        return u = ((a = Math.imul(O, me)) + (n >>> 13) | 0) + (Be >>> 26) | 0, Be &= 67108863, f[0] = be, f[1] = ye, f[2] = ge, f[3] = _e, f[4] = ve, f[5] = we, f[6] = Ee, f[7] = Se, f[8] = Ae, f[9] = xe, f[10] = Me, f[11] = Te, f[12] = ke, f[13] = Pe, f[14] = Ue, f[15] = Ie, f[16] = Ce, f[17] = Re, f[18] = Be, 0 !== u && (f[19] = u, r.length++), r;
      };

      function b(e, t, r) {
        r.negative = t.negative ^ e.negative, r.length = e.length + t.length;

        for (var i = 0, n = 0, a = 0; a < r.length - 1; a++) {
          var s = n;
          n = 0;

          for (var o = 67108863 & i, f = Math.min(a, t.length - 1), u = Math.max(0, a - e.length + 1); u <= f; u++) {
            var h = a - u,
                c = (0 | e.words[h]) * (0 | t.words[u]),
                d = 67108863 & c;
            o = 67108863 & (d = d + o | 0), n += (s = (s = s + (c / 67108864 | 0) | 0) + (d >>> 26) | 0) >>> 26, s &= 67108863;
          }

          r.words[a] = o, i = s, s = n;
        }

        return 0 !== i ? r.words[a] = i : r.length--, r._strip();
      }

      function y(e, t, r) {
        return b(e, t, r);
      }

      function g(e, t) {
        this.x = e, this.y = t;
      }

      Math.imul || (m = p), a.prototype.mulTo = function (e, t) {
        var r = this.length + e.length;
        return 10 === this.length && 10 === e.length ? m(this, e, t) : r < 63 ? p(this, e, t) : r < 1024 ? b(this, e, t) : y(this, e, t);
      }, g.prototype.makeRBT = function (e) {
        for (var t = new Array(e), r = a.prototype._countBits(e) - 1, i = 0; i < e; i++) {
          t[i] = this.revBin(i, r, e);
        }

        return t;
      }, g.prototype.revBin = function (e, t, r) {
        if (0 === e || e === r - 1) return e;

        for (var i = 0, n = 0; n < t; n++) {
          i |= (1 & e) << t - n - 1, e >>= 1;
        }

        return i;
      }, g.prototype.permute = function (e, t, r, i, n, a) {
        for (var s = 0; s < a; s++) {
          i[s] = t[e[s]], n[s] = r[e[s]];
        }
      }, g.prototype.transform = function (e, t, r, i, n, a) {
        this.permute(a, e, t, r, i, n);

        for (var s = 1; s < n; s <<= 1) {
          for (var o = s << 1, f = Math.cos(2 * Math.PI / o), u = Math.sin(2 * Math.PI / o), h = 0; h < n; h += o) {
            for (var c = f, d = u, l = 0; l < s; l++) {
              var p = r[h + l],
                  m = i[h + l],
                  b = r[h + l + s],
                  y = i[h + l + s],
                  g = c * b - d * y;
              y = c * y + d * b, b = g, r[h + l] = p + b, i[h + l] = m + y, r[h + l + s] = p - b, i[h + l + s] = m - y, l !== o && (g = f * c - u * d, d = f * d + u * c, c = g);
            }
          }
        }
      }, g.prototype.guessLen13b = function (e, t) {
        var r = 1 | Math.max(t, e),
            i = 1 & r,
            n = 0;

        for (r = r / 2 | 0; r; r >>>= 1) {
          n++;
        }

        return 1 << n + 1 + i;
      }, g.prototype.conjugate = function (e, t, r) {
        if (!(r <= 1)) for (var i = 0; i < r / 2; i++) {
          var n = e[i];
          e[i] = e[r - i - 1], e[r - i - 1] = n, n = t[i], t[i] = -t[r - i - 1], t[r - i - 1] = -n;
        }
      }, g.prototype.normalize13b = function (e, t) {
        for (var r = 0, i = 0; i < t / 2; i++) {
          var n = 8192 * Math.round(e[2 * i + 1] / t) + Math.round(e[2 * i] / t) + r;
          e[i] = 67108863 & n, r = n < 67108864 ? 0 : n / 67108864 | 0;
        }

        return e;
      }, g.prototype.convert13b = function (e, t, r, n) {
        for (var a = 0, s = 0; s < t; s++) {
          a += 0 | e[s], r[2 * s] = 8191 & a, a >>>= 13, r[2 * s + 1] = 8191 & a, a >>>= 13;
        }

        for (s = 2 * t; s < n; ++s) {
          r[s] = 0;
        }

        i(0 === a), i(0 == (-8192 & a));
      }, g.prototype.stub = function (e) {
        for (var t = new Array(e), r = 0; r < e; r++) {
          t[r] = 0;
        }

        return t;
      }, g.prototype.mulp = function (e, t, r) {
        var i = 2 * this.guessLen13b(e.length, t.length),
            n = this.makeRBT(i),
            a = this.stub(i),
            s = new Array(i),
            o = new Array(i),
            f = new Array(i),
            u = new Array(i),
            h = new Array(i),
            c = new Array(i),
            d = r.words;
        d.length = i, this.convert13b(e.words, e.length, s, i), this.convert13b(t.words, t.length, u, i), this.transform(s, a, o, f, i, n), this.transform(u, a, h, c, i, n);

        for (var l = 0; l < i; l++) {
          var p = o[l] * h[l] - f[l] * c[l];
          f[l] = o[l] * c[l] + f[l] * h[l], o[l] = p;
        }

        return this.conjugate(o, f, i), this.transform(o, f, d, a, i, n), this.conjugate(d, a, i), this.normalize13b(d, i), r.negative = e.negative ^ t.negative, r.length = e.length + t.length, r._strip();
      }, a.prototype.mul = function (e) {
        var t = new a(null);
        return t.words = new Array(this.length + e.length), this.mulTo(e, t);
      }, a.prototype.mulf = function (e) {
        var t = new a(null);
        return t.words = new Array(this.length + e.length), y(this, e, t);
      }, a.prototype.imul = function (e) {
        return this.clone().mulTo(e, this);
      }, a.prototype.imuln = function (e) {
        var t = e < 0;
        t && (e = -e), i("number" == typeof e), i(e < 67108864);

        for (var r = 0, n = 0; n < this.length; n++) {
          var a = (0 | this.words[n]) * e,
              s = (67108863 & a) + (67108863 & r);
          r >>= 26, r += a / 67108864 | 0, r += s >>> 26, this.words[n] = 67108863 & s;
        }

        return 0 !== r && (this.words[n] = r, this.length++), t ? this.ineg() : this;
      }, a.prototype.muln = function (e) {
        return this.clone().imuln(e);
      }, a.prototype.sqr = function () {
        return this.mul(this);
      }, a.prototype.isqr = function () {
        return this.imul(this.clone());
      }, a.prototype.pow = function (e) {
        var t = function (e) {
          for (var t = new Array(e.bitLength()), r = 0; r < t.length; r++) {
            var i = r / 26 | 0,
                n = r % 26;
            t[r] = e.words[i] >>> n & 1;
          }

          return t;
        }(e);

        if (0 === t.length) return new a(1);

        for (var r = this, i = 0; i < t.length && 0 === t[i]; i++, r = r.sqr()) {
          ;
        }

        if (++i < t.length) for (var n = r.sqr(); i < t.length; i++, n = n.sqr()) {
          0 !== t[i] && (r = r.mul(n));
        }
        return r;
      }, a.prototype.iushln = function (e) {
        i("number" == typeof e && e >= 0);
        var t,
            r = e % 26,
            n = (e - r) / 26,
            a = 67108863 >>> 26 - r << 26 - r;

        if (0 !== r) {
          var s = 0;

          for (t = 0; t < this.length; t++) {
            var o = this.words[t] & a,
                f = (0 | this.words[t]) - o << r;
            this.words[t] = f | s, s = o >>> 26 - r;
          }

          s && (this.words[t] = s, this.length++);
        }

        if (0 !== n) {
          for (t = this.length - 1; t >= 0; t--) {
            this.words[t + n] = this.words[t];
          }

          for (t = 0; t < n; t++) {
            this.words[t] = 0;
          }

          this.length += n;
        }

        return this._strip();
      }, a.prototype.ishln = function (e) {
        return i(0 === this.negative), this.iushln(e);
      }, a.prototype.iushrn = function (e, t, r) {
        var n;
        i("number" == typeof e && e >= 0), n = t ? (t - t % 26) / 26 : 0;
        var a = e % 26,
            s = Math.min((e - a) / 26, this.length),
            o = 67108863 ^ 67108863 >>> a << a,
            f = r;

        if (n -= s, n = Math.max(0, n), f) {
          for (var u = 0; u < s; u++) {
            f.words[u] = this.words[u];
          }

          f.length = s;
        }

        if (0 === s) ;else if (this.length > s) for (this.length -= s, u = 0; u < this.length; u++) {
          this.words[u] = this.words[u + s];
        } else this.words[0] = 0, this.length = 1;
        var h = 0;

        for (u = this.length - 1; u >= 0 && (0 !== h || u >= n); u--) {
          var c = 0 | this.words[u];
          this.words[u] = h << 26 - a | c >>> a, h = c & o;
        }

        return f && 0 !== h && (f.words[f.length++] = h), 0 === this.length && (this.words[0] = 0, this.length = 1), this._strip();
      }, a.prototype.ishrn = function (e, t, r) {
        return i(0 === this.negative), this.iushrn(e, t, r);
      }, a.prototype.shln = function (e) {
        return this.clone().ishln(e);
      }, a.prototype.ushln = function (e) {
        return this.clone().iushln(e);
      }, a.prototype.shrn = function (e) {
        return this.clone().ishrn(e);
      }, a.prototype.ushrn = function (e) {
        return this.clone().iushrn(e);
      }, a.prototype.testn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = e % 26,
            r = (e - t) / 26,
            n = 1 << t;
        return !(this.length <= r) && !!(this.words[r] & n);
      }, a.prototype.imaskn = function (e) {
        i("number" == typeof e && e >= 0);
        var t = e % 26,
            r = (e - t) / 26;
        if (i(0 === this.negative, "imaskn works only with positive numbers"), this.length <= r) return this;

        if (0 !== t && r++, this.length = Math.min(r, this.length), 0 !== t) {
          var n = 67108863 ^ 67108863 >>> t << t;
          this.words[this.length - 1] &= n;
        }

        return this._strip();
      }, a.prototype.maskn = function (e) {
        return this.clone().imaskn(e);
      }, a.prototype.iaddn = function (e) {
        return i("number" == typeof e), i(e < 67108864), e < 0 ? this.isubn(-e) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) <= e ? (this.words[0] = e - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(e), this.negative = 1, this) : this._iaddn(e);
      }, a.prototype._iaddn = function (e) {
        this.words[0] += e;

        for (var t = 0; t < this.length && this.words[t] >= 67108864; t++) {
          this.words[t] -= 67108864, t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++;
        }

        return this.length = Math.max(this.length, t + 1), this;
      }, a.prototype.isubn = function (e) {
        if (i("number" == typeof e), i(e < 67108864), e < 0) return this.iaddn(-e);
        if (0 !== this.negative) return this.negative = 0, this.iaddn(e), this.negative = 1, this;
        if (this.words[0] -= e, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1;else for (var t = 0; t < this.length && this.words[t] < 0; t++) {
          this.words[t] += 67108864, this.words[t + 1] -= 1;
        }
        return this._strip();
      }, a.prototype.addn = function (e) {
        return this.clone().iaddn(e);
      }, a.prototype.subn = function (e) {
        return this.clone().isubn(e);
      }, a.prototype.iabs = function () {
        return this.negative = 0, this;
      }, a.prototype.abs = function () {
        return this.clone().iabs();
      }, a.prototype._ishlnsubmul = function (e, t, r) {
        var n,
            a,
            s = e.length + r;

        this._expand(s);

        var o = 0;

        for (n = 0; n < e.length; n++) {
          a = (0 | this.words[n + r]) + o;
          var f = (0 | e.words[n]) * t;
          o = ((a -= 67108863 & f) >> 26) - (f / 67108864 | 0), this.words[n + r] = 67108863 & a;
        }

        for (; n < this.length - r; n++) {
          o = (a = (0 | this.words[n + r]) + o) >> 26, this.words[n + r] = 67108863 & a;
        }

        if (0 === o) return this._strip();

        for (i(-1 === o), o = 0, n = 0; n < this.length; n++) {
          o = (a = -(0 | this.words[n]) + o) >> 26, this.words[n] = 67108863 & a;
        }

        return this.negative = 1, this._strip();
      }, a.prototype._wordDiv = function (e, t) {
        var r = (this.length, e.length),
            i = this.clone(),
            n = e,
            s = 0 | n.words[n.length - 1];
        0 !== (r = 26 - this._countBits(s)) && (n = n.ushln(r), i.iushln(r), s = 0 | n.words[n.length - 1]);
        var o,
            f = i.length - n.length;

        if ("mod" !== t) {
          (o = new a(null)).length = f + 1, o.words = new Array(o.length);

          for (var u = 0; u < o.length; u++) {
            o.words[u] = 0;
          }
        }

        var h = i.clone()._ishlnsubmul(n, 1, f);

        0 === h.negative && (i = h, o && (o.words[f] = 1));

        for (var c = f - 1; c >= 0; c--) {
          var d = 67108864 * (0 | i.words[n.length + c]) + (0 | i.words[n.length + c - 1]);

          for (d = Math.min(d / s | 0, 67108863), i._ishlnsubmul(n, d, c); 0 !== i.negative;) {
            d--, i.negative = 0, i._ishlnsubmul(n, 1, c), i.isZero() || (i.negative ^= 1);
          }

          o && (o.words[c] = d);
        }

        return o && o._strip(), i._strip(), "div" !== t && 0 !== r && i.iushrn(r), {
          div: o || null,
          mod: i
        };
      }, a.prototype.divmod = function (e, t, r) {
        return i(!e.isZero()), this.isZero() ? {
          div: new a(0),
          mod: new a(0)
        } : 0 !== this.negative && 0 === e.negative ? (o = this.neg().divmod(e, t), "mod" !== t && (n = o.div.neg()), "div" !== t && (s = o.mod.neg(), r && 0 !== s.negative && s.iadd(e)), {
          div: n,
          mod: s
        }) : 0 === this.negative && 0 !== e.negative ? (o = this.divmod(e.neg(), t), "mod" !== t && (n = o.div.neg()), {
          div: n,
          mod: o.mod
        }) : 0 != (this.negative & e.negative) ? (o = this.neg().divmod(e.neg(), t), "div" !== t && (s = o.mod.neg(), r && 0 !== s.negative && s.isub(e)), {
          div: o.div,
          mod: s
        }) : e.length > this.length || this.cmp(e) < 0 ? {
          div: new a(0),
          mod: this
        } : 1 === e.length ? "div" === t ? {
          div: this.divn(e.words[0]),
          mod: null
        } : "mod" === t ? {
          div: null,
          mod: new a(this.modrn(e.words[0]))
        } : {
          div: this.divn(e.words[0]),
          mod: new a(this.modrn(e.words[0]))
        } : this._wordDiv(e, t);
        var n, s, o;
      }, a.prototype.div = function (e) {
        return this.divmod(e, "div", !1).div;
      }, a.prototype.mod = function (e) {
        return this.divmod(e, "mod", !1).mod;
      }, a.prototype.umod = function (e) {
        return this.divmod(e, "mod", !0).mod;
      }, a.prototype.divRound = function (e) {
        var t = this.divmod(e);
        if (t.mod.isZero()) return t.div;
        var r = 0 !== t.div.negative ? t.mod.isub(e) : t.mod,
            i = e.ushrn(1),
            n = e.andln(1),
            a = r.cmp(i);
        return a < 0 || 1 === n && 0 === a ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1);
      }, a.prototype.modrn = function (e) {
        var t = e < 0;
        t && (e = -e), i(e <= 67108863);

        for (var r = (1 << 26) % e, n = 0, a = this.length - 1; a >= 0; a--) {
          n = (r * n + (0 | this.words[a])) % e;
        }

        return t ? -n : n;
      }, a.prototype.modn = function (e) {
        return this.modrn(e);
      }, a.prototype.idivn = function (e) {
        var t = e < 0;
        t && (e = -e), i(e <= 67108863);

        for (var r = 0, n = this.length - 1; n >= 0; n--) {
          var a = (0 | this.words[n]) + 67108864 * r;
          this.words[n] = a / e | 0, r = a % e;
        }

        return this._strip(), t ? this.ineg() : this;
      }, a.prototype.divn = function (e) {
        return this.clone().idivn(e);
      }, a.prototype.egcd = function (e) {
        i(0 === e.negative), i(!e.isZero());
        var t = this,
            r = e.clone();
        t = 0 !== t.negative ? t.umod(e) : t.clone();

        for (var n = new a(1), s = new a(0), o = new a(0), f = new a(1), u = 0; t.isEven() && r.isEven();) {
          t.iushrn(1), r.iushrn(1), ++u;
        }

        for (var h = r.clone(), c = t.clone(); !t.isZero();) {
          for (var d = 0, l = 1; 0 == (t.words[0] & l) && d < 26; ++d, l <<= 1) {
            ;
          }

          if (d > 0) for (t.iushrn(d); d-- > 0;) {
            (n.isOdd() || s.isOdd()) && (n.iadd(h), s.isub(c)), n.iushrn(1), s.iushrn(1);
          }

          for (var p = 0, m = 1; 0 == (r.words[0] & m) && p < 26; ++p, m <<= 1) {
            ;
          }

          if (p > 0) for (r.iushrn(p); p-- > 0;) {
            (o.isOdd() || f.isOdd()) && (o.iadd(h), f.isub(c)), o.iushrn(1), f.iushrn(1);
          }
          t.cmp(r) >= 0 ? (t.isub(r), n.isub(o), s.isub(f)) : (r.isub(t), o.isub(n), f.isub(s));
        }

        return {
          a: o,
          b: f,
          gcd: r.iushln(u)
        };
      }, a.prototype._invmp = function (e) {
        i(0 === e.negative), i(!e.isZero());
        var t = this,
            r = e.clone();
        t = 0 !== t.negative ? t.umod(e) : t.clone();

        for (var n, s = new a(1), o = new a(0), f = r.clone(); t.cmpn(1) > 0 && r.cmpn(1) > 0;) {
          for (var u = 0, h = 1; 0 == (t.words[0] & h) && u < 26; ++u, h <<= 1) {
            ;
          }

          if (u > 0) for (t.iushrn(u); u-- > 0;) {
            s.isOdd() && s.iadd(f), s.iushrn(1);
          }

          for (var c = 0, d = 1; 0 == (r.words[0] & d) && c < 26; ++c, d <<= 1) {
            ;
          }

          if (c > 0) for (r.iushrn(c); c-- > 0;) {
            o.isOdd() && o.iadd(f), o.iushrn(1);
          }
          t.cmp(r) >= 0 ? (t.isub(r), s.isub(o)) : (r.isub(t), o.isub(s));
        }

        return (n = 0 === t.cmpn(1) ? s : o).cmpn(0) < 0 && n.iadd(e), n;
      }, a.prototype.gcd = function (e) {
        if (this.isZero()) return e.abs();
        if (e.isZero()) return this.abs();
        var t = this.clone(),
            r = e.clone();
        t.negative = 0, r.negative = 0;

        for (var i = 0; t.isEven() && r.isEven(); i++) {
          t.iushrn(1), r.iushrn(1);
        }

        for (;;) {
          for (; t.isEven();) {
            t.iushrn(1);
          }

          for (; r.isEven();) {
            r.iushrn(1);
          }

          var n = t.cmp(r);

          if (n < 0) {
            var a = t;
            t = r, r = a;
          } else if (0 === n || 0 === r.cmpn(1)) break;

          t.isub(r);
        }

        return r.iushln(i);
      }, a.prototype.invm = function (e) {
        return this.egcd(e).a.umod(e);
      }, a.prototype.isEven = function () {
        return 0 == (1 & this.words[0]);
      }, a.prototype.isOdd = function () {
        return 1 == (1 & this.words[0]);
      }, a.prototype.andln = function (e) {
        return this.words[0] & e;
      }, a.prototype.bincn = function (e) {
        i("number" == typeof e);
        var t = e % 26,
            r = (e - t) / 26,
            n = 1 << t;
        if (this.length <= r) return this._expand(r + 1), this.words[r] |= n, this;

        for (var a = n, s = r; 0 !== a && s < this.length; s++) {
          var o = 0 | this.words[s];
          a = (o += a) >>> 26, o &= 67108863, this.words[s] = o;
        }

        return 0 !== a && (this.words[s] = a, this.length++), this;
      }, a.prototype.isZero = function () {
        return 1 === this.length && 0 === this.words[0];
      }, a.prototype.cmpn = function (e) {
        var t,
            r = e < 0;
        if (0 !== this.negative && !r) return -1;
        if (0 === this.negative && r) return 1;
        if (this._strip(), this.length > 1) t = 1;else {
          r && (e = -e), i(e <= 67108863, "Number is too big");
          var n = 0 | this.words[0];
          t = n === e ? 0 : n < e ? -1 : 1;
        }
        return 0 !== this.negative ? 0 | -t : t;
      }, a.prototype.cmp = function (e) {
        if (0 !== this.negative && 0 === e.negative) return -1;
        if (0 === this.negative && 0 !== e.negative) return 1;
        var t = this.ucmp(e);
        return 0 !== this.negative ? 0 | -t : t;
      }, a.prototype.ucmp = function (e) {
        if (this.length > e.length) return 1;
        if (this.length < e.length) return -1;

        for (var t = 0, r = this.length - 1; r >= 0; r--) {
          var i = 0 | this.words[r],
              n = 0 | e.words[r];

          if (i !== n) {
            i < n ? t = -1 : i > n && (t = 1);
            break;
          }
        }

        return t;
      }, a.prototype.gtn = function (e) {
        return 1 === this.cmpn(e);
      }, a.prototype.gt = function (e) {
        return 1 === this.cmp(e);
      }, a.prototype.gten = function (e) {
        return this.cmpn(e) >= 0;
      }, a.prototype.gte = function (e) {
        return this.cmp(e) >= 0;
      }, a.prototype.ltn = function (e) {
        return -1 === this.cmpn(e);
      }, a.prototype.lt = function (e) {
        return -1 === this.cmp(e);
      }, a.prototype.lten = function (e) {
        return this.cmpn(e) <= 0;
      }, a.prototype.lte = function (e) {
        return this.cmp(e) <= 0;
      }, a.prototype.eqn = function (e) {
        return 0 === this.cmpn(e);
      }, a.prototype.eq = function (e) {
        return 0 === this.cmp(e);
      }, a.red = function (e) {
        return new x(e);
      }, a.prototype.toRed = function (e) {
        return i(!this.red, "Already a number in reduction context"), i(0 === this.negative, "red works only with positives"), e.convertTo(this)._forceRed(e);
      }, a.prototype.fromRed = function () {
        return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
      }, a.prototype._forceRed = function (e) {
        return this.red = e, this;
      }, a.prototype.forceRed = function (e) {
        return i(!this.red, "Already a number in reduction context"), this._forceRed(e);
      }, a.prototype.redAdd = function (e) {
        return i(this.red, "redAdd works only with red numbers"), this.red.add(this, e);
      }, a.prototype.redIAdd = function (e) {
        return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, e);
      }, a.prototype.redSub = function (e) {
        return i(this.red, "redSub works only with red numbers"), this.red.sub(this, e);
      }, a.prototype.redISub = function (e) {
        return i(this.red, "redISub works only with red numbers"), this.red.isub(this, e);
      }, a.prototype.redShl = function (e) {
        return i(this.red, "redShl works only with red numbers"), this.red.shl(this, e);
      }, a.prototype.redMul = function (e) {
        return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.mul(this, e);
      }, a.prototype.redIMul = function (e) {
        return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, e), this.red.imul(this, e);
      }, a.prototype.redSqr = function () {
        return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
      }, a.prototype.redISqr = function () {
        return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
      }, a.prototype.redSqrt = function () {
        return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
      }, a.prototype.redInvm = function () {
        return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
      }, a.prototype.redNeg = function () {
        return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
      }, a.prototype.redPow = function (e) {
        return i(this.red && !e.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, e);
      };
      var _ = {
        k256: null,
        p224: null,
        p192: null,
        p25519: null
      };

      function v(e, t) {
        this.name = e, this.p = new a(t, 16), this.n = this.p.bitLength(), this.k = new a(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
      }

      function w() {
        v.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
      }

      function E() {
        v.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
      }

      function S() {
        v.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
      }

      function A() {
        v.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
      }

      function x(e) {
        if ("string" == typeof e) {
          var t = a._prime(e);

          this.m = t.p, this.prime = t;
        } else i(e.gtn(1), "modulus must be greater than 1"), this.m = e, this.prime = null;
      }

      function M(e) {
        x.call(this, e), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new a(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
      }

      v.prototype._tmp = function () {
        var e = new a(null);
        return e.words = new Array(Math.ceil(this.n / 13)), e;
      }, v.prototype.ireduce = function (e) {
        var t,
            r = e;

        do {
          this.split(r, this.tmp), t = (r = (r = this.imulK(r)).iadd(this.tmp)).bitLength();
        } while (t > this.n);

        var i = t < this.n ? -1 : r.ucmp(this.p);
        return 0 === i ? (r.words[0] = 0, r.length = 1) : i > 0 ? r.isub(this.p) : void 0 !== r.strip ? r.strip() : r._strip(), r;
      }, v.prototype.split = function (e, t) {
        e.iushrn(this.n, 0, t);
      }, v.prototype.imulK = function (e) {
        return e.imul(this.k);
      }, n(w, v), w.prototype.split = function (e, t) {
        for (var r = Math.min(e.length, 9), i = 0; i < r; i++) {
          t.words[i] = e.words[i];
        }

        if (t.length = r, e.length <= 9) return e.words[0] = 0, void (e.length = 1);
        var n = e.words[9];

        for (t.words[t.length++] = 4194303 & n, i = 10; i < e.length; i++) {
          var a = 0 | e.words[i];
          e.words[i - 10] = (4194303 & a) << 4 | n >>> 22, n = a;
        }

        n >>>= 22, e.words[i - 10] = n, 0 === n && e.length > 10 ? e.length -= 10 : e.length -= 9;
      }, w.prototype.imulK = function (e) {
        e.words[e.length] = 0, e.words[e.length + 1] = 0, e.length += 2;

        for (var t = 0, r = 0; r < e.length; r++) {
          var i = 0 | e.words[r];
          t += 977 * i, e.words[r] = 67108863 & t, t = 64 * i + (t / 67108864 | 0);
        }

        return 0 === e.words[e.length - 1] && (e.length--, 0 === e.words[e.length - 1] && e.length--), e;
      }, n(E, v), n(S, v), n(A, v), A.prototype.imulK = function (e) {
        for (var t = 0, r = 0; r < e.length; r++) {
          var i = 19 * (0 | e.words[r]) + t,
              n = 67108863 & i;
          i >>>= 26, e.words[r] = n, t = i;
        }

        return 0 !== t && (e.words[e.length++] = t), e;
      }, a._prime = function (e) {
        if (_[e]) return _[e];
        var t;
        if ("k256" === e) t = new w();else if ("p224" === e) t = new E();else if ("p192" === e) t = new S();else {
          if ("p25519" !== e) throw new Error("Unknown prime " + e);
          t = new A();
        }
        return _[e] = t, t;
      }, x.prototype._verify1 = function (e) {
        i(0 === e.negative, "red works only with positives"), i(e.red, "red works only with red numbers");
      }, x.prototype._verify2 = function (e, t) {
        i(0 == (e.negative | t.negative), "red works only with positives"), i(e.red && e.red === t.red, "red works only with red numbers");
      }, x.prototype.imod = function (e) {
        return this.prime ? this.prime.ireduce(e)._forceRed(this) : (u(e, e.umod(this.m)._forceRed(this)), e);
      }, x.prototype.neg = function (e) {
        return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this);
      }, x.prototype.add = function (e, t) {
        this._verify2(e, t);

        var r = e.add(t);
        return r.cmp(this.m) >= 0 && r.isub(this.m), r._forceRed(this);
      }, x.prototype.iadd = function (e, t) {
        this._verify2(e, t);

        var r = e.iadd(t);
        return r.cmp(this.m) >= 0 && r.isub(this.m), r;
      }, x.prototype.sub = function (e, t) {
        this._verify2(e, t);

        var r = e.sub(t);
        return r.cmpn(0) < 0 && r.iadd(this.m), r._forceRed(this);
      }, x.prototype.isub = function (e, t) {
        this._verify2(e, t);

        var r = e.isub(t);
        return r.cmpn(0) < 0 && r.iadd(this.m), r;
      }, x.prototype.shl = function (e, t) {
        return this._verify1(e), this.imod(e.ushln(t));
      }, x.prototype.imul = function (e, t) {
        return this._verify2(e, t), this.imod(e.imul(t));
      }, x.prototype.mul = function (e, t) {
        return this._verify2(e, t), this.imod(e.mul(t));
      }, x.prototype.isqr = function (e) {
        return this.imul(e, e.clone());
      }, x.prototype.sqr = function (e) {
        return this.mul(e, e);
      }, x.prototype.sqrt = function (e) {
        if (e.isZero()) return e.clone();
        var t = this.m.andln(3);

        if (i(t % 2 == 1), 3 === t) {
          var r = this.m.add(new a(1)).iushrn(2);
          return this.pow(e, r);
        }

        for (var n = this.m.subn(1), s = 0; !n.isZero() && 0 === n.andln(1);) {
          s++, n.iushrn(1);
        }

        i(!n.isZero());
        var o = new a(1).toRed(this),
            f = o.redNeg(),
            u = this.m.subn(1).iushrn(1),
            h = this.m.bitLength();

        for (h = new a(2 * h * h).toRed(this); 0 !== this.pow(h, u).cmp(f);) {
          h.redIAdd(f);
        }

        for (var c = this.pow(h, n), d = this.pow(e, n.addn(1).iushrn(1)), l = this.pow(e, n), p = s; 0 !== l.cmp(o);) {
          for (var m = l, b = 0; 0 !== m.cmp(o); b++) {
            m = m.redSqr();
          }

          i(b < p);
          var y = this.pow(c, new a(1).iushln(p - b - 1));
          d = d.redMul(y), c = y.redSqr(), l = l.redMul(c), p = b;
        }

        return d;
      }, x.prototype.invm = function (e) {
        var t = e._invmp(this.m);

        return 0 !== t.negative ? (t.negative = 0, this.imod(t).redNeg()) : this.imod(t);
      }, x.prototype.pow = function (e, t) {
        if (t.isZero()) return new a(1).toRed(this);
        if (0 === t.cmpn(1)) return e.clone();
        var r = new Array(16);
        r[0] = new a(1).toRed(this), r[1] = e;

        for (var i = 2; i < r.length; i++) {
          r[i] = this.mul(r[i - 1], e);
        }

        var n = r[0],
            s = 0,
            o = 0,
            f = t.bitLength() % 26;

        for (0 === f && (f = 26), i = t.length - 1; i >= 0; i--) {
          for (var u = t.words[i], h = f - 1; h >= 0; h--) {
            var c = u >> h & 1;
            n !== r[0] && (n = this.sqr(n)), 0 !== c || 0 !== s ? (s <<= 1, s |= c, (4 === ++o || 0 === i && 0 === h) && (n = this.mul(n, r[s]), o = 0, s = 0)) : o = 0;
          }

          f = 26;
        }

        return n;
      }, x.prototype.convertTo = function (e) {
        var t = e.umod(this.m);
        return t === e ? t.clone() : t;
      }, x.prototype.convertFrom = function (e) {
        var t = e.clone();
        return t.red = null, t;
      }, a.mont = function (e) {
        return new M(e);
      }, n(M, x), M.prototype.convertTo = function (e) {
        return this.imod(e.ushln(this.shift));
      }, M.prototype.convertFrom = function (e) {
        var t = this.imod(e.mul(this.rinv));
        return t.red = null, t;
      }, M.prototype.imul = function (e, t) {
        if (e.isZero() || t.isZero()) return e.words[0] = 0, e.length = 1, e;
        var r = e.imul(t),
            i = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
            n = r.isub(i).iushrn(this.shift),
            a = n;
        return n.cmp(this.m) >= 0 ? a = n.isub(this.m) : n.cmpn(0) < 0 && (a = n.iadd(this.m)), a._forceRed(this);
      }, M.prototype.mul = function (e, t) {
        if (e.isZero() || t.isZero()) return new a(0)._forceRed(this);
        var r = e.mul(t),
            i = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
            n = r.isub(i).iushrn(this.shift),
            s = n;
        return n.cmp(this.m) >= 0 ? s = n.isub(this.m) : n.cmpn(0) < 0 && (s = n.iadd(this.m)), s._forceRed(this);
      }, M.prototype.invm = function (e) {
        return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this);
      };
    }(void 0 === t || t, this);
  }, {
    buffer: 19
  }],
  18: [function (e, t, r) {
    var i;

    function n(e) {
      this.rand = e;
    }

    if (t.exports = function (e) {
      return i || (i = new n(null)), i.generate(e);
    }, t.exports.Rand = n, n.prototype.generate = function (e) {
      return this._rand(e);
    }, n.prototype._rand = function (e) {
      if (this.rand.getBytes) return this.rand.getBytes(e);

      for (var t = new Uint8Array(e), r = 0; r < t.length; r++) {
        t[r] = this.rand.getByte();
      }

      return t;
    }, "object" == (typeof self === "undefined" ? "undefined" : _typeof(self))) self.crypto && self.crypto.getRandomValues ? n.prototype._rand = function (e) {
      var t = new Uint8Array(e);
      return self.crypto.getRandomValues(t), t;
    } : self.msCrypto && self.msCrypto.getRandomValues ? n.prototype._rand = function (e) {
      var t = new Uint8Array(e);
      return self.msCrypto.getRandomValues(t), t;
    } : "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && (n.prototype._rand = function () {
      throw new Error("Not implemented yet");
    });else try {
      var a = e("crypto");
      if ("function" != typeof a.randomBytes) throw new Error("Not supported");

      n.prototype._rand = function (e) {
        return a.randomBytes(e);
      };
    } catch (e) {}
  }, {
    crypto: 19
  }],
  19: [function (e, t, r) {}, {}],
  20: [function (e, t, r) {
    var i = e("safe-buffer").Buffer;

    function n(e) {
      i.isBuffer(e) || (e = i.from(e));

      for (var t = e.length / 4 | 0, r = new Array(t), n = 0; n < t; n++) {
        r[n] = e.readUInt32BE(4 * n);
      }

      return r;
    }

    function a(e) {
      for (; 0 < e.length; e++) {
        e[0] = 0;
      }
    }

    function s(e, t, r, i, n) {
      for (var a, s, o, f, u = r[0], h = r[1], c = r[2], d = r[3], l = e[0] ^ t[0], p = e[1] ^ t[1], m = e[2] ^ t[2], b = e[3] ^ t[3], y = 4, g = 1; g < n; g++) {
        a = u[l >>> 24] ^ h[p >>> 16 & 255] ^ c[m >>> 8 & 255] ^ d[255 & b] ^ t[y++], s = u[p >>> 24] ^ h[m >>> 16 & 255] ^ c[b >>> 8 & 255] ^ d[255 & l] ^ t[y++], o = u[m >>> 24] ^ h[b >>> 16 & 255] ^ c[l >>> 8 & 255] ^ d[255 & p] ^ t[y++], f = u[b >>> 24] ^ h[l >>> 16 & 255] ^ c[p >>> 8 & 255] ^ d[255 & m] ^ t[y++], l = a, p = s, m = o, b = f;
      }

      return a = (i[l >>> 24] << 24 | i[p >>> 16 & 255] << 16 | i[m >>> 8 & 255] << 8 | i[255 & b]) ^ t[y++], s = (i[p >>> 24] << 24 | i[m >>> 16 & 255] << 16 | i[b >>> 8 & 255] << 8 | i[255 & l]) ^ t[y++], o = (i[m >>> 24] << 24 | i[b >>> 16 & 255] << 16 | i[l >>> 8 & 255] << 8 | i[255 & p]) ^ t[y++], f = (i[b >>> 24] << 24 | i[l >>> 16 & 255] << 16 | i[p >>> 8 & 255] << 8 | i[255 & m]) ^ t[y++], [a >>>= 0, s >>>= 0, o >>>= 0, f >>>= 0];
    }

    var o = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
        f = function () {
      for (var e = new Array(256), t = 0; t < 256; t++) {
        e[t] = t < 128 ? t << 1 : t << 1 ^ 283;
      }

      for (var r = [], i = [], n = [[], [], [], []], a = [[], [], [], []], s = 0, o = 0, f = 0; f < 256; ++f) {
        var u = o ^ o << 1 ^ o << 2 ^ o << 3 ^ o << 4;
        u = u >>> 8 ^ 255 & u ^ 99, r[s] = u, i[u] = s;
        var h = e[s],
            c = e[h],
            d = e[c],
            l = 257 * e[u] ^ 16843008 * u;
        n[0][s] = l << 24 | l >>> 8, n[1][s] = l << 16 | l >>> 16, n[2][s] = l << 8 | l >>> 24, n[3][s] = l, l = 16843009 * d ^ 65537 * c ^ 257 * h ^ 16843008 * s, a[0][u] = l << 24 | l >>> 8, a[1][u] = l << 16 | l >>> 16, a[2][u] = l << 8 | l >>> 24, a[3][u] = l, 0 === s ? s = o = 1 : (s = h ^ e[e[e[d ^ h]]], o ^= e[e[o]]);
      }

      return {
        SBOX: r,
        INV_SBOX: i,
        SUB_MIX: n,
        INV_SUB_MIX: a
      };
    }();

    function u(e) {
      this._key = n(e), this._reset();
    }

    u.blockSize = 16, u.keySize = 32, u.prototype.blockSize = u.blockSize, u.prototype.keySize = u.keySize, u.prototype._reset = function () {
      for (var e = this._key, t = e.length, r = t + 6, i = 4 * (r + 1), n = [], a = 0; a < t; a++) {
        n[a] = e[a];
      }

      for (a = t; a < i; a++) {
        var s = n[a - 1];
        a % t == 0 ? (s = s << 8 | s >>> 24, s = f.SBOX[s >>> 24] << 24 | f.SBOX[s >>> 16 & 255] << 16 | f.SBOX[s >>> 8 & 255] << 8 | f.SBOX[255 & s], s ^= o[a / t | 0] << 24) : t > 6 && a % t == 4 && (s = f.SBOX[s >>> 24] << 24 | f.SBOX[s >>> 16 & 255] << 16 | f.SBOX[s >>> 8 & 255] << 8 | f.SBOX[255 & s]), n[a] = n[a - t] ^ s;
      }

      for (var u = [], h = 0; h < i; h++) {
        var c = i - h,
            d = n[c - (h % 4 ? 0 : 4)];
        u[h] = h < 4 || c <= 4 ? d : f.INV_SUB_MIX[0][f.SBOX[d >>> 24]] ^ f.INV_SUB_MIX[1][f.SBOX[d >>> 16 & 255]] ^ f.INV_SUB_MIX[2][f.SBOX[d >>> 8 & 255]] ^ f.INV_SUB_MIX[3][f.SBOX[255 & d]];
      }

      this._nRounds = r, this._keySchedule = n, this._invKeySchedule = u;
    }, u.prototype.encryptBlockRaw = function (e) {
      return s(e = n(e), this._keySchedule, f.SUB_MIX, f.SBOX, this._nRounds);
    }, u.prototype.encryptBlock = function (e) {
      var t = this.encryptBlockRaw(e),
          r = i.allocUnsafe(16);
      return r.writeUInt32BE(t[0], 0), r.writeUInt32BE(t[1], 4), r.writeUInt32BE(t[2], 8), r.writeUInt32BE(t[3], 12), r;
    }, u.prototype.decryptBlock = function (e) {
      var t = (e = n(e))[1];
      e[1] = e[3], e[3] = t;
      var r = s(e, this._invKeySchedule, f.INV_SUB_MIX, f.INV_SBOX, this._nRounds),
          a = i.allocUnsafe(16);
      return a.writeUInt32BE(r[0], 0), a.writeUInt32BE(r[3], 4), a.writeUInt32BE(r[2], 8), a.writeUInt32BE(r[1], 12), a;
    }, u.prototype.scrub = function () {
      a(this._keySchedule), a(this._invKeySchedule), a(this._key);
    }, t.exports.AES = u;
  }, {
    "safe-buffer": 183
  }],
  21: [function (e, t, r) {
    var i = e("./aes"),
        n = e("safe-buffer").Buffer,
        a = e("cipher-base"),
        s = e("inherits"),
        o = e("./ghash"),
        f = e("buffer-xor"),
        u = e("./incr32");

    function h(e, t, r, s) {
      a.call(this);
      var f = n.alloc(4, 0);
      this._cipher = new i.AES(t);

      var h = this._cipher.encryptBlock(f);

      this._ghash = new o(h), r = function (e, t, r) {
        if (12 === t.length) return e._finID = n.concat([t, n.from([0, 0, 0, 1])]), n.concat([t, n.from([0, 0, 0, 2])]);
        var i = new o(r),
            a = t.length,
            s = a % 16;
        i.update(t), s && (s = 16 - s, i.update(n.alloc(s, 0))), i.update(n.alloc(8, 0));
        var f = 8 * a,
            h = n.alloc(8);
        h.writeUIntBE(f, 0, 8), i.update(h), e._finID = i.state;
        var c = n.from(e._finID);
        return u(c), c;
      }(this, r, h), this._prev = n.from(r), this._cache = n.allocUnsafe(0), this._secCache = n.allocUnsafe(0), this._decrypt = s, this._alen = 0, this._len = 0, this._mode = e, this._authTag = null, this._called = !1;
    }

    s(h, a), h.prototype._update = function (e) {
      if (!this._called && this._alen) {
        var t = 16 - this._alen % 16;
        t < 16 && (t = n.alloc(t, 0), this._ghash.update(t));
      }

      this._called = !0;

      var r = this._mode.encrypt(this, e);

      return this._decrypt ? this._ghash.update(e) : this._ghash.update(r), this._len += e.length, r;
    }, h.prototype._final = function () {
      if (this._decrypt && !this._authTag) throw new Error("Unsupported state or unable to authenticate data");
      var e = f(this._ghash["final"](8 * this._alen, 8 * this._len), this._cipher.encryptBlock(this._finID));
      if (this._decrypt && function (e, t) {
        var r = 0;
        e.length !== t.length && r++;

        for (var i = Math.min(e.length, t.length), n = 0; n < i; ++n) {
          r += e[n] ^ t[n];
        }

        return r;
      }(e, this._authTag)) throw new Error("Unsupported state or unable to authenticate data");
      this._authTag = e, this._cipher.scrub();
    }, h.prototype.getAuthTag = function () {
      if (this._decrypt || !n.isBuffer(this._authTag)) throw new Error("Attempting to get auth tag in unsupported state");
      return this._authTag;
    }, h.prototype.setAuthTag = function (e) {
      if (!this._decrypt) throw new Error("Attempting to set auth tag in unsupported state");
      this._authTag = e;
    }, h.prototype.setAAD = function (e) {
      if (this._called) throw new Error("Attempting to set AAD in unsupported state");
      this._ghash.update(e), this._alen += e.length;
    }, t.exports = h;
  }, {
    "./aes": 20,
    "./ghash": 25,
    "./incr32": 26,
    "buffer-xor": 64,
    "cipher-base": 66,
    inherits: 135,
    "safe-buffer": 183
  }],
  22: [function (e, t, r) {
    var i = e("./encrypter"),
        n = e("./decrypter"),
        a = e("./modes/list.json");
    r.createCipher = r.Cipher = i.createCipher, r.createCipheriv = r.Cipheriv = i.createCipheriv, r.createDecipher = r.Decipher = n.createDecipher, r.createDecipheriv = r.Decipheriv = n.createDecipheriv, r.listCiphers = r.getCiphers = function () {
      return Object.keys(a);
    };
  }, {
    "./decrypter": 23,
    "./encrypter": 24,
    "./modes/list.json": 34
  }],
  23: [function (e, t, r) {
    var i = e("./authCipher"),
        n = e("safe-buffer").Buffer,
        a = e("./modes"),
        s = e("./streamCipher"),
        o = e("cipher-base"),
        f = e("./aes"),
        u = e("evp_bytestokey");

    function h(e, t, r) {
      o.call(this), this._cache = new c(), this._last = void 0, this._cipher = new f.AES(t), this._prev = n.from(r), this._mode = e, this._autopadding = !0;
    }

    function c() {
      this.cache = n.allocUnsafe(0);
    }

    function d(e, t, r) {
      var o = a[e.toLowerCase()];
      if (!o) throw new TypeError("invalid suite type");
      if ("string" == typeof r && (r = n.from(r)), "GCM" !== o.mode && r.length !== o.iv) throw new TypeError("invalid iv length " + r.length);
      if ("string" == typeof t && (t = n.from(t)), t.length !== o.key / 8) throw new TypeError("invalid key length " + t.length);
      return "stream" === o.type ? new s(o.module, t, r, !0) : "auth" === o.type ? new i(o.module, t, r, !0) : new h(o.module, t, r);
    }

    e("inherits")(h, o), h.prototype._update = function (e) {
      var t, r;

      this._cache.add(e);

      for (var i = []; t = this._cache.get(this._autopadding);) {
        r = this._mode.decrypt(this, t), i.push(r);
      }

      return n.concat(i);
    }, h.prototype._final = function () {
      var e = this._cache.flush();

      if (this._autopadding) return function (e) {
        var t = e[15];
        if (t < 1 || t > 16) throw new Error("unable to decrypt data");
        var r = -1;

        for (; ++r < t;) {
          if (e[r + (16 - t)] !== t) throw new Error("unable to decrypt data");
        }

        if (16 === t) return;
        return e.slice(0, 16 - t);
      }(this._mode.decrypt(this, e));
      if (e) throw new Error("data not multiple of block length");
    }, h.prototype.setAutoPadding = function (e) {
      return this._autopadding = !!e, this;
    }, c.prototype.add = function (e) {
      this.cache = n.concat([this.cache, e]);
    }, c.prototype.get = function (e) {
      var t;

      if (e) {
        if (this.cache.length > 16) return t = this.cache.slice(0, 16), this.cache = this.cache.slice(16), t;
      } else if (this.cache.length >= 16) return t = this.cache.slice(0, 16), this.cache = this.cache.slice(16), t;

      return null;
    }, c.prototype.flush = function () {
      if (this.cache.length) return this.cache;
    }, r.createDecipher = function (e, t) {
      var r = a[e.toLowerCase()];
      if (!r) throw new TypeError("invalid suite type");
      var i = u(t, !1, r.key, r.iv);
      return d(e, i.key, i.iv);
    }, r.createDecipheriv = d;
  }, {
    "./aes": 20,
    "./authCipher": 21,
    "./modes": 33,
    "./streamCipher": 36,
    "cipher-base": 66,
    evp_bytestokey: 104,
    inherits: 135,
    "safe-buffer": 183
  }],
  24: [function (e, t, r) {
    var i = e("./modes"),
        n = e("./authCipher"),
        a = e("safe-buffer").Buffer,
        s = e("./streamCipher"),
        o = e("cipher-base"),
        f = e("./aes"),
        u = e("evp_bytestokey");

    function h(e, t, r) {
      o.call(this), this._cache = new d(), this._cipher = new f.AES(t), this._prev = a.from(r), this._mode = e, this._autopadding = !0;
    }

    e("inherits")(h, o), h.prototype._update = function (e) {
      var t, r;

      this._cache.add(e);

      for (var i = []; t = this._cache.get();) {
        r = this._mode.encrypt(this, t), i.push(r);
      }

      return a.concat(i);
    };
    var c = a.alloc(16, 16);

    function d() {
      this.cache = a.allocUnsafe(0);
    }

    function l(e, t, r) {
      var o = i[e.toLowerCase()];
      if (!o) throw new TypeError("invalid suite type");
      if ("string" == typeof t && (t = a.from(t)), t.length !== o.key / 8) throw new TypeError("invalid key length " + t.length);
      if ("string" == typeof r && (r = a.from(r)), "GCM" !== o.mode && r.length !== o.iv) throw new TypeError("invalid iv length " + r.length);
      return "stream" === o.type ? new s(o.module, t, r) : "auth" === o.type ? new n(o.module, t, r) : new h(o.module, t, r);
    }

    h.prototype._final = function () {
      var e = this._cache.flush();

      if (this._autopadding) return e = this._mode.encrypt(this, e), this._cipher.scrub(), e;
      if (!e.equals(c)) throw this._cipher.scrub(), new Error("data not multiple of block length");
    }, h.prototype.setAutoPadding = function (e) {
      return this._autopadding = !!e, this;
    }, d.prototype.add = function (e) {
      this.cache = a.concat([this.cache, e]);
    }, d.prototype.get = function () {
      if (this.cache.length > 15) {
        var e = this.cache.slice(0, 16);
        return this.cache = this.cache.slice(16), e;
      }

      return null;
    }, d.prototype.flush = function () {
      for (var e = 16 - this.cache.length, t = a.allocUnsafe(e), r = -1; ++r < e;) {
        t.writeUInt8(e, r);
      }

      return a.concat([this.cache, t]);
    }, r.createCipheriv = l, r.createCipher = function (e, t) {
      var r = i[e.toLowerCase()];
      if (!r) throw new TypeError("invalid suite type");
      var n = u(t, !1, r.key, r.iv);
      return l(e, n.key, n.iv);
    };
  }, {
    "./aes": 20,
    "./authCipher": 21,
    "./modes": 33,
    "./streamCipher": 36,
    "cipher-base": 66,
    evp_bytestokey: 104,
    inherits: 135,
    "safe-buffer": 183
  }],
  25: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = i.alloc(16, 0);

    function a(e) {
      var t = i.allocUnsafe(16);
      return t.writeUInt32BE(e[0] >>> 0, 0), t.writeUInt32BE(e[1] >>> 0, 4), t.writeUInt32BE(e[2] >>> 0, 8), t.writeUInt32BE(e[3] >>> 0, 12), t;
    }

    function s(e) {
      this.h = e, this.state = i.alloc(16, 0), this.cache = i.allocUnsafe(0);
    }

    s.prototype.ghash = function (e) {
      for (var t = -1; ++t < e.length;) {
        this.state[t] ^= e[t];
      }

      this._multiply();
    }, s.prototype._multiply = function () {
      for (var e, t, r, i = [(e = this.h).readUInt32BE(0), e.readUInt32BE(4), e.readUInt32BE(8), e.readUInt32BE(12)], n = [0, 0, 0, 0], s = -1; ++s < 128;) {
        for (0 != (this.state[~~(s / 8)] & 1 << 7 - s % 8) && (n[0] ^= i[0], n[1] ^= i[1], n[2] ^= i[2], n[3] ^= i[3]), r = 0 != (1 & i[3]), t = 3; t > 0; t--) {
          i[t] = i[t] >>> 1 | (1 & i[t - 1]) << 31;
        }

        i[0] = i[0] >>> 1, r && (i[0] = i[0] ^ 225 << 24);
      }

      this.state = a(n);
    }, s.prototype.update = function (e) {
      var t;

      for (this.cache = i.concat([this.cache, e]); this.cache.length >= 16;) {
        t = this.cache.slice(0, 16), this.cache = this.cache.slice(16), this.ghash(t);
      }
    }, s.prototype["final"] = function (e, t) {
      return this.cache.length && this.ghash(i.concat([this.cache, n], 16)), this.ghash(a([0, e, 0, t])), this.state;
    }, t.exports = s;
  }, {
    "safe-buffer": 183
  }],
  26: [function (e, t, r) {
    t.exports = function (e) {
      for (var t, r = e.length; r--;) {
        if (255 !== (t = e.readUInt8(r))) {
          t++, e.writeUInt8(t, r);
          break;
        }

        e.writeUInt8(0, r);
      }
    };
  }, {}],
  27: [function (e, t, r) {
    var i = e("buffer-xor");
    r.encrypt = function (e, t) {
      var r = i(t, e._prev);
      return e._prev = e._cipher.encryptBlock(r), e._prev;
    }, r.decrypt = function (e, t) {
      var r = e._prev;
      e._prev = t;

      var n = e._cipher.decryptBlock(t);

      return i(n, r);
    };
  }, {
    "buffer-xor": 64
  }],
  28: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("buffer-xor");

    function a(e, t, r) {
      var a = t.length,
          s = n(t, e._cache);
      return e._cache = e._cache.slice(a), e._prev = i.concat([e._prev, r ? t : s]), s;
    }

    r.encrypt = function (e, t, r) {
      for (var n, s = i.allocUnsafe(0); t.length;) {
        if (0 === e._cache.length && (e._cache = e._cipher.encryptBlock(e._prev), e._prev = i.allocUnsafe(0)), !(e._cache.length <= t.length)) {
          s = i.concat([s, a(e, t, r)]);
          break;
        }

        n = e._cache.length, s = i.concat([s, a(e, t.slice(0, n), r)]), t = t.slice(n);
      }

      return s;
    };
  }, {
    "buffer-xor": 64,
    "safe-buffer": 183
  }],
  29: [function (e, t, r) {
    var i = e("safe-buffer").Buffer;

    function n(e, t, r) {
      for (var i, n, s = -1, o = 0; ++s < 8;) {
        i = t & 1 << 7 - s ? 128 : 0, o += (128 & (n = e._cipher.encryptBlock(e._prev)[0] ^ i)) >> s % 8, e._prev = a(e._prev, r ? i : n);
      }

      return o;
    }

    function a(e, t) {
      var r = e.length,
          n = -1,
          a = i.allocUnsafe(e.length);

      for (e = i.concat([e, i.from([t])]); ++n < r;) {
        a[n] = e[n] << 1 | e[n + 1] >> 7;
      }

      return a;
    }

    r.encrypt = function (e, t, r) {
      for (var a = t.length, s = i.allocUnsafe(a), o = -1; ++o < a;) {
        s[o] = n(e, t[o], r);
      }

      return s;
    };
  }, {
    "safe-buffer": 183
  }],
  30: [function (e, t, r) {
    var i = e("safe-buffer").Buffer;

    function n(e, t, r) {
      var n = e._cipher.encryptBlock(e._prev)[0] ^ t;
      return e._prev = i.concat([e._prev.slice(1), i.from([r ? t : n])]), n;
    }

    r.encrypt = function (e, t, r) {
      for (var a = t.length, s = i.allocUnsafe(a), o = -1; ++o < a;) {
        s[o] = n(e, t[o], r);
      }

      return s;
    };
  }, {
    "safe-buffer": 183
  }],
  31: [function (e, t, r) {
    var i = e("buffer-xor"),
        n = e("safe-buffer").Buffer,
        a = e("../incr32");

    function s(e) {
      var t = e._cipher.encryptBlockRaw(e._prev);

      return a(e._prev), t;
    }

    r.encrypt = function (e, t) {
      var r = Math.ceil(t.length / 16),
          a = e._cache.length;
      e._cache = n.concat([e._cache, n.allocUnsafe(16 * r)]);

      for (var o = 0; o < r; o++) {
        var f = s(e),
            u = a + 16 * o;
        e._cache.writeUInt32BE(f[0], u + 0), e._cache.writeUInt32BE(f[1], u + 4), e._cache.writeUInt32BE(f[2], u + 8), e._cache.writeUInt32BE(f[3], u + 12);
      }

      var h = e._cache.slice(0, t.length);

      return e._cache = e._cache.slice(t.length), i(t, h);
    };
  }, {
    "../incr32": 26,
    "buffer-xor": 64,
    "safe-buffer": 183
  }],
  32: [function (e, t, r) {
    r.encrypt = function (e, t) {
      return e._cipher.encryptBlock(t);
    }, r.decrypt = function (e, t) {
      return e._cipher.decryptBlock(t);
    };
  }, {}],
  33: [function (e, t, r) {
    var i = {
      ECB: e("./ecb"),
      CBC: e("./cbc"),
      CFB: e("./cfb"),
      CFB8: e("./cfb8"),
      CFB1: e("./cfb1"),
      OFB: e("./ofb"),
      CTR: e("./ctr"),
      GCM: e("./ctr")
    },
        n = e("./list.json");

    for (var a in n) {
      n[a].module = i[n[a].mode];
    }

    t.exports = n;
  }, {
    "./cbc": 27,
    "./cfb": 28,
    "./cfb1": 29,
    "./cfb8": 30,
    "./ctr": 31,
    "./ecb": 32,
    "./list.json": 34,
    "./ofb": 35
  }],
  34: [function (e, t, r) {
    t.exports = {
      "aes-128-ecb": {
        cipher: "AES",
        key: 128,
        iv: 0,
        mode: "ECB",
        type: "block"
      },
      "aes-192-ecb": {
        cipher: "AES",
        key: 192,
        iv: 0,
        mode: "ECB",
        type: "block"
      },
      "aes-256-ecb": {
        cipher: "AES",
        key: 256,
        iv: 0,
        mode: "ECB",
        type: "block"
      },
      "aes-128-cbc": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      "aes-192-cbc": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      "aes-256-cbc": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      aes128: {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      aes192: {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      aes256: {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CBC",
        type: "block"
      },
      "aes-128-cfb": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CFB",
        type: "stream"
      },
      "aes-192-cfb": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CFB",
        type: "stream"
      },
      "aes-256-cfb": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CFB",
        type: "stream"
      },
      "aes-128-cfb8": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CFB8",
        type: "stream"
      },
      "aes-192-cfb8": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CFB8",
        type: "stream"
      },
      "aes-256-cfb8": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CFB8",
        type: "stream"
      },
      "aes-128-cfb1": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CFB1",
        type: "stream"
      },
      "aes-192-cfb1": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CFB1",
        type: "stream"
      },
      "aes-256-cfb1": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CFB1",
        type: "stream"
      },
      "aes-128-ofb": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "OFB",
        type: "stream"
      },
      "aes-192-ofb": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "OFB",
        type: "stream"
      },
      "aes-256-ofb": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "OFB",
        type: "stream"
      },
      "aes-128-ctr": {
        cipher: "AES",
        key: 128,
        iv: 16,
        mode: "CTR",
        type: "stream"
      },
      "aes-192-ctr": {
        cipher: "AES",
        key: 192,
        iv: 16,
        mode: "CTR",
        type: "stream"
      },
      "aes-256-ctr": {
        cipher: "AES",
        key: 256,
        iv: 16,
        mode: "CTR",
        type: "stream"
      },
      "aes-128-gcm": {
        cipher: "AES",
        key: 128,
        iv: 12,
        mode: "GCM",
        type: "auth"
      },
      "aes-192-gcm": {
        cipher: "AES",
        key: 192,
        iv: 12,
        mode: "GCM",
        type: "auth"
      },
      "aes-256-gcm": {
        cipher: "AES",
        key: 256,
        iv: 12,
        mode: "GCM",
        type: "auth"
      }
    };
  }, {}],
  35: [function (e, t, r) {
    (function (t) {
      var i = e("buffer-xor");

      function n(e) {
        return e._prev = e._cipher.encryptBlock(e._prev), e._prev;
      }

      r.encrypt = function (e, r) {
        for (; e._cache.length < r.length;) {
          e._cache = t.concat([e._cache, n(e)]);
        }

        var a = e._cache.slice(0, r.length);

        return e._cache = e._cache.slice(r.length), i(r, a);
      };
    }).call(this, e("buffer").Buffer);
  }, {
    buffer: 65,
    "buffer-xor": 64
  }],
  36: [function (e, t, r) {
    var i = e("./aes"),
        n = e("safe-buffer").Buffer,
        a = e("cipher-base");

    function s(e, t, r, s) {
      a.call(this), this._cipher = new i.AES(t), this._prev = n.from(r), this._cache = n.allocUnsafe(0), this._secCache = n.allocUnsafe(0), this._decrypt = s, this._mode = e;
    }

    e("inherits")(s, a), s.prototype._update = function (e) {
      return this._mode.encrypt(this, e, this._decrypt);
    }, s.prototype._final = function () {
      this._cipher.scrub();
    }, t.exports = s;
  }, {
    "./aes": 20,
    "cipher-base": 66,
    inherits: 135,
    "safe-buffer": 183
  }],
  37: [function (e, t, r) {
    var i = e("browserify-des"),
        n = e("browserify-aes/browser"),
        a = e("browserify-aes/modes"),
        s = e("browserify-des/modes"),
        o = e("evp_bytestokey");

    function f(e, t, r) {
      if (e = e.toLowerCase(), a[e]) return n.createCipheriv(e, t, r);
      if (s[e]) return new i({
        key: t,
        iv: r,
        mode: e
      });
      throw new TypeError("invalid suite type");
    }

    function u(e, t, r) {
      if (e = e.toLowerCase(), a[e]) return n.createDecipheriv(e, t, r);
      if (s[e]) return new i({
        key: t,
        iv: r,
        mode: e,
        decrypt: !0
      });
      throw new TypeError("invalid suite type");
    }

    r.createCipher = r.Cipher = function (e, t) {
      var r, i;
      if (e = e.toLowerCase(), a[e]) r = a[e].key, i = a[e].iv;else {
        if (!s[e]) throw new TypeError("invalid suite type");
        r = 8 * s[e].key, i = s[e].iv;
      }
      var n = o(t, !1, r, i);
      return f(e, n.key, n.iv);
    }, r.createCipheriv = r.Cipheriv = f, r.createDecipher = r.Decipher = function (e, t) {
      var r, i;
      if (e = e.toLowerCase(), a[e]) r = a[e].key, i = a[e].iv;else {
        if (!s[e]) throw new TypeError("invalid suite type");
        r = 8 * s[e].key, i = s[e].iv;
      }
      var n = o(t, !1, r, i);
      return u(e, n.key, n.iv);
    }, r.createDecipheriv = r.Decipheriv = u, r.listCiphers = r.getCiphers = function () {
      return Object.keys(s).concat(n.getCiphers());
    };
  }, {
    "browserify-aes/browser": 22,
    "browserify-aes/modes": 33,
    "browserify-des": 38,
    "browserify-des/modes": 39,
    evp_bytestokey: 104
  }],
  38: [function (e, t, r) {
    var i = e("cipher-base"),
        n = e("des.js"),
        a = e("inherits"),
        s = e("safe-buffer").Buffer,
        o = {
      "des-ede3-cbc": n.CBC.instantiate(n.EDE),
      "des-ede3": n.EDE,
      "des-ede-cbc": n.CBC.instantiate(n.EDE),
      "des-ede": n.EDE,
      "des-cbc": n.CBC.instantiate(n.DES),
      "des-ecb": n.DES
    };

    function f(e) {
      i.call(this);
      var t,
          r = e.mode.toLowerCase(),
          n = o[r];
      t = e.decrypt ? "decrypt" : "encrypt";
      var a = e.key;
      s.isBuffer(a) || (a = s.from(a)), "des-ede" !== r && "des-ede-cbc" !== r || (a = s.concat([a, a.slice(0, 8)]));
      var f = e.iv;
      s.isBuffer(f) || (f = s.from(f)), this._des = n.create({
        key: a,
        iv: f,
        type: t
      });
    }

    o.des = o["des-cbc"], o.des3 = o["des-ede3-cbc"], t.exports = f, a(f, i), f.prototype._update = function (e) {
      return s.from(this._des.update(e));
    }, f.prototype._final = function () {
      return s.from(this._des["final"]());
    };
  }, {
    "cipher-base": 66,
    "des.js": 75,
    inherits: 135,
    "safe-buffer": 183
  }],
  39: [function (e, t, r) {
    r["des-ecb"] = {
      key: 8,
      iv: 0
    }, r["des-cbc"] = r.des = {
      key: 8,
      iv: 8
    }, r["des-ede3-cbc"] = r.des3 = {
      key: 24,
      iv: 8
    }, r["des-ede3"] = {
      key: 24,
      iv: 0
    }, r["des-ede-cbc"] = {
      key: 16,
      iv: 8
    }, r["des-ede"] = {
      key: 16,
      iv: 0
    };
  }, {}],
  40: [function (e, t, r) {
    (function (r) {
      var i = e("bn.js"),
          n = e("randombytes");

      function a(e, t) {
        var n = function (e) {
          var t = s(e);
          return {
            blinder: t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),
            unblinder: t.invm(e.modulus)
          };
        }(t),
            a = t.modulus.byteLength(),
            o = (i.mont(t.modulus), new i(e).mul(n.blinder).umod(t.modulus)),
            f = o.toRed(i.mont(t.prime1)),
            u = o.toRed(i.mont(t.prime2)),
            h = t.coefficient,
            c = t.prime1,
            d = t.prime2,
            l = f.redPow(t.exponent1),
            p = u.redPow(t.exponent2);

        l = l.fromRed(), p = p.fromRed();
        var m = l.isub(p).imul(h).umod(c);
        return m.imul(d), p.iadd(m), new r(p.imul(n.unblinder).umod(t.modulus).toArray(!1, a));
      }

      function s(e) {
        for (var t = e.modulus.byteLength(), r = new i(n(t)); r.cmp(e.modulus) >= 0 || !r.umod(e.prime1) || !r.umod(e.prime2);) {
          r = new i(n(t));
        }

        return r;
      }

      t.exports = a, a.getr = s;
    }).call(this, e("buffer").Buffer);
  }, {
    "bn.js": 41,
    buffer: 65,
    randombytes: 165
  }],
  41: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  42: [function (e, t, r) {
    t.exports = e("./browser/algorithms.json");
  }, {
    "./browser/algorithms.json": 43
  }],
  43: [function (e, t, r) {
    t.exports = {
      sha224WithRSAEncryption: {
        sign: "rsa",
        hash: "sha224",
        id: "302d300d06096086480165030402040500041c"
      },
      "RSA-SHA224": {
        sign: "ecdsa/rsa",
        hash: "sha224",
        id: "302d300d06096086480165030402040500041c"
      },
      sha256WithRSAEncryption: {
        sign: "rsa",
        hash: "sha256",
        id: "3031300d060960864801650304020105000420"
      },
      "RSA-SHA256": {
        sign: "ecdsa/rsa",
        hash: "sha256",
        id: "3031300d060960864801650304020105000420"
      },
      sha384WithRSAEncryption: {
        sign: "rsa",
        hash: "sha384",
        id: "3041300d060960864801650304020205000430"
      },
      "RSA-SHA384": {
        sign: "ecdsa/rsa",
        hash: "sha384",
        id: "3041300d060960864801650304020205000430"
      },
      sha512WithRSAEncryption: {
        sign: "rsa",
        hash: "sha512",
        id: "3051300d060960864801650304020305000440"
      },
      "RSA-SHA512": {
        sign: "ecdsa/rsa",
        hash: "sha512",
        id: "3051300d060960864801650304020305000440"
      },
      "RSA-SHA1": {
        sign: "rsa",
        hash: "sha1",
        id: "3021300906052b0e03021a05000414"
      },
      "ecdsa-with-SHA1": {
        sign: "ecdsa",
        hash: "sha1",
        id: ""
      },
      sha256: {
        sign: "ecdsa",
        hash: "sha256",
        id: ""
      },
      sha224: {
        sign: "ecdsa",
        hash: "sha224",
        id: ""
      },
      sha384: {
        sign: "ecdsa",
        hash: "sha384",
        id: ""
      },
      sha512: {
        sign: "ecdsa",
        hash: "sha512",
        id: ""
      },
      "DSA-SHA": {
        sign: "dsa",
        hash: "sha1",
        id: ""
      },
      "DSA-SHA1": {
        sign: "dsa",
        hash: "sha1",
        id: ""
      },
      DSA: {
        sign: "dsa",
        hash: "sha1",
        id: ""
      },
      "DSA-WITH-SHA224": {
        sign: "dsa",
        hash: "sha224",
        id: ""
      },
      "DSA-SHA224": {
        sign: "dsa",
        hash: "sha224",
        id: ""
      },
      "DSA-WITH-SHA256": {
        sign: "dsa",
        hash: "sha256",
        id: ""
      },
      "DSA-SHA256": {
        sign: "dsa",
        hash: "sha256",
        id: ""
      },
      "DSA-WITH-SHA384": {
        sign: "dsa",
        hash: "sha384",
        id: ""
      },
      "DSA-SHA384": {
        sign: "dsa",
        hash: "sha384",
        id: ""
      },
      "DSA-WITH-SHA512": {
        sign: "dsa",
        hash: "sha512",
        id: ""
      },
      "DSA-SHA512": {
        sign: "dsa",
        hash: "sha512",
        id: ""
      },
      "DSA-RIPEMD160": {
        sign: "dsa",
        hash: "rmd160",
        id: ""
      },
      ripemd160WithRSA: {
        sign: "rsa",
        hash: "rmd160",
        id: "3021300906052b2403020105000414"
      },
      "RSA-RIPEMD160": {
        sign: "rsa",
        hash: "rmd160",
        id: "3021300906052b2403020105000414"
      },
      md5WithRSAEncryption: {
        sign: "rsa",
        hash: "md5",
        id: "3020300c06082a864886f70d020505000410"
      },
      "RSA-MD5": {
        sign: "rsa",
        hash: "md5",
        id: "3020300c06082a864886f70d020505000410"
      }
    };
  }, {}],
  44: [function (e, t, r) {
    t.exports = {
      "1.3.132.0.10": "secp256k1",
      "1.3.132.0.33": "p224",
      "1.2.840.10045.3.1.1": "p192",
      "1.2.840.10045.3.1.7": "p256",
      "1.3.132.0.34": "p384",
      "1.3.132.0.35": "p521"
    };
  }, {}],
  45: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("create-hash"),
        a = e("readable-stream"),
        s = e("inherits"),
        o = e("./sign"),
        f = e("./verify"),
        u = e("./algorithms.json");

    function h(e) {
      a.Writable.call(this);
      var t = u[e];
      if (!t) throw new Error("Unknown message digest");
      this._hashType = t.hash, this._hash = n(t.hash), this._tag = t.id, this._signType = t.sign;
    }

    function c(e) {
      a.Writable.call(this);
      var t = u[e];
      if (!t) throw new Error("Unknown message digest");
      this._hash = n(t.hash), this._tag = t.id, this._signType = t.sign;
    }

    function d(e) {
      return new h(e);
    }

    function l(e) {
      return new c(e);
    }

    Object.keys(u).forEach(function (e) {
      u[e].id = i.from(u[e].id, "hex"), u[e.toLowerCase()] = u[e];
    }), s(h, a.Writable), h.prototype._write = function (e, t, r) {
      this._hash.update(e), r();
    }, h.prototype.update = function (e, t) {
      return "string" == typeof e && (e = i.from(e, t)), this._hash.update(e), this;
    }, h.prototype.sign = function (e, t) {
      this.end();

      var r = this._hash.digest(),
          i = o(r, e, this._hashType, this._signType, this._tag);

      return t ? i.toString(t) : i;
    }, s(c, a.Writable), c.prototype._write = function (e, t, r) {
      this._hash.update(e), r();
    }, c.prototype.update = function (e, t) {
      return "string" == typeof e && (e = i.from(e, t)), this._hash.update(e), this;
    }, c.prototype.verify = function (e, t, r) {
      "string" == typeof t && (t = i.from(t, r)), this.end();

      var n = this._hash.digest();

      return f(t, n, e, this._signType, this._tag);
    }, t.exports = {
      Sign: d,
      Verify: l,
      createSign: d,
      createVerify: l
    };
  }, {
    "./algorithms.json": 43,
    "./sign": 46,
    "./verify": 47,
    "create-hash": 70,
    inherits: 135,
    "readable-stream": 62,
    "safe-buffer": 183
  }],
  46: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("create-hmac"),
        a = e("browserify-rsa"),
        s = e("elliptic").ec,
        o = e("bn.js"),
        f = e("parse-asn1"),
        u = e("./curves.json");

    function h(e, t, r, a) {
      if ((e = i.from(e.toArray())).length < t.byteLength()) {
        var s = i.alloc(t.byteLength() - e.length);
        e = i.concat([s, e]);
      }

      var o = r.length,
          f = function (e, t) {
        e = (e = c(e, t)).mod(t);
        var r = i.from(e.toArray());

        if (r.length < t.byteLength()) {
          var n = i.alloc(t.byteLength() - r.length);
          r = i.concat([n, r]);
        }

        return r;
      }(r, t),
          u = i.alloc(o);

      u.fill(1);
      var h = i.alloc(o);
      return h = n(a, h).update(u).update(i.from([0])).update(e).update(f).digest(), u = n(a, h).update(u).digest(), {
        k: h = n(a, h).update(u).update(i.from([1])).update(e).update(f).digest(),
        v: u = n(a, h).update(u).digest()
      };
    }

    function c(e, t) {
      var r = new o(e),
          i = (e.length << 3) - t.bitLength();
      return i > 0 && r.ishrn(i), r;
    }

    function d(e, t, r) {
      var a, s;

      do {
        for (a = i.alloc(0); 8 * a.length < e.bitLength();) {
          t.v = n(r, t.k).update(t.v).digest(), a = i.concat([a, t.v]);
        }

        s = c(a, e), t.k = n(r, t.k).update(t.v).update(i.from([0])).digest(), t.v = n(r, t.k).update(t.v).digest();
      } while (-1 !== s.cmp(e));

      return s;
    }

    function l(e, t, r, i) {
      return e.toRed(o.mont(r)).redPow(t).fromRed().mod(i);
    }

    t.exports = function (e, t, r, n, p) {
      var m = f(t);

      if (m.curve) {
        if ("ecdsa" !== n && "ecdsa/rsa" !== n) throw new Error("wrong private key type");
        return function (e, t) {
          var r = u[t.curve.join(".")];
          if (!r) throw new Error("unknown curve " + t.curve.join("."));
          var n = new s(r).keyFromPrivate(t.privateKey).sign(e);
          return i.from(n.toDER());
        }(e, m);
      }

      if ("dsa" === m.type) {
        if ("dsa" !== n) throw new Error("wrong private key type");
        return function (e, t, r) {
          var n,
              a = t.params.priv_key,
              s = t.params.p,
              f = t.params.q,
              u = t.params.g,
              p = new o(0),
              m = c(e, f).mod(f),
              b = !1,
              y = h(a, f, e, r);

          for (; !1 === b;) {
            n = d(f, y, r), p = l(u, n, s, f), 0 === (b = n.invm(f).imul(m.add(a.mul(p))).mod(f)).cmpn(0) && (b = !1, p = new o(0));
          }

          return function (e, t) {
            e = e.toArray(), t = t.toArray(), 128 & e[0] && (e = [0].concat(e));
            128 & t[0] && (t = [0].concat(t));
            var r = [48, e.length + t.length + 4, 2, e.length];
            return r = r.concat(e, [2, t.length], t), i.from(r);
          }(p, b);
        }(e, m, r);
      }

      if ("rsa" !== n && "ecdsa/rsa" !== n) throw new Error("wrong private key type");
      e = i.concat([p, e]);

      for (var b = m.modulus.byteLength(), y = [0, 1]; e.length + y.length + 1 < b;) {
        y.push(255);
      }

      y.push(0);

      for (var g = -1; ++g < e.length;) {
        y.push(e[g]);
      }

      return a(y, m);
    }, t.exports.getKey = h, t.exports.makeKey = d;
  }, {
    "./curves.json": 44,
    "bn.js": 17,
    "browserify-rsa": 40,
    "create-hmac": 72,
    elliptic: 86,
    "parse-asn1": 148,
    "safe-buffer": 183
  }],
  47: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("bn.js"),
        a = e("elliptic").ec,
        s = e("parse-asn1"),
        o = e("./curves.json");

    function f(e, t) {
      if (e.cmpn(0) <= 0) throw new Error("invalid sig");
      if (e.cmp(t) >= t) throw new Error("invalid sig");
    }

    t.exports = function (e, t, r, u, h) {
      var c = s(r);

      if ("ec" === c.type) {
        if ("ecdsa" !== u && "ecdsa/rsa" !== u) throw new Error("wrong public key type");
        return function (e, t, r) {
          var i = o[r.data.algorithm.curve.join(".")];
          if (!i) throw new Error("unknown curve " + r.data.algorithm.curve.join("."));
          var n = new a(i),
              s = r.data.subjectPrivateKey.data;
          return n.verify(t, e, s);
        }(e, t, c);
      }

      if ("dsa" === c.type) {
        if ("dsa" !== u) throw new Error("wrong public key type");
        return function (e, t, r) {
          var i = r.data.p,
              a = r.data.q,
              o = r.data.g,
              u = r.data.pub_key,
              h = s.signature.decode(e, "der"),
              c = h.s,
              d = h.r;
          f(c, a), f(d, a);
          var l = n.mont(i),
              p = c.invm(a);
          return 0 === o.toRed(l).redPow(new n(t).mul(p).mod(a)).fromRed().mul(u.toRed(l).redPow(d.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(d);
        }(e, t, c);
      }

      if ("rsa" !== u && "ecdsa/rsa" !== u) throw new Error("wrong public key type");
      t = i.concat([h, t]);

      for (var d = c.modulus.byteLength(), l = [1], p = 0; t.length + l.length + 2 < d;) {
        l.push(255), p++;
      }

      l.push(0);

      for (var m = -1; ++m < t.length;) {
        l.push(t[m]);
      }

      l = i.from(l);
      var b = n.mont(c.modulus);
      e = (e = new n(e).toRed(b)).redPow(new n(c.publicExponent)), e = i.from(e.fromRed().toArray());
      var y = p < 8 ? 1 : 0;

      for (d = Math.min(e.length, l.length), e.length !== l.length && (y = 1), m = -1; ++m < d;) {
        y |= e[m] ^ l[m];
      }

      return 0 === y;
    };
  }, {
    "./curves.json": 44,
    "bn.js": 17,
    elliptic: 86,
    "parse-asn1": 148,
    "safe-buffer": 183
  }],
  48: [function (e, t, r) {
    "use strict";

    var i = {};

    function n(e, t, r) {
      r || (r = Error);

      var n = function (e) {
        var r, i;

        function n(r, i, n) {
          return e.call(this, function (e, r, i) {
            return "string" == typeof t ? t : t(e, r, i);
          }(r, i, n)) || this;
        }

        return i = e, (r = n).prototype = Object.create(i.prototype), r.prototype.constructor = r, r.__proto__ = i, n;
      }(r);

      n.prototype.name = r.name, n.prototype.code = e, i[e] = n;
    }

    function a(e, t) {
      if (Array.isArray(e)) {
        var r = e.length;
        return e = e.map(function (e) {
          return String(e);
        }), r > 2 ? "one of ".concat(t, " ").concat(e.slice(0, r - 1).join(", "), ", or ") + e[r - 1] : 2 === r ? "one of ".concat(t, " ").concat(e[0], " or ").concat(e[1]) : "of ".concat(t, " ").concat(e[0]);
      }

      return "of ".concat(t, " ").concat(String(e));
    }

    n("ERR_INVALID_OPT_VALUE", function (e, t) {
      return 'The value "' + t + '" is invalid for option "' + e + '"';
    }, TypeError), n("ERR_INVALID_ARG_TYPE", function (e, t, r) {
      var i, n, s, o;
      if ("string" == typeof t && (n = "not ", t.substr(!s || s < 0 ? 0 : +s, n.length) === n) ? (i = "must not be", t = t.replace(/^not /, "")) : i = "must be", function (e, t, r) {
        return (void 0 === r || r > e.length) && (r = e.length), e.substring(r - t.length, r) === t;
      }(e, " argument")) o = "The ".concat(e, " ").concat(i, " ").concat(a(t, "type"));else {
        var f = function (e, t, r) {
          return "number" != typeof r && (r = 0), !(r + t.length > e.length) && -1 !== e.indexOf(t, r);
        }(e, ".") ? "property" : "argument";
        o = 'The "'.concat(e, '" ').concat(f, " ").concat(i, " ").concat(a(t, "type"));
      }
      return o += ". Received type ".concat(_typeof(r));
    }, TypeError), n("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), n("ERR_METHOD_NOT_IMPLEMENTED", function (e) {
      return "The " + e + " method is not implemented";
    }), n("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), n("ERR_STREAM_DESTROYED", function (e) {
      return "Cannot call " + e + " after a stream was destroyed";
    }), n("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), n("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), n("ERR_STREAM_WRITE_AFTER_END", "write after end"), n("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), n("ERR_UNKNOWN_ENCODING", function (e) {
      return "Unknown encoding: " + e;
    }, TypeError), n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), t.exports.codes = i;
  }, {}],
  49: [function (e, t, r) {
    (function (r) {
      "use strict";

      var i = Object.keys || function (e) {
        var t = [];

        for (var r in e) {
          t.push(r);
        }

        return t;
      };

      t.exports = u;
      var n = e("./_stream_readable"),
          a = e("./_stream_writable");
      e("inherits")(u, n);

      for (var s = i(a.prototype), o = 0; o < s.length; o++) {
        var f = s[o];
        u.prototype[f] || (u.prototype[f] = a.prototype[f]);
      }

      function u(e) {
        if (!(this instanceof u)) return new u(e);
        n.call(this, e), a.call(this, e), this.allowHalfOpen = !0, e && (!1 === e.readable && (this.readable = !1), !1 === e.writable && (this.writable = !1), !1 === e.allowHalfOpen && (this.allowHalfOpen = !1, this.once("end", h)));
      }

      function h() {
        this._writableState.ended || r.nextTick(c, this);
      }

      function c(e) {
        e.end();
      }

      Object.defineProperty(u.prototype, "writableHighWaterMark", {
        enumerable: !1,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      }), Object.defineProperty(u.prototype, "writableBuffer", {
        enumerable: !1,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      }), Object.defineProperty(u.prototype, "writableLength", {
        enumerable: !1,
        get: function get() {
          return this._writableState.length;
        }
      }), Object.defineProperty(u.prototype, "destroyed", {
        enumerable: !1,
        get: function get() {
          return void 0 !== this._readableState && void 0 !== this._writableState && this._readableState.destroyed && this._writableState.destroyed;
        },
        set: function set(e) {
          void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e, this._writableState.destroyed = e);
        }
      });
    }).call(this, e("_process"));
  }, {
    "./_stream_readable": 51,
    "./_stream_writable": 53,
    _process: 157,
    inherits: 135
  }],
  50: [function (e, t, r) {
    "use strict";

    t.exports = n;
    var i = e("./_stream_transform");

    function n(e) {
      if (!(this instanceof n)) return new n(e);
      i.call(this, e);
    }

    e("inherits")(n, i), n.prototype._transform = function (e, t, r) {
      r(null, e);
    };
  }, {
    "./_stream_transform": 52,
    inherits: 135
  }],
  51: [function (e, t, r) {
    (function (r, i) {
      "use strict";

      var n;
      t.exports = x, x.ReadableState = A;
      e("events").EventEmitter;

      var a = function a(e, t) {
        return e.listeners(t).length;
      },
          s = e("./internal/streams/stream"),
          o = e("buffer").Buffer,
          f = i.Uint8Array || function () {};

      var u,
          h = e("util");
      u = h && h.debuglog ? h.debuglog("stream") : function () {};
      var c,
          d,
          l,
          p = e("./internal/streams/buffer_list"),
          m = e("./internal/streams/destroy"),
          b = e("./internal/streams/state").getHighWaterMark,
          y = e("../errors").codes,
          g = y.ERR_INVALID_ARG_TYPE,
          _ = y.ERR_STREAM_PUSH_AFTER_EOF,
          v = y.ERR_METHOD_NOT_IMPLEMENTED,
          w = y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
      e("inherits")(x, s);
      var E = m.errorOrDestroy,
          S = ["error", "close", "destroy", "pause", "resume"];

      function A(t, r, i) {
        n = n || e("./_stream_duplex"), t = t || {}, "boolean" != typeof i && (i = r instanceof n), this.objectMode = !!t.objectMode, i && (this.objectMode = this.objectMode || !!t.readableObjectMode), this.highWaterMark = b(this, t, "readableHighWaterMark", i), this.buffer = new p(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (c || (c = e("string_decoder/").StringDecoder), this.decoder = new c(t.encoding), this.encoding = t.encoding);
      }

      function x(t) {
        if (n = n || e("./_stream_duplex"), !(this instanceof x)) return new x(t);
        var r = this instanceof n;
        this._readableState = new A(t, this, r), this.readable = !0, t && ("function" == typeof t.read && (this._read = t.read), "function" == typeof t.destroy && (this._destroy = t.destroy)), s.call(this);
      }

      function M(e, t, r, i, n) {
        u("readableAddChunk", t);
        var a,
            s = e._readableState;
        if (null === t) s.reading = !1, function (e, t) {
          if (u("onEofChunk"), t.ended) return;

          if (t.decoder) {
            var r = t.decoder.end();
            r && r.length && (t.buffer.push(r), t.length += t.objectMode ? 1 : r.length);
          }

          t.ended = !0, t.sync ? P(e) : (t.needReadable = !1, t.emittedReadable || (t.emittedReadable = !0, U(e)));
        }(e, s);else if (n || (a = function (e, t) {
          var r;
          i = t, o.isBuffer(i) || i instanceof f || "string" == typeof t || void 0 === t || e.objectMode || (r = new g("chunk", ["string", "Buffer", "Uint8Array"], t));
          var i;
          return r;
        }(s, t)), a) E(e, a);else if (s.objectMode || t && t.length > 0) {
          if ("string" == typeof t || s.objectMode || Object.getPrototypeOf(t) === o.prototype || (t = function (e) {
            return o.from(e);
          }(t)), i) s.endEmitted ? E(e, new w()) : T(e, s, t, !0);else if (s.ended) E(e, new _());else {
            if (s.destroyed) return !1;
            s.reading = !1, s.decoder && !r ? (t = s.decoder.write(t), s.objectMode || 0 !== t.length ? T(e, s, t, !1) : I(e, s)) : T(e, s, t, !1);
          }
        } else i || (s.reading = !1, I(e, s));
        return !s.ended && (s.length < s.highWaterMark || 0 === s.length);
      }

      function T(e, t, r, i) {
        t.flowing && 0 === t.length && !t.sync ? (t.awaitDrain = 0, e.emit("data", r)) : (t.length += t.objectMode ? 1 : r.length, i ? t.buffer.unshift(r) : t.buffer.push(r), t.needReadable && P(e)), I(e, t);
      }

      Object.defineProperty(x.prototype, "destroyed", {
        enumerable: !1,
        get: function get() {
          return void 0 !== this._readableState && this._readableState.destroyed;
        },
        set: function set(e) {
          this._readableState && (this._readableState.destroyed = e);
        }
      }), x.prototype.destroy = m.destroy, x.prototype._undestroy = m.undestroy, x.prototype._destroy = function (e, t) {
        t(e);
      }, x.prototype.push = function (e, t) {
        var r,
            i = this._readableState;
        return i.objectMode ? r = !0 : "string" == typeof e && ((t = t || i.defaultEncoding) !== i.encoding && (e = o.from(e, t), t = ""), r = !0), M(this, e, t, !1, r);
      }, x.prototype.unshift = function (e) {
        return M(this, e, null, !0, !1);
      }, x.prototype.isPaused = function () {
        return !1 === this._readableState.flowing;
      }, x.prototype.setEncoding = function (t) {
        c || (c = e("string_decoder/").StringDecoder);
        var r = new c(t);
        this._readableState.decoder = r, this._readableState.encoding = this._readableState.decoder.encoding;

        for (var i = this._readableState.buffer.head, n = ""; null !== i;) {
          n += r.write(i.data), i = i.next;
        }

        return this._readableState.buffer.clear(), "" !== n && this._readableState.buffer.push(n), this._readableState.length = n.length, this;
      };

      function k(e, t) {
        return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function (e) {
          return e >= 1073741824 ? e = 1073741824 : (e--, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e;
        }(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0));
      }

      function P(e) {
        var t = e._readableState;
        u("emitReadable", t.needReadable, t.emittedReadable), t.needReadable = !1, t.emittedReadable || (u("emitReadable", t.flowing), t.emittedReadable = !0, r.nextTick(U, e));
      }

      function U(e) {
        var t = e._readableState;
        u("emitReadable_", t.destroyed, t.length, t.ended), t.destroyed || !t.length && !t.ended || (e.emit("readable"), t.emittedReadable = !1), t.needReadable = !t.flowing && !t.ended && t.length <= t.highWaterMark, L(e);
      }

      function I(e, t) {
        t.readingMore || (t.readingMore = !0, r.nextTick(C, e, t));
      }

      function C(e, t) {
        for (; !t.reading && !t.ended && (t.length < t.highWaterMark || t.flowing && 0 === t.length);) {
          var r = t.length;
          if (u("maybeReadMore read 0"), e.read(0), r === t.length) break;
        }

        t.readingMore = !1;
      }

      function R(e) {
        var t = e._readableState;
        t.readableListening = e.listenerCount("readable") > 0, t.resumeScheduled && !t.paused ? t.flowing = !0 : e.listenerCount("data") > 0 && e.resume();
      }

      function B(e) {
        u("readable nexttick read 0"), e.read(0);
      }

      function D(e, t) {
        u("resume", t.reading), t.reading || e.read(0), t.resumeScheduled = !1, e.emit("resume"), L(e), t.flowing && !t.reading && e.read(0);
      }

      function L(e) {
        var t = e._readableState;

        for (u("flow", t.flowing); t.flowing && null !== e.read();) {
          ;
        }
      }

      function F(e, t) {
        return 0 === t.length ? null : (t.objectMode ? r = t.buffer.shift() : !e || e >= t.length ? (r = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.first() : t.buffer.concat(t.length), t.buffer.clear()) : r = t.buffer.consume(e, t.decoder), r);
        var r;
      }

      function N(e) {
        var t = e._readableState;
        u("endReadable", t.endEmitted), t.endEmitted || (t.ended = !0, r.nextTick(O, t, e));
      }

      function O(e, t) {
        if (u("endReadableNT", e.endEmitted, e.length), !e.endEmitted && 0 === e.length && (e.endEmitted = !0, t.readable = !1, t.emit("end"), e.autoDestroy)) {
          var r = t._writableState;
          (!r || r.autoDestroy && r.finished) && t.destroy();
        }
      }

      function z(e, t) {
        for (var r = 0, i = e.length; r < i; r++) {
          if (e[r] === t) return r;
        }

        return -1;
      }

      x.prototype.read = function (e) {
        u("read", e), e = parseInt(e, 10);
        var t = this._readableState,
            r = e;
        if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && ((0 !== t.highWaterMark ? t.length >= t.highWaterMark : t.length > 0) || t.ended)) return u("read: emitReadable", t.length, t.ended), 0 === t.length && t.ended ? N(this) : P(this), null;
        if (0 === (e = k(e, t)) && t.ended) return 0 === t.length && N(this), null;
        var i,
            n = t.needReadable;
        return u("need readable", n), (0 === t.length || t.length - e < t.highWaterMark) && u("length less than watermark", n = !0), t.ended || t.reading ? u("reading or ended", n = !1) : n && (u("do read"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = k(r, t))), null === (i = e > 0 ? F(e, t) : null) ? (t.needReadable = t.length <= t.highWaterMark, e = 0) : (t.length -= e, t.awaitDrain = 0), 0 === t.length && (t.ended || (t.needReadable = !0), r !== e && t.ended && N(this)), null !== i && this.emit("data", i), i;
      }, x.prototype._read = function (e) {
        E(this, new v("_read()"));
      }, x.prototype.pipe = function (e, t) {
        var i = this,
            n = this._readableState;

        switch (n.pipesCount) {
          case 0:
            n.pipes = e;
            break;

          case 1:
            n.pipes = [n.pipes, e];
            break;

          default:
            n.pipes.push(e);
        }

        n.pipesCount += 1, u("pipe count=%d opts=%j", n.pipesCount, t);
        var s = (!t || !1 !== t.end) && e !== r.stdout && e !== r.stderr ? f : b;

        function o(t, r) {
          u("onunpipe"), t === i && r && !1 === r.hasUnpiped && (r.hasUnpiped = !0, u("cleanup"), e.removeListener("close", p), e.removeListener("finish", m), e.removeListener("drain", h), e.removeListener("error", l), e.removeListener("unpipe", o), i.removeListener("end", f), i.removeListener("end", b), i.removeListener("data", d), c = !0, !n.awaitDrain || e._writableState && !e._writableState.needDrain || h());
        }

        function f() {
          u("onend"), e.end();
        }

        n.endEmitted ? r.nextTick(s) : i.once("end", s), e.on("unpipe", o);

        var h = function (e) {
          return function () {
            var t = e._readableState;
            u("pipeOnDrain", t.awaitDrain), t.awaitDrain && t.awaitDrain--, 0 === t.awaitDrain && a(e, "data") && (t.flowing = !0, L(e));
          };
        }(i);

        e.on("drain", h);
        var c = !1;

        function d(t) {
          u("ondata");
          var r = e.write(t);
          u("dest.write", r), !1 === r && ((1 === n.pipesCount && n.pipes === e || n.pipesCount > 1 && -1 !== z(n.pipes, e)) && !c && (u("false write response, pause", n.awaitDrain), n.awaitDrain++), i.pause());
        }

        function l(t) {
          u("onerror", t), b(), e.removeListener("error", l), 0 === a(e, "error") && E(e, t);
        }

        function p() {
          e.removeListener("finish", m), b();
        }

        function m() {
          u("onfinish"), e.removeListener("close", p), b();
        }

        function b() {
          u("unpipe"), i.unpipe(e);
        }

        return i.on("data", d), function (e, t, r) {
          if ("function" == typeof e.prependListener) return e.prependListener(t, r);
          e._events && e._events[t] ? Array.isArray(e._events[t]) ? e._events[t].unshift(r) : e._events[t] = [r, e._events[t]] : e.on(t, r);
        }(e, "error", l), e.once("close", p), e.once("finish", m), e.emit("pipe", i), n.flowing || (u("pipe resume"), i.resume()), e;
      }, x.prototype.unpipe = function (e) {
        var t = this._readableState,
            r = {
          hasUnpiped: !1
        };
        if (0 === t.pipesCount) return this;
        if (1 === t.pipesCount) return e && e !== t.pipes || (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit("unpipe", this, r)), this;

        if (!e) {
          var i = t.pipes,
              n = t.pipesCount;
          t.pipes = null, t.pipesCount = 0, t.flowing = !1;

          for (var a = 0; a < n; a++) {
            i[a].emit("unpipe", this, {
              hasUnpiped: !1
            });
          }

          return this;
        }

        var s = z(t.pipes, e);
        return -1 === s || (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit("unpipe", this, r)), this;
      }, x.prototype.on = function (e, t) {
        var i = s.prototype.on.call(this, e, t),
            n = this._readableState;
        return "data" === e ? (n.readableListening = this.listenerCount("readable") > 0, !1 !== n.flowing && this.resume()) : "readable" === e && (n.endEmitted || n.readableListening || (n.readableListening = n.needReadable = !0, n.flowing = !1, n.emittedReadable = !1, u("on readable", n.length, n.reading), n.length ? P(this) : n.reading || r.nextTick(B, this))), i;
      }, x.prototype.addListener = x.prototype.on, x.prototype.removeListener = function (e, t) {
        var i = s.prototype.removeListener.call(this, e, t);
        return "readable" === e && r.nextTick(R, this), i;
      }, x.prototype.removeAllListeners = function (e) {
        var t = s.prototype.removeAllListeners.apply(this, arguments);
        return "readable" !== e && void 0 !== e || r.nextTick(R, this), t;
      }, x.prototype.resume = function () {
        var e = this._readableState;
        return e.flowing || (u("resume"), e.flowing = !e.readableListening, function (e, t) {
          t.resumeScheduled || (t.resumeScheduled = !0, r.nextTick(D, e, t));
        }(this, e)), e.paused = !1, this;
      }, x.prototype.pause = function () {
        return u("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (u("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
      }, x.prototype.wrap = function (e) {
        var t = this,
            r = this._readableState,
            i = !1;

        for (var n in e.on("end", function () {
          if (u("wrapped end"), r.decoder && !r.ended) {
            var e = r.decoder.end();
            e && e.length && t.push(e);
          }

          t.push(null);
        }), e.on("data", function (n) {
          (u("wrapped data"), r.decoder && (n = r.decoder.write(n)), r.objectMode && null == n) || (r.objectMode || n && n.length) && (t.push(n) || (i = !0, e.pause()));
        }), e) {
          void 0 === this[n] && "function" == typeof e[n] && (this[n] = function (t) {
            return function () {
              return e[t].apply(e, arguments);
            };
          }(n));
        }

        for (var a = 0; a < S.length; a++) {
          e.on(S[a], this.emit.bind(this, S[a]));
        }

        return this._read = function (t) {
          u("wrapped _read", t), i && (i = !1, e.resume());
        }, this;
      }, "function" == typeof Symbol && (x.prototype[Symbol.asyncIterator] = function () {
        return void 0 === d && (d = e("./internal/streams/async_iterator")), d(this);
      }), Object.defineProperty(x.prototype, "readableHighWaterMark", {
        enumerable: !1,
        get: function get() {
          return this._readableState.highWaterMark;
        }
      }), Object.defineProperty(x.prototype, "readableBuffer", {
        enumerable: !1,
        get: function get() {
          return this._readableState && this._readableState.buffer;
        }
      }), Object.defineProperty(x.prototype, "readableFlowing", {
        enumerable: !1,
        get: function get() {
          return this._readableState.flowing;
        },
        set: function set(e) {
          this._readableState && (this._readableState.flowing = e);
        }
      }), x._fromList = F, Object.defineProperty(x.prototype, "readableLength", {
        enumerable: !1,
        get: function get() {
          return this._readableState.length;
        }
      }), "function" == typeof Symbol && (x.from = function (t, r) {
        return void 0 === l && (l = e("./internal/streams/from")), l(x, t, r);
      });
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "../errors": 48,
    "./_stream_duplex": 49,
    "./internal/streams/async_iterator": 54,
    "./internal/streams/buffer_list": 55,
    "./internal/streams/destroy": 56,
    "./internal/streams/from": 58,
    "./internal/streams/state": 60,
    "./internal/streams/stream": 61,
    _process: 157,
    buffer: 65,
    events: 103,
    inherits: 135,
    "string_decoder/": 194,
    util: 19
  }],
  52: [function (e, t, r) {
    "use strict";

    t.exports = h;
    var i = e("../errors").codes,
        n = i.ERR_METHOD_NOT_IMPLEMENTED,
        a = i.ERR_MULTIPLE_CALLBACK,
        s = i.ERR_TRANSFORM_ALREADY_TRANSFORMING,
        o = i.ERR_TRANSFORM_WITH_LENGTH_0,
        f = e("./_stream_duplex");

    function u(e, t) {
      var r = this._transformState;
      r.transforming = !1;
      var i = r.writecb;
      if (null === i) return this.emit("error", new a());
      r.writechunk = null, r.writecb = null, null != t && this.push(t), i(e);
      var n = this._readableState;
      n.reading = !1, (n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
    }

    function h(e) {
      if (!(this instanceof h)) return new h(e);
      f.call(this, e), this._transformState = {
        afterTransform: u.bind(this),
        needTransform: !1,
        transforming: !1,
        writecb: null,
        writechunk: null,
        writeencoding: null
      }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && ("function" == typeof e.transform && (this._transform = e.transform), "function" == typeof e.flush && (this._flush = e.flush)), this.on("prefinish", c);
    }

    function c() {
      var e = this;
      "function" != typeof this._flush || this._readableState.destroyed ? d(this, null, null) : this._flush(function (t, r) {
        d(e, t, r);
      });
    }

    function d(e, t, r) {
      if (t) return e.emit("error", t);
      if (null != r && e.push(r), e._writableState.length) throw new o();
      if (e._transformState.transforming) throw new s();
      return e.push(null);
    }

    e("inherits")(h, f), h.prototype.push = function (e, t) {
      return this._transformState.needTransform = !1, f.prototype.push.call(this, e, t);
    }, h.prototype._transform = function (e, t, r) {
      r(new n("_transform()"));
    }, h.prototype._write = function (e, t, r) {
      var i = this._transformState;

      if (i.writecb = r, i.writechunk = e, i.writeencoding = t, !i.transforming) {
        var n = this._readableState;
        (i.needTransform || n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
      }
    }, h.prototype._read = function (e) {
      var t = this._transformState;
      null === t.writechunk || t.transforming ? t.needTransform = !0 : (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform));
    }, h.prototype._destroy = function (e, t) {
      f.prototype._destroy.call(this, e, function (e) {
        t(e);
      });
    };
  }, {
    "../errors": 48,
    "./_stream_duplex": 49,
    inherits: 135
  }],
  53: [function (e, t, r) {
    (function (r, i) {
      "use strict";

      function n(e) {
        var t = this;
        this.next = null, this.entry = null, this.finish = function () {
          !function (e, t, r) {
            var i = e.entry;
            e.entry = null;

            for (; i;) {
              var n = i.callback;
              t.pendingcb--, n(r), i = i.next;
            }

            t.corkedRequestsFree.next = e;
          }(t, e);
        };
      }

      var a;
      t.exports = x, x.WritableState = A;

      var s = {
        deprecate: e("util-deprecate")
      },
          o = e("./internal/streams/stream"),
          f = e("buffer").Buffer,
          u = i.Uint8Array || function () {};

      var h,
          c = e("./internal/streams/destroy"),
          d = e("./internal/streams/state").getHighWaterMark,
          l = e("../errors").codes,
          p = l.ERR_INVALID_ARG_TYPE,
          m = l.ERR_METHOD_NOT_IMPLEMENTED,
          b = l.ERR_MULTIPLE_CALLBACK,
          y = l.ERR_STREAM_CANNOT_PIPE,
          g = l.ERR_STREAM_DESTROYED,
          _ = l.ERR_STREAM_NULL_VALUES,
          v = l.ERR_STREAM_WRITE_AFTER_END,
          w = l.ERR_UNKNOWN_ENCODING,
          E = c.errorOrDestroy;

      function S() {}

      function A(t, i, s) {
        a = a || e("./_stream_duplex"), t = t || {}, "boolean" != typeof s && (s = i instanceof a), this.objectMode = !!t.objectMode, s && (this.objectMode = this.objectMode || !!t.writableObjectMode), this.highWaterMark = d(this, t, "writableHighWaterMark", s), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
        var o = !1 === t.decodeStrings;
        this.decodeStrings = !o, this.defaultEncoding = t.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) {
          !function (e, t) {
            var i = e._writableState,
                n = i.sync,
                a = i.writecb;
            if ("function" != typeof a) throw new b();
            if (function (e) {
              e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0;
            }(i), t) !function (e, t, i, n, a) {
              --t.pendingcb, i ? (r.nextTick(a, n), r.nextTick(I, e, t), e._writableState.errorEmitted = !0, E(e, n)) : (a(n), e._writableState.errorEmitted = !0, E(e, n), I(e, t));
            }(e, i, n, t, a);else {
              var s = P(i) || e.destroyed;
              s || i.corked || i.bufferProcessing || !i.bufferedRequest || k(e, i), n ? r.nextTick(T, e, i, s, a) : T(e, i, s, a);
            }
          }(i, e);
        }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new n(this);
      }

      function x(t) {
        var r = this instanceof (a = a || e("./_stream_duplex"));
        if (!r && !h.call(x, this)) return new x(t);
        this._writableState = new A(t, this, r), this.writable = !0, t && ("function" == typeof t.write && (this._write = t.write), "function" == typeof t.writev && (this._writev = t.writev), "function" == typeof t.destroy && (this._destroy = t.destroy), "function" == typeof t["final"] && (this._final = t["final"])), o.call(this);
      }

      function M(e, t, r, i, n, a, s) {
        t.writelen = i, t.writecb = s, t.writing = !0, t.sync = !0, t.destroyed ? t.onwrite(new g("write")) : r ? e._writev(n, t.onwrite) : e._write(n, a, t.onwrite), t.sync = !1;
      }

      function T(e, t, r, i) {
        r || function (e, t) {
          0 === t.length && t.needDrain && (t.needDrain = !1, e.emit("drain"));
        }(e, t), t.pendingcb--, i(), I(e, t);
      }

      function k(e, t) {
        t.bufferProcessing = !0;
        var r = t.bufferedRequest;

        if (e._writev && r && r.next) {
          var i = t.bufferedRequestCount,
              a = new Array(i),
              s = t.corkedRequestsFree;
          s.entry = r;

          for (var o = 0, f = !0; r;) {
            a[o] = r, r.isBuf || (f = !1), r = r.next, o += 1;
          }

          a.allBuffers = f, M(e, t, !0, t.length, a, "", s.finish), t.pendingcb++, t.lastBufferedRequest = null, s.next ? (t.corkedRequestsFree = s.next, s.next = null) : t.corkedRequestsFree = new n(t), t.bufferedRequestCount = 0;
        } else {
          for (; r;) {
            var u = r.chunk,
                h = r.encoding,
                c = r.callback;
            if (M(e, t, !1, t.objectMode ? 1 : u.length, u, h, c), r = r.next, t.bufferedRequestCount--, t.writing) break;
          }

          null === r && (t.lastBufferedRequest = null);
        }

        t.bufferedRequest = r, t.bufferProcessing = !1;
      }

      function P(e) {
        return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing;
      }

      function U(e, t) {
        e._final(function (r) {
          t.pendingcb--, r && E(e, r), t.prefinished = !0, e.emit("prefinish"), I(e, t);
        });
      }

      function I(e, t) {
        var i = P(t);

        if (i && (function (e, t) {
          t.prefinished || t.finalCalled || ("function" != typeof e._final || t.destroyed ? (t.prefinished = !0, e.emit("prefinish")) : (t.pendingcb++, t.finalCalled = !0, r.nextTick(U, e, t)));
        }(e, t), 0 === t.pendingcb && (t.finished = !0, e.emit("finish"), t.autoDestroy))) {
          var n = e._readableState;
          (!n || n.autoDestroy && n.endEmitted) && e.destroy();
        }

        return i;
      }

      e("inherits")(x, o), A.prototype.getBuffer = function () {
        for (var e = this.bufferedRequest, t = []; e;) {
          t.push(e), e = e.next;
        }

        return t;
      }, function () {
        try {
          Object.defineProperty(A.prototype, "buffer", {
            get: s.deprecate(function () {
              return this.getBuffer();
            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
          });
        } catch (e) {}
      }(), "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (h = Function.prototype[Symbol.hasInstance], Object.defineProperty(x, Symbol.hasInstance, {
        value: function value(e) {
          return !!h.call(this, e) || this === x && e && e._writableState instanceof A;
        }
      })) : h = function h(e) {
        return e instanceof this;
      }, x.prototype.pipe = function () {
        E(this, new y());
      }, x.prototype.write = function (e, t, i) {
        var n,
            a = this._writableState,
            s = !1,
            o = !a.objectMode && (n = e, f.isBuffer(n) || n instanceof u);
        return o && !f.isBuffer(e) && (e = function (e) {
          return f.from(e);
        }(e)), "function" == typeof t && (i = t, t = null), o ? t = "buffer" : t || (t = a.defaultEncoding), "function" != typeof i && (i = S), a.ending ? function (e, t) {
          var i = new v();
          E(e, i), r.nextTick(t, i);
        }(this, i) : (o || function (e, t, i, n) {
          var a;
          return null === i ? a = new _() : "string" == typeof i || t.objectMode || (a = new p("chunk", ["string", "Buffer"], i)), !a || (E(e, a), r.nextTick(n, a), !1);
        }(this, a, e, i)) && (a.pendingcb++, s = function (e, t, r, i, n, a) {
          if (!r) {
            var s = function (e, t, r) {
              e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = f.from(t, r));
              return t;
            }(t, i, n);

            i !== s && (r = !0, n = "buffer", i = s);
          }

          var o = t.objectMode ? 1 : i.length;
          t.length += o;
          var u = t.length < t.highWaterMark;
          u || (t.needDrain = !0);

          if (t.writing || t.corked) {
            var h = t.lastBufferedRequest;
            t.lastBufferedRequest = {
              chunk: i,
              encoding: n,
              isBuf: r,
              callback: a,
              next: null
            }, h ? h.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1;
          } else M(e, t, !1, o, i, n, a);

          return u;
        }(this, a, o, e, t, i)), s;
      }, x.prototype.cork = function () {
        this._writableState.corked++;
      }, x.prototype.uncork = function () {
        var e = this._writableState;
        e.corked && (e.corked--, e.writing || e.corked || e.bufferProcessing || !e.bufferedRequest || k(this, e));
      }, x.prototype.setDefaultEncoding = function (e) {
        if ("string" == typeof e && (e = e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1)) throw new w(e);
        return this._writableState.defaultEncoding = e, this;
      }, Object.defineProperty(x.prototype, "writableBuffer", {
        enumerable: !1,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      }), Object.defineProperty(x.prototype, "writableHighWaterMark", {
        enumerable: !1,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      }), x.prototype._write = function (e, t, r) {
        r(new m("_write()"));
      }, x.prototype._writev = null, x.prototype.end = function (e, t, i) {
        var n = this._writableState;
        return "function" == typeof e ? (i = e, e = null, t = null) : "function" == typeof t && (i = t, t = null), null != e && this.write(e, t), n.corked && (n.corked = 1, this.uncork()), n.ending || function (e, t, i) {
          t.ending = !0, I(e, t), i && (t.finished ? r.nextTick(i) : e.once("finish", i));
          t.ended = !0, e.writable = !1;
        }(this, n, i), this;
      }, Object.defineProperty(x.prototype, "writableLength", {
        enumerable: !1,
        get: function get() {
          return this._writableState.length;
        }
      }), Object.defineProperty(x.prototype, "destroyed", {
        enumerable: !1,
        get: function get() {
          return void 0 !== this._writableState && this._writableState.destroyed;
        },
        set: function set(e) {
          this._writableState && (this._writableState.destroyed = e);
        }
      }), x.prototype.destroy = c.destroy, x.prototype._undestroy = c.undestroy, x.prototype._destroy = function (e, t) {
        t(e);
      };
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "../errors": 48,
    "./_stream_duplex": 49,
    "./internal/streams/destroy": 56,
    "./internal/streams/state": 60,
    "./internal/streams/stream": 61,
    _process: 157,
    buffer: 65,
    inherits: 135,
    "util-deprecate": 196
  }],
  54: [function (e, t, r) {
    (function (r) {
      "use strict";

      var i;

      function n(e, t, r) {
        return t in e ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }) : e[t] = r, e;
      }

      var a = e("./end-of-stream"),
          s = Symbol("lastResolve"),
          o = Symbol("lastReject"),
          f = Symbol("error"),
          u = Symbol("ended"),
          h = Symbol("lastPromise"),
          c = Symbol("handlePromise"),
          d = Symbol("stream");

      function l(e, t) {
        return {
          value: e,
          done: t
        };
      }

      function p(e) {
        var t = e[s];

        if (null !== t) {
          var r = e[d].read();
          null !== r && (e[h] = null, e[s] = null, e[o] = null, t(l(r, !1)));
        }
      }

      function m(e) {
        r.nextTick(p, e);
      }

      var b = Object.getPrototypeOf(function () {}),
          y = Object.setPrototypeOf((n(i = {
        get stream() {
          return this[d];
        },

        next: function next() {
          var e = this,
              t = this[f];
          if (null !== t) return Promise.reject(t);
          if (this[u]) return Promise.resolve(l(void 0, !0));
          if (this[d].destroyed) return new Promise(function (t, i) {
            r.nextTick(function () {
              e[f] ? i(e[f]) : t(l(void 0, !0));
            });
          });
          var i,
              n = this[h];
          if (n) i = new Promise(function (e, t) {
            return function (r, i) {
              e.then(function () {
                t[u] ? r(l(void 0, !0)) : t[c](r, i);
              }, i);
            };
          }(n, this));else {
            var a = this[d].read();
            if (null !== a) return Promise.resolve(l(a, !1));
            i = new Promise(this[c]);
          }
          return this[h] = i, i;
        }
      }, Symbol.asyncIterator, function () {
        return this;
      }), n(i, "return", function () {
        var e = this;
        return new Promise(function (t, r) {
          e[d].destroy(null, function (e) {
            e ? r(e) : t(l(void 0, !0));
          });
        });
      }), i), b);

      t.exports = function (e) {
        var t,
            r = Object.create(y, (n(t = {}, d, {
          value: e,
          writable: !0
        }), n(t, s, {
          value: null,
          writable: !0
        }), n(t, o, {
          value: null,
          writable: !0
        }), n(t, f, {
          value: null,
          writable: !0
        }), n(t, u, {
          value: e._readableState.endEmitted,
          writable: !0
        }), n(t, c, {
          value: function value(e, t) {
            var i = r[d].read();
            i ? (r[h] = null, r[s] = null, r[o] = null, e(l(i, !1))) : (r[s] = e, r[o] = t);
          },
          writable: !0
        }), t));
        return r[h] = null, a(e, function (e) {
          if (e && "ERR_STREAM_PREMATURE_CLOSE" !== e.code) {
            var t = r[o];
            return null !== t && (r[h] = null, r[s] = null, r[o] = null, t(e)), void (r[f] = e);
          }

          var i = r[s];
          null !== i && (r[h] = null, r[s] = null, r[o] = null, i(l(void 0, !0))), r[u] = !0;
        }), e.on("readable", m.bind(null, r)), r;
      };
    }).call(this, e("_process"));
  }, {
    "./end-of-stream": 57,
    _process: 157
  }],
  55: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      var r = Object.keys(e);

      if (Object.getOwnPropertySymbols) {
        var i = Object.getOwnPropertySymbols(e);
        t && (i = i.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })), r.push.apply(r, i);
      }

      return r;
    }

    function n(e, t, r) {
      return t in e ? Object.defineProperty(e, t, {
        value: r,
        enumerable: !0,
        configurable: !0,
        writable: !0
      }) : e[t] = r, e;
    }

    function a(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var s = e("buffer").Buffer,
        o = e("util").inspect,
        f = o && o.custom || "inspect";

    t.exports = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.head = null, this.tail = null, this.length = 0;
      }

      var t, r, u;
      return t = e, (r = [{
        key: "push",
        value: function value(e) {
          var t = {
            data: e,
            next: null
          };
          this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length;
        }
      }, {
        key: "unshift",
        value: function value(e) {
          var t = {
            data: e,
            next: this.head
          };
          0 === this.length && (this.tail = t), this.head = t, ++this.length;
        }
      }, {
        key: "shift",
        value: function value() {
          if (0 !== this.length) {
            var e = this.head.data;
            return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e;
          }
        }
      }, {
        key: "clear",
        value: function value() {
          this.head = this.tail = null, this.length = 0;
        }
      }, {
        key: "join",
        value: function value(e) {
          if (0 === this.length) return "";

          for (var t = this.head, r = "" + t.data; t = t.next;) {
            r += e + t.data;
          }

          return r;
        }
      }, {
        key: "concat",
        value: function value(e) {
          if (0 === this.length) return s.alloc(0);

          for (var t, r, i, n = s.allocUnsafe(e >>> 0), a = this.head, o = 0; a;) {
            t = a.data, r = n, i = o, s.prototype.copy.call(t, r, i), o += a.data.length, a = a.next;
          }

          return n;
        }
      }, {
        key: "consume",
        value: function value(e, t) {
          var r;
          return e < this.head.data.length ? (r = this.head.data.slice(0, e), this.head.data = this.head.data.slice(e)) : r = e === this.head.data.length ? this.shift() : t ? this._getString(e) : this._getBuffer(e), r;
        }
      }, {
        key: "first",
        value: function value() {
          return this.head.data;
        }
      }, {
        key: "_getString",
        value: function value(e) {
          var t = this.head,
              r = 1,
              i = t.data;

          for (e -= i.length; t = t.next;) {
            var n = t.data,
                a = e > n.length ? n.length : e;

            if (a === n.length ? i += n : i += n.slice(0, e), 0 == (e -= a)) {
              a === n.length ? (++r, t.next ? this.head = t.next : this.head = this.tail = null) : (this.head = t, t.data = n.slice(a));
              break;
            }

            ++r;
          }

          return this.length -= r, i;
        }
      }, {
        key: "_getBuffer",
        value: function value(e) {
          var t = s.allocUnsafe(e),
              r = this.head,
              i = 1;

          for (r.data.copy(t), e -= r.data.length; r = r.next;) {
            var n = r.data,
                a = e > n.length ? n.length : e;

            if (n.copy(t, t.length - e, 0, a), 0 == (e -= a)) {
              a === n.length ? (++i, r.next ? this.head = r.next : this.head = this.tail = null) : (this.head = r, r.data = n.slice(a));
              break;
            }

            ++i;
          }

          return this.length -= i, t;
        }
      }, {
        key: f,
        value: function value(e, t) {
          return o(this, function (e) {
            for (var t = 1; t < arguments.length; t++) {
              var r = null != arguments[t] ? arguments[t] : {};
              t % 2 ? i(Object(r), !0).forEach(function (t) {
                n(e, t, r[t]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : i(Object(r)).forEach(function (t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));
              });
            }

            return e;
          }({}, t, {
            depth: 0,
            customInspect: !1
          }));
        }
      }]) && a(t.prototype, r), u && a(t, u), e;
    }();
  }, {
    buffer: 65,
    util: 19
  }],
  56: [function (e, t, r) {
    (function (e) {
      "use strict";

      function r(e, t) {
        n(e, t), i(e);
      }

      function i(e) {
        e._writableState && !e._writableState.emitClose || e._readableState && !e._readableState.emitClose || e.emit("close");
      }

      function n(e, t) {
        e.emit("error", t);
      }

      t.exports = {
        destroy: function destroy(t, a) {
          var s = this,
              o = this._readableState && this._readableState.destroyed,
              f = this._writableState && this._writableState.destroyed;
          return o || f ? (a ? a(t) : t && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, e.nextTick(n, this, t)) : e.nextTick(n, this, t)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(t || null, function (t) {
            !a && t ? s._writableState ? s._writableState.errorEmitted ? e.nextTick(i, s) : (s._writableState.errorEmitted = !0, e.nextTick(r, s, t)) : e.nextTick(r, s, t) : a ? (e.nextTick(i, s), a(t)) : e.nextTick(i, s);
          }), this);
        },
        undestroy: function undestroy() {
          this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
        },
        errorOrDestroy: function errorOrDestroy(e, t) {
          var r = e._readableState,
              i = e._writableState;
          r && r.autoDestroy || i && i.autoDestroy ? e.destroy(t) : e.emit("error", t);
        }
      };
    }).call(this, e("_process"));
  }, {
    _process: 157
  }],
  57: [function (e, t, r) {
    "use strict";

    var i = e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;

    function n() {}

    t.exports = function e(t, r, a) {
      if ("function" == typeof r) return e(t, null, r);
      r || (r = {}), a = function (e) {
        var t = !1;
        return function () {
          if (!t) {
            t = !0;

            for (var r = arguments.length, i = new Array(r), n = 0; n < r; n++) {
              i[n] = arguments[n];
            }

            e.apply(this, i);
          }
        };
      }(a || n);

      var s = r.readable || !1 !== r.readable && t.readable,
          o = r.writable || !1 !== r.writable && t.writable,
          f = function f() {
        t.writable || h();
      },
          u = t._writableState && t._writableState.finished,
          h = function h() {
        o = !1, u = !0, s || a.call(t);
      },
          c = t._readableState && t._readableState.endEmitted,
          d = function d() {
        s = !1, c = !0, o || a.call(t);
      },
          l = function l(e) {
        a.call(t, e);
      },
          p = function p() {
        var e;
        return s && !c ? (t._readableState && t._readableState.ended || (e = new i()), a.call(t, e)) : o && !u ? (t._writableState && t._writableState.ended || (e = new i()), a.call(t, e)) : void 0;
      },
          m = function m() {
        t.req.on("finish", h);
      };

      return !function (e) {
        return e.setHeader && "function" == typeof e.abort;
      }(t) ? o && !t._writableState && (t.on("end", f), t.on("close", f)) : (t.on("complete", h), t.on("abort", p), t.req ? m() : t.on("request", m)), t.on("end", d), t.on("finish", h), !1 !== r.error && t.on("error", l), t.on("close", p), function () {
        t.removeListener("complete", h), t.removeListener("abort", p), t.removeListener("request", m), t.req && t.req.removeListener("finish", h), t.removeListener("end", f), t.removeListener("close", f), t.removeListener("finish", h), t.removeListener("end", d), t.removeListener("error", l), t.removeListener("close", p);
      };
    };
  }, {
    "../../../errors": 48
  }],
  58: [function (e, t, r) {
    t.exports = function () {
      throw new Error("Readable.from is not available in the browser");
    };
  }, {}],
  59: [function (e, t, r) {
    "use strict";

    var i;
    var n = e("../../../errors").codes,
        a = n.ERR_MISSING_ARGS,
        s = n.ERR_STREAM_DESTROYED;

    function o(e) {
      if (e) throw e;
    }

    function f(t, r, n, a) {
      a = function (e) {
        var t = !1;
        return function () {
          t || (t = !0, e.apply(void 0, arguments));
        };
      }(a);

      var o = !1;
      t.on("close", function () {
        o = !0;
      }), void 0 === i && (i = e("./end-of-stream")), i(t, {
        readable: r,
        writable: n
      }, function (e) {
        if (e) return a(e);
        o = !0, a();
      });
      var f = !1;
      return function (e) {
        if (!o && !f) return f = !0, function (e) {
          return e.setHeader && "function" == typeof e.abort;
        }(t) ? t.abort() : "function" == typeof t.destroy ? t.destroy() : void a(e || new s("pipe"));
      };
    }

    function u(e) {
      e();
    }

    function h(e, t) {
      return e.pipe(t);
    }

    function c(e) {
      return e.length ? "function" != typeof e[e.length - 1] ? o : e.pop() : o;
    }

    t.exports = function () {
      for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {
        t[r] = arguments[r];
      }

      var i,
          n = c(t);
      if (Array.isArray(t[0]) && (t = t[0]), t.length < 2) throw new a("streams");
      var s = t.map(function (e, r) {
        var a = r < t.length - 1;
        return f(e, a, r > 0, function (e) {
          i || (i = e), e && s.forEach(u), a || (s.forEach(u), n(i));
        });
      });
      return t.reduce(h);
    };
  }, {
    "../../../errors": 48,
    "./end-of-stream": 57
  }],
  60: [function (e, t, r) {
    "use strict";

    var i = e("../../../errors").codes.ERR_INVALID_OPT_VALUE;
    t.exports = {
      getHighWaterMark: function getHighWaterMark(e, t, r, n) {
        var a = function (e, t, r) {
          return null != e.highWaterMark ? e.highWaterMark : t ? e[r] : null;
        }(t, n, r);

        if (null != a) {
          if (!isFinite(a) || Math.floor(a) !== a || a < 0) throw new i(n ? r : "highWaterMark", a);
          return Math.floor(a);
        }

        return e.objectMode ? 16 : 16384;
      }
    };
  }, {
    "../../../errors": 48
  }],
  61: [function (e, t, r) {
    t.exports = e("events").EventEmitter;
  }, {
    events: 103
  }],
  62: [function (e, t, r) {
    (r = t.exports = e("./lib/_stream_readable.js")).Stream = r, r.Readable = r, r.Writable = e("./lib/_stream_writable.js"), r.Duplex = e("./lib/_stream_duplex.js"), r.Transform = e("./lib/_stream_transform.js"), r.PassThrough = e("./lib/_stream_passthrough.js"), r.finished = e("./lib/internal/streams/end-of-stream.js"), r.pipeline = e("./lib/internal/streams/pipeline.js");
  }, {
    "./lib/_stream_duplex.js": 49,
    "./lib/_stream_passthrough.js": 50,
    "./lib/_stream_readable.js": 51,
    "./lib/_stream_transform.js": 52,
    "./lib/_stream_writable.js": 53,
    "./lib/internal/streams/end-of-stream.js": 57,
    "./lib/internal/streams/pipeline.js": 59
  }],
  63: [function (e, t, r) {
    arguments[4][19][0].apply(r, arguments);
  }, {
    dup: 19
  }],
  64: [function (e, t, r) {
    (function (e) {
      t.exports = function (t, r) {
        for (var i = Math.min(t.length, r.length), n = new e(i), a = 0; a < i; ++a) {
          n[a] = t[a] ^ r[a];
        }

        return n;
      };
    }).call(this, e("buffer").Buffer);
  }, {
    buffer: 65
  }],
  65: [function (e, t, r) {
    (function (t) {
      /*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <https://feross.org>
       * @license  MIT
       */
      "use strict";

      var i = e("base64-js"),
          n = e("ieee754");
      r.Buffer = t, r.SlowBuffer = function (e) {
        +e != e && (e = 0);
        return t.alloc(+e);
      }, r.INSPECT_MAX_BYTES = 50;

      function a(e) {
        if (e > 2147483647) throw new RangeError('The value "' + e + '" is invalid for option "size"');
        var r = new Uint8Array(e);
        return r.__proto__ = t.prototype, r;
      }

      function t(e, t, r) {
        if ("number" == typeof e) {
          if ("string" == typeof t) throw new TypeError('The "string" argument must be of type string. Received type number');
          return f(e);
        }

        return s(e, t, r);
      }

      function s(e, r, i) {
        if ("string" == typeof e) return function (e, r) {
          "string" == typeof r && "" !== r || (r = "utf8");
          if (!t.isEncoding(r)) throw new TypeError("Unknown encoding: " + r);
          var i = 0 | c(e, r),
              n = a(i),
              s = n.write(e, r);
          s !== i && (n = n.slice(0, s));
          return n;
        }(e, r);
        if (ArrayBuffer.isView(e)) return u(e);
        if (null == e) throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + _typeof(e));
        if (N(e, ArrayBuffer) || e && N(e.buffer, ArrayBuffer)) return function (e, r, i) {
          if (r < 0 || e.byteLength < r) throw new RangeError('"offset" is outside of buffer bounds');
          if (e.byteLength < r + (i || 0)) throw new RangeError('"length" is outside of buffer bounds');
          var n;
          n = void 0 === r && void 0 === i ? new Uint8Array(e) : void 0 === i ? new Uint8Array(e, r) : new Uint8Array(e, r, i);
          return n.__proto__ = t.prototype, n;
        }(e, r, i);
        if ("number" == typeof e) throw new TypeError('The "value" argument must not be of type number. Received type number');
        var n = e.valueOf && e.valueOf();
        if (null != n && n !== e) return t.from(n, r, i);

        var s = function (e) {
          if (t.isBuffer(e)) {
            var r = 0 | h(e.length),
                i = a(r);
            return 0 === i.length || e.copy(i, 0, 0, r), i;
          }

          if (void 0 !== e.length) return "number" != typeof e.length || O(e.length) ? a(0) : u(e);
          if ("Buffer" === e.type && Array.isArray(e.data)) return u(e.data);
        }(e);

        if (s) return s;
        if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e[Symbol.toPrimitive]) return t.from(e[Symbol.toPrimitive]("string"), r, i);
        throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + _typeof(e));
      }

      function o(e) {
        if ("number" != typeof e) throw new TypeError('"size" argument must be of type number');
        if (e < 0) throw new RangeError('The value "' + e + '" is invalid for option "size"');
      }

      function f(e) {
        return o(e), a(e < 0 ? 0 : 0 | h(e));
      }

      function u(e) {
        for (var t = e.length < 0 ? 0 : 0 | h(e.length), r = a(t), i = 0; i < t; i += 1) {
          r[i] = 255 & e[i];
        }

        return r;
      }

      function h(e) {
        if (e >= 2147483647) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + 2147483647..toString(16) + " bytes");
        return 0 | e;
      }

      function c(e, r) {
        if (t.isBuffer(e)) return e.length;
        if (ArrayBuffer.isView(e) || N(e, ArrayBuffer)) return e.byteLength;
        if ("string" != typeof e) throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + _typeof(e));
        var i = e.length,
            n = arguments.length > 2 && !0 === arguments[2];
        if (!n && 0 === i) return 0;

        for (var a = !1;;) {
          switch (r) {
            case "ascii":
            case "latin1":
            case "binary":
              return i;

            case "utf8":
            case "utf-8":
              return D(e).length;

            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return 2 * i;

            case "hex":
              return i >>> 1;

            case "base64":
              return L(e).length;

            default:
              if (a) return n ? -1 : D(e).length;
              r = ("" + r).toLowerCase(), a = !0;
          }
        }
      }

      function d(e, t, r) {
        var i = !1;
        if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
        if ((void 0 === r || r > this.length) && (r = this.length), r <= 0) return "";
        if ((r >>>= 0) <= (t >>>= 0)) return "";

        for (e || (e = "utf8");;) {
          switch (e) {
            case "hex":
              return M(this, t, r);

            case "utf8":
            case "utf-8":
              return S(this, t, r);

            case "ascii":
              return A(this, t, r);

            case "latin1":
            case "binary":
              return x(this, t, r);

            case "base64":
              return E(this, t, r);

            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return T(this, t, r);

            default:
              if (i) throw new TypeError("Unknown encoding: " + e);
              e = (e + "").toLowerCase(), i = !0;
          }
        }
      }

      function l(e, t, r) {
        var i = e[t];
        e[t] = e[r], e[r] = i;
      }

      function p(e, r, i, n, a) {
        if (0 === e.length) return -1;

        if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648), O(i = +i) && (i = a ? 0 : e.length - 1), i < 0 && (i = e.length + i), i >= e.length) {
          if (a) return -1;
          i = e.length - 1;
        } else if (i < 0) {
          if (!a) return -1;
          i = 0;
        }

        if ("string" == typeof r && (r = t.from(r, n)), t.isBuffer(r)) return 0 === r.length ? -1 : m(e, r, i, n, a);
        if ("number" == typeof r) return r &= 255, "function" == typeof Uint8Array.prototype.indexOf ? a ? Uint8Array.prototype.indexOf.call(e, r, i) : Uint8Array.prototype.lastIndexOf.call(e, r, i) : m(e, [r], i, n, a);
        throw new TypeError("val must be string, number or Buffer");
      }

      function m(e, t, r, i, n) {
        var a,
            s = 1,
            o = e.length,
            f = t.length;

        if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
          if (e.length < 2 || t.length < 2) return -1;
          s = 2, o /= 2, f /= 2, r /= 2;
        }

        function u(e, t) {
          return 1 === s ? e[t] : e.readUInt16BE(t * s);
        }

        if (n) {
          var h = -1;

          for (a = r; a < o; a++) {
            if (u(e, a) === u(t, -1 === h ? 0 : a - h)) {
              if (-1 === h && (h = a), a - h + 1 === f) return h * s;
            } else -1 !== h && (a -= a - h), h = -1;
          }
        } else for (r + f > o && (r = o - f), a = r; a >= 0; a--) {
          for (var c = !0, d = 0; d < f; d++) {
            if (u(e, a + d) !== u(t, d)) {
              c = !1;
              break;
            }
          }

          if (c) return a;
        }

        return -1;
      }

      function b(e, t, r, i) {
        r = Number(r) || 0;
        var n = e.length - r;
        i ? (i = Number(i)) > n && (i = n) : i = n;
        var a = t.length;
        i > a / 2 && (i = a / 2);

        for (var s = 0; s < i; ++s) {
          var o = parseInt(t.substr(2 * s, 2), 16);
          if (O(o)) return s;
          e[r + s] = o;
        }

        return s;
      }

      function y(e, t, r, i) {
        return F(D(t, e.length - r), e, r, i);
      }

      function g(e, t, r, i) {
        return F(function (e) {
          for (var t = [], r = 0; r < e.length; ++r) {
            t.push(255 & e.charCodeAt(r));
          }

          return t;
        }(t), e, r, i);
      }

      function _(e, t, r, i) {
        return g(e, t, r, i);
      }

      function v(e, t, r, i) {
        return F(L(t), e, r, i);
      }

      function w(e, t, r, i) {
        return F(function (e, t) {
          for (var r, i, n, a = [], s = 0; s < e.length && !((t -= 2) < 0); ++s) {
            r = e.charCodeAt(s), i = r >> 8, n = r % 256, a.push(n), a.push(i);
          }

          return a;
        }(t, e.length - r), e, r, i);
      }

      function E(e, t, r) {
        return 0 === t && r === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, r));
      }

      function S(e, t, r) {
        r = Math.min(e.length, r);

        for (var i = [], n = t; n < r;) {
          var a,
              s,
              o,
              f,
              u = e[n],
              h = null,
              c = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
          if (n + c <= r) switch (c) {
            case 1:
              u < 128 && (h = u);
              break;

            case 2:
              128 == (192 & (a = e[n + 1])) && (f = (31 & u) << 6 | 63 & a) > 127 && (h = f);
              break;

            case 3:
              a = e[n + 1], s = e[n + 2], 128 == (192 & a) && 128 == (192 & s) && (f = (15 & u) << 12 | (63 & a) << 6 | 63 & s) > 2047 && (f < 55296 || f > 57343) && (h = f);
              break;

            case 4:
              a = e[n + 1], s = e[n + 2], o = e[n + 3], 128 == (192 & a) && 128 == (192 & s) && 128 == (192 & o) && (f = (15 & u) << 18 | (63 & a) << 12 | (63 & s) << 6 | 63 & o) > 65535 && f < 1114112 && (h = f);
          }
          null === h ? (h = 65533, c = 1) : h > 65535 && (h -= 65536, i.push(h >>> 10 & 1023 | 55296), h = 56320 | 1023 & h), i.push(h), n += c;
        }

        return function (e) {
          var t = e.length;
          if (t <= 4096) return String.fromCharCode.apply(String, e);
          var r = "",
              i = 0;

          for (; i < t;) {
            r += String.fromCharCode.apply(String, e.slice(i, i += 4096));
          }

          return r;
        }(i);
      }

      r.kMaxLength = 2147483647, t.TYPED_ARRAY_SUPPORT = function () {
        try {
          var e = new Uint8Array(1);
          return e.__proto__ = {
            __proto__: Uint8Array.prototype,
            foo: function foo() {
              return 42;
            }
          }, 42 === e.foo();
        } catch (e) {
          return !1;
        }
      }(), t.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(t.prototype, "parent", {
        enumerable: !0,
        get: function get() {
          if (t.isBuffer(this)) return this.buffer;
        }
      }), Object.defineProperty(t.prototype, "offset", {
        enumerable: !0,
        get: function get() {
          if (t.isBuffer(this)) return this.byteOffset;
        }
      }), "undefined" != typeof Symbol && null != Symbol.species && t[Symbol.species] === t && Object.defineProperty(t, Symbol.species, {
        value: null,
        configurable: !0,
        enumerable: !1,
        writable: !1
      }), t.poolSize = 8192, t.from = function (e, t, r) {
        return s(e, t, r);
      }, t.prototype.__proto__ = Uint8Array.prototype, t.__proto__ = Uint8Array, t.alloc = function (e, t, r) {
        return function (e, t, r) {
          return o(e), e <= 0 ? a(e) : void 0 !== t ? "string" == typeof r ? a(e).fill(t, r) : a(e).fill(t) : a(e);
        }(e, t, r);
      }, t.allocUnsafe = function (e) {
        return f(e);
      }, t.allocUnsafeSlow = function (e) {
        return f(e);
      }, t.isBuffer = function (e) {
        return null != e && !0 === e._isBuffer && e !== t.prototype;
      }, t.compare = function (e, r) {
        if (N(e, Uint8Array) && (e = t.from(e, e.offset, e.byteLength)), N(r, Uint8Array) && (r = t.from(r, r.offset, r.byteLength)), !t.isBuffer(e) || !t.isBuffer(r)) throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
        if (e === r) return 0;

        for (var i = e.length, n = r.length, a = 0, s = Math.min(i, n); a < s; ++a) {
          if (e[a] !== r[a]) {
            i = e[a], n = r[a];
            break;
          }
        }

        return i < n ? -1 : n < i ? 1 : 0;
      }, t.isEncoding = function (e) {
        switch (String(e).toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "latin1":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return !0;

          default:
            return !1;
        }
      }, t.concat = function (e, r) {
        if (!Array.isArray(e)) throw new TypeError('"list" argument must be an Array of Buffers');
        if (0 === e.length) return t.alloc(0);
        var i;
        if (void 0 === r) for (r = 0, i = 0; i < e.length; ++i) {
          r += e[i].length;
        }
        var n = t.allocUnsafe(r),
            a = 0;

        for (i = 0; i < e.length; ++i) {
          var s = e[i];
          if (N(s, Uint8Array) && (s = t.from(s)), !t.isBuffer(s)) throw new TypeError('"list" argument must be an Array of Buffers');
          s.copy(n, a), a += s.length;
        }

        return n;
      }, t.byteLength = c, t.prototype._isBuffer = !0, t.prototype.swap16 = function () {
        var e = this.length;
        if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");

        for (var t = 0; t < e; t += 2) {
          l(this, t, t + 1);
        }

        return this;
      }, t.prototype.swap32 = function () {
        var e = this.length;
        if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");

        for (var t = 0; t < e; t += 4) {
          l(this, t, t + 3), l(this, t + 1, t + 2);
        }

        return this;
      }, t.prototype.swap64 = function () {
        var e = this.length;
        if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");

        for (var t = 0; t < e; t += 8) {
          l(this, t, t + 7), l(this, t + 1, t + 6), l(this, t + 2, t + 5), l(this, t + 3, t + 4);
        }

        return this;
      }, t.prototype.toString = function () {
        var e = this.length;
        return 0 === e ? "" : 0 === arguments.length ? S(this, 0, e) : d.apply(this, arguments);
      }, t.prototype.toLocaleString = t.prototype.toString, t.prototype.equals = function (e) {
        if (!t.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
        return this === e || 0 === t.compare(this, e);
      }, t.prototype.inspect = function () {
        var e = "",
            t = r.INSPECT_MAX_BYTES;
        return e = this.toString("hex", 0, t).replace(/(.{2})/g, "$1 ").trim(), this.length > t && (e += " ... "), "<Buffer " + e + ">";
      }, t.prototype.compare = function (e, r, i, n, a) {
        if (N(e, Uint8Array) && (e = t.from(e, e.offset, e.byteLength)), !t.isBuffer(e)) throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + _typeof(e));
        if (void 0 === r && (r = 0), void 0 === i && (i = e ? e.length : 0), void 0 === n && (n = 0), void 0 === a && (a = this.length), r < 0 || i > e.length || n < 0 || a > this.length) throw new RangeError("out of range index");
        if (n >= a && r >= i) return 0;
        if (n >= a) return -1;
        if (r >= i) return 1;
        if (this === e) return 0;

        for (var s = (a >>>= 0) - (n >>>= 0), o = (i >>>= 0) - (r >>>= 0), f = Math.min(s, o), u = this.slice(n, a), h = e.slice(r, i), c = 0; c < f; ++c) {
          if (u[c] !== h[c]) {
            s = u[c], o = h[c];
            break;
          }
        }

        return s < o ? -1 : o < s ? 1 : 0;
      }, t.prototype.includes = function (e, t, r) {
        return -1 !== this.indexOf(e, t, r);
      }, t.prototype.indexOf = function (e, t, r) {
        return p(this, e, t, r, !0);
      }, t.prototype.lastIndexOf = function (e, t, r) {
        return p(this, e, t, r, !1);
      }, t.prototype.write = function (e, t, r, i) {
        if (void 0 === t) i = "utf8", r = this.length, t = 0;else if (void 0 === r && "string" == typeof t) i = t, r = this.length, t = 0;else {
          if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
          t >>>= 0, isFinite(r) ? (r >>>= 0, void 0 === i && (i = "utf8")) : (i = r, r = void 0);
        }
        var n = this.length - t;
        if ((void 0 === r || r > n) && (r = n), e.length > 0 && (r < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
        i || (i = "utf8");

        for (var a = !1;;) {
          switch (i) {
            case "hex":
              return b(this, e, t, r);

            case "utf8":
            case "utf-8":
              return y(this, e, t, r);

            case "ascii":
              return g(this, e, t, r);

            case "latin1":
            case "binary":
              return _(this, e, t, r);

            case "base64":
              return v(this, e, t, r);

            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return w(this, e, t, r);

            default:
              if (a) throw new TypeError("Unknown encoding: " + i);
              i = ("" + i).toLowerCase(), a = !0;
          }
        }
      }, t.prototype.toJSON = function () {
        return {
          type: "Buffer",
          data: Array.prototype.slice.call(this._arr || this, 0)
        };
      };

      function A(e, t, r) {
        var i = "";
        r = Math.min(e.length, r);

        for (var n = t; n < r; ++n) {
          i += String.fromCharCode(127 & e[n]);
        }

        return i;
      }

      function x(e, t, r) {
        var i = "";
        r = Math.min(e.length, r);

        for (var n = t; n < r; ++n) {
          i += String.fromCharCode(e[n]);
        }

        return i;
      }

      function M(e, t, r) {
        var i = e.length;
        (!t || t < 0) && (t = 0), (!r || r < 0 || r > i) && (r = i);

        for (var n = "", a = t; a < r; ++a) {
          n += B(e[a]);
        }

        return n;
      }

      function T(e, t, r) {
        for (var i = e.slice(t, r), n = "", a = 0; a < i.length; a += 2) {
          n += String.fromCharCode(i[a] + 256 * i[a + 1]);
        }

        return n;
      }

      function k(e, t, r) {
        if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
        if (e + t > r) throw new RangeError("Trying to access beyond buffer length");
      }

      function P(e, r, i, n, a, s) {
        if (!t.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
        if (r > a || r < s) throw new RangeError('"value" argument is out of bounds');
        if (i + n > e.length) throw new RangeError("Index out of range");
      }

      function U(e, t, r, i, n, a) {
        if (r + i > e.length) throw new RangeError("Index out of range");
        if (r < 0) throw new RangeError("Index out of range");
      }

      function I(e, t, r, i, a) {
        return t = +t, r >>>= 0, a || U(e, 0, r, 4), n.write(e, t, r, i, 23, 4), r + 4;
      }

      function C(e, t, r, i, a) {
        return t = +t, r >>>= 0, a || U(e, 0, r, 8), n.write(e, t, r, i, 52, 8), r + 8;
      }

      t.prototype.slice = function (e, r) {
        var i = this.length;
        (e = ~~e) < 0 ? (e += i) < 0 && (e = 0) : e > i && (e = i), (r = void 0 === r ? i : ~~r) < 0 ? (r += i) < 0 && (r = 0) : r > i && (r = i), r < e && (r = e);
        var n = this.subarray(e, r);
        return n.__proto__ = t.prototype, n;
      }, t.prototype.readUIntLE = function (e, t, r) {
        e >>>= 0, t >>>= 0, r || k(e, t, this.length);

        for (var i = this[e], n = 1, a = 0; ++a < t && (n *= 256);) {
          i += this[e + a] * n;
        }

        return i;
      }, t.prototype.readUIntBE = function (e, t, r) {
        e >>>= 0, t >>>= 0, r || k(e, t, this.length);

        for (var i = this[e + --t], n = 1; t > 0 && (n *= 256);) {
          i += this[e + --t] * n;
        }

        return i;
      }, t.prototype.readUInt8 = function (e, t) {
        return e >>>= 0, t || k(e, 1, this.length), this[e];
      }, t.prototype.readUInt16LE = function (e, t) {
        return e >>>= 0, t || k(e, 2, this.length), this[e] | this[e + 1] << 8;
      }, t.prototype.readUInt16BE = function (e, t) {
        return e >>>= 0, t || k(e, 2, this.length), this[e] << 8 | this[e + 1];
      }, t.prototype.readUInt32LE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3];
      }, t.prototype.readUInt32BE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]);
      }, t.prototype.readIntLE = function (e, t, r) {
        e >>>= 0, t >>>= 0, r || k(e, t, this.length);

        for (var i = this[e], n = 1, a = 0; ++a < t && (n *= 256);) {
          i += this[e + a] * n;
        }

        return i >= (n *= 128) && (i -= Math.pow(2, 8 * t)), i;
      }, t.prototype.readIntBE = function (e, t, r) {
        e >>>= 0, t >>>= 0, r || k(e, t, this.length);

        for (var i = t, n = 1, a = this[e + --i]; i > 0 && (n *= 256);) {
          a += this[e + --i] * n;
        }

        return a >= (n *= 128) && (a -= Math.pow(2, 8 * t)), a;
      }, t.prototype.readInt8 = function (e, t) {
        return e >>>= 0, t || k(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];
      }, t.prototype.readInt16LE = function (e, t) {
        e >>>= 0, t || k(e, 2, this.length);
        var r = this[e] | this[e + 1] << 8;
        return 32768 & r ? 4294901760 | r : r;
      }, t.prototype.readInt16BE = function (e, t) {
        e >>>= 0, t || k(e, 2, this.length);
        var r = this[e + 1] | this[e] << 8;
        return 32768 & r ? 4294901760 | r : r;
      }, t.prototype.readInt32LE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24;
      }, t.prototype.readInt32BE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3];
      }, t.prototype.readFloatLE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), n.read(this, e, !0, 23, 4);
      }, t.prototype.readFloatBE = function (e, t) {
        return e >>>= 0, t || k(e, 4, this.length), n.read(this, e, !1, 23, 4);
      }, t.prototype.readDoubleLE = function (e, t) {
        return e >>>= 0, t || k(e, 8, this.length), n.read(this, e, !0, 52, 8);
      }, t.prototype.readDoubleBE = function (e, t) {
        return e >>>= 0, t || k(e, 8, this.length), n.read(this, e, !1, 52, 8);
      }, t.prototype.writeUIntLE = function (e, t, r, i) {
        (e = +e, t >>>= 0, r >>>= 0, i) || P(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
        var n = 1,
            a = 0;

        for (this[t] = 255 & e; ++a < r && (n *= 256);) {
          this[t + a] = e / n & 255;
        }

        return t + r;
      }, t.prototype.writeUIntBE = function (e, t, r, i) {
        (e = +e, t >>>= 0, r >>>= 0, i) || P(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
        var n = r - 1,
            a = 1;

        for (this[t + n] = 255 & e; --n >= 0 && (a *= 256);) {
          this[t + n] = e / a & 255;
        }

        return t + r;
      }, t.prototype.writeUInt8 = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1;
      }, t.prototype.writeUInt16LE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2;
      }, t.prototype.writeUInt16BE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2;
      }, t.prototype.writeUInt32LE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4;
      }, t.prototype.writeUInt32BE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4;
      }, t.prototype.writeIntLE = function (e, t, r, i) {
        if (e = +e, t >>>= 0, !i) {
          var n = Math.pow(2, 8 * r - 1);
          P(this, e, t, r, n - 1, -n);
        }

        var a = 0,
            s = 1,
            o = 0;

        for (this[t] = 255 & e; ++a < r && (s *= 256);) {
          e < 0 && 0 === o && 0 !== this[t + a - 1] && (o = 1), this[t + a] = (e / s >> 0) - o & 255;
        }

        return t + r;
      }, t.prototype.writeIntBE = function (e, t, r, i) {
        if (e = +e, t >>>= 0, !i) {
          var n = Math.pow(2, 8 * r - 1);
          P(this, e, t, r, n - 1, -n);
        }

        var a = r - 1,
            s = 1,
            o = 0;

        for (this[t + a] = 255 & e; --a >= 0 && (s *= 256);) {
          e < 0 && 0 === o && 0 !== this[t + a + 1] && (o = 1), this[t + a] = (e / s >> 0) - o & 255;
        }

        return t + r;
      }, t.prototype.writeInt8 = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1;
      }, t.prototype.writeInt16LE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2;
      }, t.prototype.writeInt16BE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2;
      }, t.prototype.writeInt32LE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4;
      }, t.prototype.writeInt32BE = function (e, t, r) {
        return e = +e, t >>>= 0, r || P(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4;
      }, t.prototype.writeFloatLE = function (e, t, r) {
        return I(this, e, t, !0, r);
      }, t.prototype.writeFloatBE = function (e, t, r) {
        return I(this, e, t, !1, r);
      }, t.prototype.writeDoubleLE = function (e, t, r) {
        return C(this, e, t, !0, r);
      }, t.prototype.writeDoubleBE = function (e, t, r) {
        return C(this, e, t, !1, r);
      }, t.prototype.copy = function (e, r, i, n) {
        if (!t.isBuffer(e)) throw new TypeError("argument should be a Buffer");
        if (i || (i = 0), n || 0 === n || (n = this.length), r >= e.length && (r = e.length), r || (r = 0), n > 0 && n < i && (n = i), n === i) return 0;
        if (0 === e.length || 0 === this.length) return 0;
        if (r < 0) throw new RangeError("targetStart out of bounds");
        if (i < 0 || i >= this.length) throw new RangeError("Index out of range");
        if (n < 0) throw new RangeError("sourceEnd out of bounds");
        n > this.length && (n = this.length), e.length - r < n - i && (n = e.length - r + i);
        var a = n - i;
        if (this === e && "function" == typeof Uint8Array.prototype.copyWithin) this.copyWithin(r, i, n);else if (this === e && i < r && r < n) for (var s = a - 1; s >= 0; --s) {
          e[s + r] = this[s + i];
        } else Uint8Array.prototype.set.call(e, this.subarray(i, n), r);
        return a;
      }, t.prototype.fill = function (e, r, i, n) {
        if ("string" == typeof e) {
          if ("string" == typeof r ? (n = r, r = 0, i = this.length) : "string" == typeof i && (n = i, i = this.length), void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
          if ("string" == typeof n && !t.isEncoding(n)) throw new TypeError("Unknown encoding: " + n);

          if (1 === e.length) {
            var a = e.charCodeAt(0);
            ("utf8" === n && a < 128 || "latin1" === n) && (e = a);
          }
        } else "number" == typeof e && (e &= 255);

        if (r < 0 || this.length < r || this.length < i) throw new RangeError("Out of range index");
        if (i <= r) return this;
        var s;
        if (r >>>= 0, i = void 0 === i ? this.length : i >>> 0, e || (e = 0), "number" == typeof e) for (s = r; s < i; ++s) {
          this[s] = e;
        } else {
          var o = t.isBuffer(e) ? e : t.from(e, n),
              f = o.length;
          if (0 === f) throw new TypeError('The value "' + e + '" is invalid for argument "value"');

          for (s = 0; s < i - r; ++s) {
            this[s + r] = o[s % f];
          }
        }
        return this;
      };
      var R = /[^+/0-9A-Za-z-_]/g;

      function B(e) {
        return e < 16 ? "0" + e.toString(16) : e.toString(16);
      }

      function D(e, t) {
        var r;
        t = t || 1 / 0;

        for (var i = e.length, n = null, a = [], s = 0; s < i; ++s) {
          if ((r = e.charCodeAt(s)) > 55295 && r < 57344) {
            if (!n) {
              if (r > 56319) {
                (t -= 3) > -1 && a.push(239, 191, 189);
                continue;
              }

              if (s + 1 === i) {
                (t -= 3) > -1 && a.push(239, 191, 189);
                continue;
              }

              n = r;
              continue;
            }

            if (r < 56320) {
              (t -= 3) > -1 && a.push(239, 191, 189), n = r;
              continue;
            }

            r = 65536 + (n - 55296 << 10 | r - 56320);
          } else n && (t -= 3) > -1 && a.push(239, 191, 189);

          if (n = null, r < 128) {
            if ((t -= 1) < 0) break;
            a.push(r);
          } else if (r < 2048) {
            if ((t -= 2) < 0) break;
            a.push(r >> 6 | 192, 63 & r | 128);
          } else if (r < 65536) {
            if ((t -= 3) < 0) break;
            a.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128);
          } else {
            if (!(r < 1114112)) throw new Error("Invalid code point");
            if ((t -= 4) < 0) break;
            a.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128);
          }
        }

        return a;
      }

      function L(e) {
        return i.toByteArray(function (e) {
          if ((e = (e = e.split("=")[0]).trim().replace(R, "")).length < 2) return "";

          for (; e.length % 4 != 0;) {
            e += "=";
          }

          return e;
        }(e));
      }

      function F(e, t, r, i) {
        for (var n = 0; n < i && !(n + r >= t.length || n >= e.length); ++n) {
          t[n + r] = e[n];
        }

        return n;
      }

      function N(e, t) {
        return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name;
      }

      function O(e) {
        return e != e;
      }
    }).call(this, e("buffer").Buffer);
  }, {
    "base64-js": 16,
    buffer: 65,
    ieee754: 134
  }],
  66: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("stream").Transform,
        a = e("string_decoder").StringDecoder;

    function s(e) {
      n.call(this), this.hashMode = "string" == typeof e, this.hashMode ? this[e] = this._finalOrDigest : this["final"] = this._finalOrDigest, this._final && (this.__final = this._final, this._final = null), this._decoder = null, this._encoding = null;
    }

    e("inherits")(s, n), s.prototype.update = function (e, t, r) {
      "string" == typeof e && (e = i.from(e, t));

      var n = this._update(e);

      return this.hashMode ? this : (r && (n = this._toString(n, r)), n);
    }, s.prototype.setAutoPadding = function () {}, s.prototype.getAuthTag = function () {
      throw new Error("trying to get auth tag in unsupported state");
    }, s.prototype.setAuthTag = function () {
      throw new Error("trying to set auth tag in unsupported state");
    }, s.prototype.setAAD = function () {
      throw new Error("trying to set aad in unsupported state");
    }, s.prototype._transform = function (e, t, r) {
      var i;

      try {
        this.hashMode ? this._update(e) : this.push(this._update(e));
      } catch (e) {
        i = e;
      } finally {
        r(i);
      }
    }, s.prototype._flush = function (e) {
      var t;

      try {
        this.push(this.__final());
      } catch (e) {
        t = e;
      }

      e(t);
    }, s.prototype._finalOrDigest = function (e) {
      var t = this.__final() || i.alloc(0);
      return e && (t = this._toString(t, e, !0)), t;
    }, s.prototype._toString = function (e, t, r) {
      if (this._decoder || (this._decoder = new a(t), this._encoding = t), this._encoding !== t) throw new Error("can't switch encodings");

      var i = this._decoder.write(e);

      return r && (i += this._decoder.end()), i;
    }, t.exports = s;
  }, {
    inherits: 135,
    "safe-buffer": 183,
    stream: 193,
    string_decoder: 194
  }],
  67: [function (e, t, r) {
    (function (e) {
      function t(e) {
        return Object.prototype.toString.call(e);
      }

      r.isArray = function (e) {
        return Array.isArray ? Array.isArray(e) : "[object Array]" === t(e);
      }, r.isBoolean = function (e) {
        return "boolean" == typeof e;
      }, r.isNull = function (e) {
        return null === e;
      }, r.isNullOrUndefined = function (e) {
        return null == e;
      }, r.isNumber = function (e) {
        return "number" == typeof e;
      }, r.isString = function (e) {
        return "string" == typeof e;
      }, r.isSymbol = function (e) {
        return "symbol" == _typeof(e);
      }, r.isUndefined = function (e) {
        return void 0 === e;
      }, r.isRegExp = function (e) {
        return "[object RegExp]" === t(e);
      }, r.isObject = function (e) {
        return "object" == _typeof(e) && null !== e;
      }, r.isDate = function (e) {
        return "[object Date]" === t(e);
      }, r.isError = function (e) {
        return "[object Error]" === t(e) || e instanceof Error;
      }, r.isFunction = function (e) {
        return "function" == typeof e;
      }, r.isPrimitive = function (e) {
        return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == _typeof(e) || void 0 === e;
      }, r.isBuffer = e.isBuffer;
    }).call(this, {
      isBuffer: e("../../is-buffer/index.js")
    });
  }, {
    "../../is-buffer/index.js": 136
  }],
  68: [function (e, t, r) {
    (function (r) {
      var i = e("elliptic"),
          n = e("bn.js");

      t.exports = function (e) {
        return new s(e);
      };

      var a = {
        secp256k1: {
          name: "secp256k1",
          byteLength: 32
        },
        secp224r1: {
          name: "p224",
          byteLength: 28
        },
        prime256v1: {
          name: "p256",
          byteLength: 32
        },
        prime192v1: {
          name: "p192",
          byteLength: 24
        },
        ed25519: {
          name: "ed25519",
          byteLength: 32
        },
        secp384r1: {
          name: "p384",
          byteLength: 48
        },
        secp521r1: {
          name: "p521",
          byteLength: 66
        }
      };

      function s(e) {
        this.curveType = a[e], this.curveType || (this.curveType = {
          name: e
        }), this.curve = new i.ec(this.curveType.name), this.keys = void 0;
      }

      function o(e, t, i) {
        Array.isArray(e) || (e = e.toArray());
        var n = new r(e);

        if (i && n.length < i) {
          var a = new r(i - n.length);
          a.fill(0), n = r.concat([a, n]);
        }

        return t ? n.toString(t) : n;
      }

      a.p224 = a.secp224r1, a.p256 = a.secp256r1 = a.prime256v1, a.p192 = a.secp192r1 = a.prime192v1, a.p384 = a.secp384r1, a.p521 = a.secp521r1, s.prototype.generateKeys = function (e, t) {
        return this.keys = this.curve.genKeyPair(), this.getPublicKey(e, t);
      }, s.prototype.computeSecret = function (e, t, i) {
        return t = t || "utf8", r.isBuffer(e) || (e = new r(e, t)), o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(), i, this.curveType.byteLength);
      }, s.prototype.getPublicKey = function (e, t) {
        var r = this.keys.getPublic("compressed" === t, !0);
        return "hybrid" === t && (r[r.length - 1] % 2 ? r[0] = 7 : r[0] = 6), o(r, e);
      }, s.prototype.getPrivateKey = function (e) {
        return o(this.keys.getPrivate(), e);
      }, s.prototype.setPublicKey = function (e, t) {
        return t = t || "utf8", r.isBuffer(e) || (e = new r(e, t)), this.keys._importPublic(e), this;
      }, s.prototype.setPrivateKey = function (e, t) {
        t = t || "utf8", r.isBuffer(e) || (e = new r(e, t));
        var i = new n(e);
        return i = i.toString(16), this.keys = this.curve.genKeyPair(), this.keys._importPrivate(i), this;
      };
    }).call(this, e("buffer").Buffer);
  }, {
    "bn.js": 69,
    buffer: 65,
    elliptic: 86
  }],
  69: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  70: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("md5.js"),
        a = e("ripemd160"),
        s = e("sha.js"),
        o = e("cipher-base");

    function f(e) {
      o.call(this, "digest"), this._hash = e;
    }

    i(f, o), f.prototype._update = function (e) {
      this._hash.update(e);
    }, f.prototype._final = function () {
      return this._hash.digest();
    }, t.exports = function (e) {
      return "md5" === (e = e.toLowerCase()) ? new n() : "rmd160" === e || "ripemd160" === e ? new a() : new f(s(e));
    };
  }, {
    "cipher-base": 66,
    inherits: 135,
    "md5.js": 138,
    ripemd160: 182,
    "sha.js": 186
  }],
  71: [function (e, t, r) {
    var i = e("md5.js");

    t.exports = function (e) {
      return new i().update(e).digest();
    };
  }, {
    "md5.js": 138
  }],
  72: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("./legacy"),
        a = e("cipher-base"),
        s = e("safe-buffer").Buffer,
        o = e("create-hash/md5"),
        f = e("ripemd160"),
        u = e("sha.js"),
        h = s.alloc(128);

    function c(e, t) {
      a.call(this, "digest"), "string" == typeof t && (t = s.from(t));
      var r = "sha512" === e || "sha384" === e ? 128 : 64;
      (this._alg = e, this._key = t, t.length > r) ? t = ("rmd160" === e ? new f() : u(e)).update(t).digest() : t.length < r && (t = s.concat([t, h], r));

      for (var i = this._ipad = s.allocUnsafe(r), n = this._opad = s.allocUnsafe(r), o = 0; o < r; o++) {
        i[o] = 54 ^ t[o], n[o] = 92 ^ t[o];
      }

      this._hash = "rmd160" === e ? new f() : u(e), this._hash.update(i);
    }

    i(c, a), c.prototype._update = function (e) {
      this._hash.update(e);
    }, c.prototype._final = function () {
      var e = this._hash.digest();

      return ("rmd160" === this._alg ? new f() : u(this._alg)).update(this._opad).update(e).digest();
    }, t.exports = function (e, t) {
      return "rmd160" === (e = e.toLowerCase()) || "ripemd160" === e ? new c("rmd160", t) : "md5" === e ? new n(o, t) : new c(e, t);
    };
  }, {
    "./legacy": 73,
    "cipher-base": 66,
    "create-hash/md5": 71,
    inherits: 135,
    ripemd160: 182,
    "safe-buffer": 183,
    "sha.js": 186
  }],
  73: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("safe-buffer").Buffer,
        a = e("cipher-base"),
        s = n.alloc(128);

    function o(e, t) {
      a.call(this, "digest"), "string" == typeof t && (t = n.from(t)), this._alg = e, this._key = t, t.length > 64 ? t = e(t) : t.length < 64 && (t = n.concat([t, s], 64));

      for (var r = this._ipad = n.allocUnsafe(64), i = this._opad = n.allocUnsafe(64), o = 0; o < 64; o++) {
        r[o] = 54 ^ t[o], i[o] = 92 ^ t[o];
      }

      this._hash = [r];
    }

    i(o, a), o.prototype._update = function (e) {
      this._hash.push(e);
    }, o.prototype._final = function () {
      var e = this._alg(n.concat(this._hash));

      return this._alg(n.concat([this._opad, e]));
    }, t.exports = o;
  }, {
    "cipher-base": 66,
    inherits: 135,
    "safe-buffer": 183
  }],
  74: [function (e, t, r) {
    "use strict";

    r.randomBytes = r.rng = r.pseudoRandomBytes = r.prng = e("randombytes"), r.createHash = r.Hash = e("create-hash"), r.createHmac = r.Hmac = e("create-hmac");
    var i = e("browserify-sign/algos"),
        n = Object.keys(i),
        a = ["sha1", "sha224", "sha256", "sha384", "sha512", "md5", "rmd160"].concat(n);

    r.getHashes = function () {
      return a;
    };

    var s = e("pbkdf2");
    r.pbkdf2 = s.pbkdf2, r.pbkdf2Sync = s.pbkdf2Sync;
    var o = e("browserify-cipher");
    r.Cipher = o.Cipher, r.createCipher = o.createCipher, r.Cipheriv = o.Cipheriv, r.createCipheriv = o.createCipheriv, r.Decipher = o.Decipher, r.createDecipher = o.createDecipher, r.Decipheriv = o.Decipheriv, r.createDecipheriv = o.createDecipheriv, r.getCiphers = o.getCiphers, r.listCiphers = o.listCiphers;
    var f = e("diffie-hellman");
    r.DiffieHellmanGroup = f.DiffieHellmanGroup, r.createDiffieHellmanGroup = f.createDiffieHellmanGroup, r.getDiffieHellman = f.getDiffieHellman, r.createDiffieHellman = f.createDiffieHellman, r.DiffieHellman = f.DiffieHellman;
    var u = e("browserify-sign");
    r.createSign = u.createSign, r.Sign = u.Sign, r.createVerify = u.createVerify, r.Verify = u.Verify, r.createECDH = e("create-ecdh");
    var h = e("public-encrypt");
    r.publicEncrypt = h.publicEncrypt, r.privateEncrypt = h.privateEncrypt, r.publicDecrypt = h.publicDecrypt, r.privateDecrypt = h.privateDecrypt;
    var c = e("randomfill");
    r.randomFill = c.randomFill, r.randomFillSync = c.randomFillSync, r.createCredentials = function () {
      throw new Error(["sorry, createCredentials is not implemented yet", "we accept pull requests", "https://github.com/crypto-browserify/crypto-browserify"].join("\n"));
    }, r.constants = {
      DH_CHECK_P_NOT_SAFE_PRIME: 2,
      DH_CHECK_P_NOT_PRIME: 1,
      DH_UNABLE_TO_CHECK_GENERATOR: 4,
      DH_NOT_SUITABLE_GENERATOR: 8,
      NPN_ENABLED: 1,
      ALPN_ENABLED: 1,
      RSA_PKCS1_PADDING: 1,
      RSA_SSLV23_PADDING: 2,
      RSA_NO_PADDING: 3,
      RSA_PKCS1_OAEP_PADDING: 4,
      RSA_X931_PADDING: 5,
      RSA_PKCS1_PSS_PADDING: 6,
      POINT_CONVERSION_COMPRESSED: 2,
      POINT_CONVERSION_UNCOMPRESSED: 4,
      POINT_CONVERSION_HYBRID: 6
    };
  }, {
    "browserify-cipher": 37,
    "browserify-sign": 45,
    "browserify-sign/algos": 42,
    "create-ecdh": 68,
    "create-hash": 70,
    "create-hmac": 72,
    "diffie-hellman": 81,
    pbkdf2: 150,
    "public-encrypt": 158,
    randombytes: 165,
    randomfill: 166
  }],
  75: [function (e, t, r) {
    "use strict";

    r.utils = e("./des/utils"), r.Cipher = e("./des/cipher"), r.DES = e("./des/des"), r.CBC = e("./des/cbc"), r.EDE = e("./des/ede");
  }, {
    "./des/cbc": 76,
    "./des/cipher": 77,
    "./des/des": 78,
    "./des/ede": 79,
    "./des/utils": 80
  }],
  76: [function (e, t, r) {
    "use strict";

    var i = e("minimalistic-assert"),
        n = e("inherits"),
        a = {};

    function s(e) {
      i.equal(e.length, 8, "Invalid IV length"), this.iv = new Array(8);

      for (var t = 0; t < this.iv.length; t++) {
        this.iv[t] = e[t];
      }
    }

    r.instantiate = function (e) {
      function t(t) {
        e.call(this, t), this._cbcInit();
      }

      n(t, e);

      for (var r = Object.keys(a), i = 0; i < r.length; i++) {
        var s = r[i];
        t.prototype[s] = a[s];
      }

      return t.create = function (e) {
        return new t(e);
      }, t;
    }, a._cbcInit = function () {
      var e = new s(this.options.iv);
      this._cbcState = e;
    }, a._update = function (e, t, r, i) {
      var n = this._cbcState,
          a = this.constructor.super_.prototype,
          s = n.iv;

      if ("encrypt" === this.type) {
        for (var o = 0; o < this.blockSize; o++) {
          s[o] ^= e[t + o];
        }

        a._update.call(this, s, 0, r, i);

        for (o = 0; o < this.blockSize; o++) {
          s[o] = r[i + o];
        }
      } else {
        a._update.call(this, e, t, r, i);

        for (o = 0; o < this.blockSize; o++) {
          r[i + o] ^= s[o];
        }

        for (o = 0; o < this.blockSize; o++) {
          s[o] = e[t + o];
        }
      }
    };
  }, {
    inherits: 135,
    "minimalistic-assert": 141
  }],
  77: [function (e, t, r) {
    "use strict";

    var i = e("minimalistic-assert");

    function n(e) {
      this.options = e, this.type = this.options.type, this.blockSize = 8, this._init(), this.buffer = new Array(this.blockSize), this.bufferOff = 0;
    }

    t.exports = n, n.prototype._init = function () {}, n.prototype.update = function (e) {
      return 0 === e.length ? [] : "decrypt" === this.type ? this._updateDecrypt(e) : this._updateEncrypt(e);
    }, n.prototype._buffer = function (e, t) {
      for (var r = Math.min(this.buffer.length - this.bufferOff, e.length - t), i = 0; i < r; i++) {
        this.buffer[this.bufferOff + i] = e[t + i];
      }

      return this.bufferOff += r, r;
    }, n.prototype._flushBuffer = function (e, t) {
      return this._update(this.buffer, 0, e, t), this.bufferOff = 0, this.blockSize;
    }, n.prototype._updateEncrypt = function (e) {
      var t = 0,
          r = 0,
          i = (this.bufferOff + e.length) / this.blockSize | 0,
          n = new Array(i * this.blockSize);
      0 !== this.bufferOff && (t += this._buffer(e, t), this.bufferOff === this.buffer.length && (r += this._flushBuffer(n, r)));

      for (var a = e.length - (e.length - t) % this.blockSize; t < a; t += this.blockSize) {
        this._update(e, t, n, r), r += this.blockSize;
      }

      for (; t < e.length; t++, this.bufferOff++) {
        this.buffer[this.bufferOff] = e[t];
      }

      return n;
    }, n.prototype._updateDecrypt = function (e) {
      for (var t = 0, r = 0, i = Math.ceil((this.bufferOff + e.length) / this.blockSize) - 1, n = new Array(i * this.blockSize); i > 0; i--) {
        t += this._buffer(e, t), r += this._flushBuffer(n, r);
      }

      return t += this._buffer(e, t), n;
    }, n.prototype["final"] = function (e) {
      var t, r;
      return e && (t = this.update(e)), r = "encrypt" === this.type ? this._finalEncrypt() : this._finalDecrypt(), t ? t.concat(r) : r;
    }, n.prototype._pad = function (e, t) {
      if (0 === t) return !1;

      for (; t < e.length;) {
        e[t++] = 0;
      }

      return !0;
    }, n.prototype._finalEncrypt = function () {
      if (!this._pad(this.buffer, this.bufferOff)) return [];
      var e = new Array(this.blockSize);
      return this._update(this.buffer, 0, e, 0), e;
    }, n.prototype._unpad = function (e) {
      return e;
    }, n.prototype._finalDecrypt = function () {
      i.equal(this.bufferOff, this.blockSize, "Not enough data to decrypt");
      var e = new Array(this.blockSize);
      return this._flushBuffer(e, 0), this._unpad(e);
    };
  }, {
    "minimalistic-assert": 141
  }],
  78: [function (e, t, r) {
    "use strict";

    var i = e("minimalistic-assert"),
        n = e("inherits"),
        a = e("./utils"),
        s = e("./cipher");

    function o() {
      this.tmp = new Array(2), this.keys = null;
    }

    function f(e) {
      s.call(this, e);
      var t = new o();
      this._desState = t, this.deriveKeys(t, e.key);
    }

    n(f, s), t.exports = f, f.create = function (e) {
      return new f(e);
    };
    var u = [1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1];
    f.prototype.deriveKeys = function (e, t) {
      e.keys = new Array(32), i.equal(t.length, this.blockSize, "Invalid key length");
      var r = a.readUInt32BE(t, 0),
          n = a.readUInt32BE(t, 4);
      a.pc1(r, n, e.tmp, 0), r = e.tmp[0], n = e.tmp[1];

      for (var s = 0; s < e.keys.length; s += 2) {
        var o = u[s >>> 1];
        r = a.r28shl(r, o), n = a.r28shl(n, o), a.pc2(r, n, e.keys, s);
      }
    }, f.prototype._update = function (e, t, r, i) {
      var n = this._desState,
          s = a.readUInt32BE(e, t),
          o = a.readUInt32BE(e, t + 4);
      a.ip(s, o, n.tmp, 0), s = n.tmp[0], o = n.tmp[1], "encrypt" === this.type ? this._encrypt(n, s, o, n.tmp, 0) : this._decrypt(n, s, o, n.tmp, 0), s = n.tmp[0], o = n.tmp[1], a.writeUInt32BE(r, s, i), a.writeUInt32BE(r, o, i + 4);
    }, f.prototype._pad = function (e, t) {
      for (var r = e.length - t, i = t; i < e.length; i++) {
        e[i] = r;
      }

      return !0;
    }, f.prototype._unpad = function (e) {
      for (var t = e[e.length - 1], r = e.length - t; r < e.length; r++) {
        i.equal(e[r], t);
      }

      return e.slice(0, e.length - t);
    }, f.prototype._encrypt = function (e, t, r, i, n) {
      for (var s = t, o = r, f = 0; f < e.keys.length; f += 2) {
        var u = e.keys[f],
            h = e.keys[f + 1];
        a.expand(o, e.tmp, 0), u ^= e.tmp[0], h ^= e.tmp[1];
        var c = a.substitute(u, h),
            d = o;
        o = (s ^ a.permute(c)) >>> 0, s = d;
      }

      a.rip(o, s, i, n);
    }, f.prototype._decrypt = function (e, t, r, i, n) {
      for (var s = r, o = t, f = e.keys.length - 2; f >= 0; f -= 2) {
        var u = e.keys[f],
            h = e.keys[f + 1];
        a.expand(s, e.tmp, 0), u ^= e.tmp[0], h ^= e.tmp[1];
        var c = a.substitute(u, h),
            d = s;
        s = (o ^ a.permute(c)) >>> 0, o = d;
      }

      a.rip(s, o, i, n);
    };
  }, {
    "./cipher": 77,
    "./utils": 80,
    inherits: 135,
    "minimalistic-assert": 141
  }],
  79: [function (e, t, r) {
    "use strict";

    var i = e("minimalistic-assert"),
        n = e("inherits"),
        a = e("./cipher"),
        s = e("./des");

    function o(e, t) {
      i.equal(t.length, 24, "Invalid key length");
      var r = t.slice(0, 8),
          n = t.slice(8, 16),
          a = t.slice(16, 24);
      this.ciphers = "encrypt" === e ? [s.create({
        type: "encrypt",
        key: r
      }), s.create({
        type: "decrypt",
        key: n
      }), s.create({
        type: "encrypt",
        key: a
      })] : [s.create({
        type: "decrypt",
        key: a
      }), s.create({
        type: "encrypt",
        key: n
      }), s.create({
        type: "decrypt",
        key: r
      })];
    }

    function f(e) {
      a.call(this, e);
      var t = new o(this.type, this.options.key);
      this._edeState = t;
    }

    n(f, a), t.exports = f, f.create = function (e) {
      return new f(e);
    }, f.prototype._update = function (e, t, r, i) {
      var n = this._edeState;
      n.ciphers[0]._update(e, t, r, i), n.ciphers[1]._update(r, i, r, i), n.ciphers[2]._update(r, i, r, i);
    }, f.prototype._pad = s.prototype._pad, f.prototype._unpad = s.prototype._unpad;
  }, {
    "./cipher": 77,
    "./des": 78,
    inherits: 135,
    "minimalistic-assert": 141
  }],
  80: [function (e, t, r) {
    "use strict";

    r.readUInt32BE = function (e, t) {
      return (e[0 + t] << 24 | e[1 + t] << 16 | e[2 + t] << 8 | e[3 + t]) >>> 0;
    }, r.writeUInt32BE = function (e, t, r) {
      e[0 + r] = t >>> 24, e[1 + r] = t >>> 16 & 255, e[2 + r] = t >>> 8 & 255, e[3 + r] = 255 & t;
    }, r.ip = function (e, t, r, i) {
      for (var n = 0, a = 0, s = 6; s >= 0; s -= 2) {
        for (var o = 0; o <= 24; o += 8) {
          n <<= 1, n |= t >>> o + s & 1;
        }

        for (o = 0; o <= 24; o += 8) {
          n <<= 1, n |= e >>> o + s & 1;
        }
      }

      for (s = 6; s >= 0; s -= 2) {
        for (o = 1; o <= 25; o += 8) {
          a <<= 1, a |= t >>> o + s & 1;
        }

        for (o = 1; o <= 25; o += 8) {
          a <<= 1, a |= e >>> o + s & 1;
        }
      }

      r[i + 0] = n >>> 0, r[i + 1] = a >>> 0;
    }, r.rip = function (e, t, r, i) {
      for (var n = 0, a = 0, s = 0; s < 4; s++) {
        for (var o = 24; o >= 0; o -= 8) {
          n <<= 1, n |= t >>> o + s & 1, n <<= 1, n |= e >>> o + s & 1;
        }
      }

      for (s = 4; s < 8; s++) {
        for (o = 24; o >= 0; o -= 8) {
          a <<= 1, a |= t >>> o + s & 1, a <<= 1, a |= e >>> o + s & 1;
        }
      }

      r[i + 0] = n >>> 0, r[i + 1] = a >>> 0;
    }, r.pc1 = function (e, t, r, i) {
      for (var n = 0, a = 0, s = 7; s >= 5; s--) {
        for (var o = 0; o <= 24; o += 8) {
          n <<= 1, n |= t >> o + s & 1;
        }

        for (o = 0; o <= 24; o += 8) {
          n <<= 1, n |= e >> o + s & 1;
        }
      }

      for (o = 0; o <= 24; o += 8) {
        n <<= 1, n |= t >> o + s & 1;
      }

      for (s = 1; s <= 3; s++) {
        for (o = 0; o <= 24; o += 8) {
          a <<= 1, a |= t >> o + s & 1;
        }

        for (o = 0; o <= 24; o += 8) {
          a <<= 1, a |= e >> o + s & 1;
        }
      }

      for (o = 0; o <= 24; o += 8) {
        a <<= 1, a |= e >> o + s & 1;
      }

      r[i + 0] = n >>> 0, r[i + 1] = a >>> 0;
    }, r.r28shl = function (e, t) {
      return e << t & 268435455 | e >>> 28 - t;
    };
    var i = [14, 11, 17, 4, 27, 23, 25, 0, 13, 22, 7, 18, 5, 9, 16, 24, 2, 20, 12, 21, 1, 8, 15, 26, 15, 4, 25, 19, 9, 1, 26, 16, 5, 11, 23, 8, 12, 7, 17, 0, 22, 3, 10, 14, 6, 20, 27, 24];
    r.pc2 = function (e, t, r, n) {
      for (var a = 0, s = 0, o = i.length >>> 1, f = 0; f < o; f++) {
        a <<= 1, a |= e >>> i[f] & 1;
      }

      for (f = o; f < i.length; f++) {
        s <<= 1, s |= t >>> i[f] & 1;
      }

      r[n + 0] = a >>> 0, r[n + 1] = s >>> 0;
    }, r.expand = function (e, t, r) {
      var i = 0,
          n = 0;
      i = (1 & e) << 5 | e >>> 27;

      for (var a = 23; a >= 15; a -= 4) {
        i <<= 6, i |= e >>> a & 63;
      }

      for (a = 11; a >= 3; a -= 4) {
        n |= e >>> a & 63, n <<= 6;
      }

      n |= (31 & e) << 1 | e >>> 31, t[r + 0] = i >>> 0, t[r + 1] = n >>> 0;
    };
    var n = [14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1, 3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8, 4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7, 15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13, 15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14, 9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5, 0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2, 5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9, 10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10, 1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1, 13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7, 11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12, 7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3, 1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9, 10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8, 15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14, 2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1, 8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6, 4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13, 15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3, 12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5, 0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8, 9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10, 7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13, 4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10, 3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6, 1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7, 10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12, 13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4, 10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2, 7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13, 0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11];

    r.substitute = function (e, t) {
      for (var r = 0, i = 0; i < 4; i++) {
        r <<= 4, r |= n[64 * i + (e >>> 18 - 6 * i & 63)];
      }

      for (i = 0; i < 4; i++) {
        r <<= 4, r |= n[256 + 64 * i + (t >>> 18 - 6 * i & 63)];
      }

      return r >>> 0;
    };

    var a = [16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22, 30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7];
    r.permute = function (e) {
      for (var t = 0, r = 0; r < a.length; r++) {
        t <<= 1, t |= e >>> a[r] & 1;
      }

      return t >>> 0;
    }, r.padSplit = function (e, t, r) {
      for (var i = e.toString(2); i.length < t;) {
        i = "0" + i;
      }

      for (var n = [], a = 0; a < t; a += r) {
        n.push(i.slice(a, a + r));
      }

      return n.join(" ");
    };
  }, {}],
  81: [function (e, t, r) {
    (function (t) {
      var i = e("./lib/generatePrime"),
          n = e("./lib/primes.json"),
          a = e("./lib/dh");
      var s = {
        binary: !0,
        hex: !0,
        base64: !0
      };
      r.DiffieHellmanGroup = r.createDiffieHellmanGroup = r.getDiffieHellman = function (e) {
        var r = new t(n[e].prime, "hex"),
            i = new t(n[e].gen, "hex");
        return new a(r, i);
      }, r.createDiffieHellman = r.DiffieHellman = function e(r, n, o, f) {
        return t.isBuffer(n) || void 0 === s[n] ? e(r, "binary", n, o) : (n = n || "binary", f = f || "binary", o = o || new t([2]), t.isBuffer(o) || (o = new t(o, f)), "number" == typeof r ? new a(i(r, o), o, !0) : (t.isBuffer(r) || (r = new t(r, n)), new a(r, o, !0)));
      };
    }).call(this, e("buffer").Buffer);
  }, {
    "./lib/dh": 82,
    "./lib/generatePrime": 83,
    "./lib/primes.json": 84,
    buffer: 65
  }],
  82: [function (e, t, r) {
    (function (r) {
      var i = e("bn.js"),
          n = new (e("miller-rabin"))(),
          a = new i(24),
          s = new i(11),
          o = new i(10),
          f = new i(3),
          u = new i(7),
          h = e("./generatePrime"),
          c = e("randombytes");

      function d(e, t) {
        return t = t || "utf8", r.isBuffer(e) || (e = new r(e, t)), this._pub = new i(e), this;
      }

      function l(e, t) {
        return t = t || "utf8", r.isBuffer(e) || (e = new r(e, t)), this._priv = new i(e), this;
      }

      t.exports = m;
      var p = {};

      function m(e, t, r) {
        this.setGenerator(t), this.__prime = new i(e), this._prime = i.mont(this.__prime), this._primeLen = e.length, this._pub = void 0, this._priv = void 0, this._primeCode = void 0, r ? (this.setPublicKey = d, this.setPrivateKey = l) : this._primeCode = 8;
      }

      function b(e, t) {
        var i = new r(e.toArray());
        return t ? i.toString(t) : i;
      }

      Object.defineProperty(m.prototype, "verifyError", {
        enumerable: !0,
        get: function get() {
          return "number" != typeof this._primeCode && (this._primeCode = function (e, t) {
            var r = t.toString("hex"),
                i = [r, e.toString(16)].join("_");
            if (i in p) return p[i];
            var c,
                d = 0;
            if (e.isEven() || !h.simpleSieve || !h.fermatTest(e) || !n.test(e)) return d += 1, d += "02" === r || "05" === r ? 8 : 4, p[i] = d, d;

            switch (n.test(e.shrn(1)) || (d += 2), r) {
              case "02":
                e.mod(a).cmp(s) && (d += 8);
                break;

              case "05":
                (c = e.mod(o)).cmp(f) && c.cmp(u) && (d += 8);
                break;

              default:
                d += 4;
            }

            return p[i] = d, d;
          }(this.__prime, this.__gen)), this._primeCode;
        }
      }), m.prototype.generateKeys = function () {
        return this._priv || (this._priv = new i(c(this._primeLen))), this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed(), this.getPublicKey();
      }, m.prototype.computeSecret = function (e) {
        var t = (e = (e = new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),
            n = new r(t.toArray()),
            a = this.getPrime();

        if (n.length < a.length) {
          var s = new r(a.length - n.length);
          s.fill(0), n = r.concat([s, n]);
        }

        return n;
      }, m.prototype.getPublicKey = function (e) {
        return b(this._pub, e);
      }, m.prototype.getPrivateKey = function (e) {
        return b(this._priv, e);
      }, m.prototype.getPrime = function (e) {
        return b(this.__prime, e);
      }, m.prototype.getGenerator = function (e) {
        return b(this._gen, e);
      }, m.prototype.setGenerator = function (e, t) {
        return t = t || "utf8", r.isBuffer(e) || (e = new r(e, t)), this.__gen = e, this._gen = new i(e), this;
      };
    }).call(this, e("buffer").Buffer);
  }, {
    "./generatePrime": 83,
    "bn.js": 85,
    buffer: 65,
    "miller-rabin": 139,
    randombytes: 165
  }],
  83: [function (e, t, r) {
    var i = e("randombytes");
    t.exports = g, g.simpleSieve = b, g.fermatTest = y;
    var n = e("bn.js"),
        a = new n(24),
        s = new (e("miller-rabin"))(),
        o = new n(1),
        f = new n(2),
        u = new n(5),
        h = (new n(16), new n(8), new n(10)),
        c = new n(3),
        d = (new n(7), new n(11)),
        l = new n(4),
        p = (new n(12), null);

    function m() {
      if (null !== p) return p;
      var e = [];
      e[0] = 2;

      for (var t = 1, r = 3; r < 1048576; r += 2) {
        for (var i = Math.ceil(Math.sqrt(r)), n = 0; n < t && e[n] <= i && r % e[n] != 0; n++) {
          ;
        }

        t !== n && e[n] <= i || (e[t++] = r);
      }

      return p = e, e;
    }

    function b(e) {
      for (var t = m(), r = 0; r < t.length; r++) {
        if (0 === e.modn(t[r])) return 0 === e.cmpn(t[r]);
      }

      return !0;
    }

    function y(e) {
      var t = n.mont(e);
      return 0 === f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1);
    }

    function g(e, t) {
      if (e < 16) return new n(2 === t || 5 === t ? [140, 123] : [140, 39]);
      var r, p;

      for (t = new n(t);;) {
        for (r = new n(i(Math.ceil(e / 8))); r.bitLength() > e;) {
          r.ishrn(1);
        }

        if (r.isEven() && r.iadd(o), r.testn(1) || r.iadd(f), t.cmp(f)) {
          if (!t.cmp(u)) for (; r.mod(h).cmp(c);) {
            r.iadd(l);
          }
        } else for (; r.mod(a).cmp(d);) {
          r.iadd(l);
        }

        if (b(p = r.shrn(1)) && b(r) && y(p) && y(r) && s.test(p) && s.test(r)) return r;
      }
    }
  }, {
    "bn.js": 85,
    "miller-rabin": 139,
    randombytes: 165
  }],
  84: [function (e, t, r) {
    t.exports = {
      modp1: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
      },
      modp2: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
      },
      modp5: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
      },
      modp14: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
      },
      modp15: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
      },
      modp16: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
      },
      modp17: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
      },
      modp18: {
        gen: "02",
        prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
      }
    };
  }, {}],
  85: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  86: [function (e, t, r) {
    "use strict";

    var i = r;
    i.version = e("../package.json").version, i.utils = e("./elliptic/utils"), i.rand = e("brorand"), i.curve = e("./elliptic/curve"), i.curves = e("./elliptic/curves"), i.ec = e("./elliptic/ec"), i.eddsa = e("./elliptic/eddsa");
  }, {
    "../package.json": 102,
    "./elliptic/curve": 89,
    "./elliptic/curves": 92,
    "./elliptic/ec": 93,
    "./elliptic/eddsa": 96,
    "./elliptic/utils": 100,
    brorand: 18
  }],
  87: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("../utils"),
        a = n.getNAF,
        s = n.getJSF,
        o = n.assert;

    function f(e, t) {
      this.type = e, this.p = new i(t.p, 16), this.red = t.prime ? i.red(t.prime) : i.mont(this.p), this.zero = new i(0).toRed(this.red), this.one = new i(1).toRed(this.red), this.two = new i(2).toRed(this.red), this.n = t.n && new i(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
      var r = this.n && this.p.div(this.n);
      !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
    }

    function u(e, t) {
      this.curve = e, this.type = t, this.precomputed = null;
    }

    t.exports = f, f.prototype.point = function () {
      throw new Error("Not implemented");
    }, f.prototype.validate = function () {
      throw new Error("Not implemented");
    }, f.prototype._fixedNafMul = function (e, t) {
      o(e.precomputed);

      var r = e._getDoubles(),
          i = a(t, 1, this._bitLength),
          n = (1 << r.step + 1) - (r.step % 2 == 0 ? 2 : 1);

      n /= 3;

      for (var s = [], f = 0; f < i.length; f += r.step) {
        var u = 0;

        for (t = f + r.step - 1; t >= f; t--) {
          u = (u << 1) + i[t];
        }

        s.push(u);
      }

      for (var h = this.jpoint(null, null, null), c = this.jpoint(null, null, null), d = n; d > 0; d--) {
        for (f = 0; f < s.length; f++) {
          (u = s[f]) === d ? c = c.mixedAdd(r.points[f]) : u === -d && (c = c.mixedAdd(r.points[f].neg()));
        }

        h = h.add(c);
      }

      return h.toP();
    }, f.prototype._wnafMul = function (e, t) {
      var r = 4,
          i = e._getNAFPoints(r);

      r = i.wnd;

      for (var n = i.points, s = a(t, r, this._bitLength), f = this.jpoint(null, null, null), u = s.length - 1; u >= 0; u--) {
        for (t = 0; u >= 0 && 0 === s[u]; u--) {
          t++;
        }

        if (u >= 0 && t++, f = f.dblp(t), u < 0) break;
        var h = s[u];
        o(0 !== h), f = "affine" === e.type ? h > 0 ? f.mixedAdd(n[h - 1 >> 1]) : f.mixedAdd(n[-h - 1 >> 1].neg()) : h > 0 ? f.add(n[h - 1 >> 1]) : f.add(n[-h - 1 >> 1].neg());
      }

      return "affine" === e.type ? f.toP() : f;
    }, f.prototype._wnafMulAdd = function (e, t, r, i, n) {
      for (var o = this._wnafT1, f = this._wnafT2, u = this._wnafT3, h = 0, c = 0; c < i; c++) {
        var d = (x = t[c])._getNAFPoints(e);

        o[c] = d.wnd, f[c] = d.points;
      }

      for (c = i - 1; c >= 1; c -= 2) {
        var l = c - 1,
            p = c;

        if (1 === o[l] && 1 === o[p]) {
          var m = [t[l], null, null, t[p]];
          0 === t[l].y.cmp(t[p].y) ? (m[1] = t[l].add(t[p]), m[2] = t[l].toJ().mixedAdd(t[p].neg())) : 0 === t[l].y.cmp(t[p].y.redNeg()) ? (m[1] = t[l].toJ().mixedAdd(t[p]), m[2] = t[l].add(t[p].neg())) : (m[1] = t[l].toJ().mixedAdd(t[p]), m[2] = t[l].toJ().mixedAdd(t[p].neg()));
          var b = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
              y = s(r[l], r[p]);
          h = Math.max(y[0].length, h), u[l] = new Array(h), u[p] = new Array(h);

          for (var g = 0; g < h; g++) {
            var _ = 0 | y[0][g],
                v = 0 | y[1][g];

            u[l][g] = b[3 * (_ + 1) + (v + 1)], u[p][g] = 0, f[l] = m;
          }
        } else u[l] = a(r[l], o[l], this._bitLength), u[p] = a(r[p], o[p], this._bitLength), h = Math.max(u[l].length, h), h = Math.max(u[p].length, h);
      }

      var w = this.jpoint(null, null, null),
          E = this._wnafT4;

      for (c = h; c >= 0; c--) {
        for (var S = 0; c >= 0;) {
          var A = !0;

          for (g = 0; g < i; g++) {
            E[g] = 0 | u[g][c], 0 !== E[g] && (A = !1);
          }

          if (!A) break;
          S++, c--;
        }

        if (c >= 0 && S++, w = w.dblp(S), c < 0) break;

        for (g = 0; g < i; g++) {
          var x,
              M = E[g];
          0 !== M && (M > 0 ? x = f[g][M - 1 >> 1] : M < 0 && (x = f[g][-M - 1 >> 1].neg()), w = "affine" === x.type ? w.mixedAdd(x) : w.add(x));
        }
      }

      for (c = 0; c < i; c++) {
        f[c] = null;
      }

      return n ? w : w.toP();
    }, f.BasePoint = u, u.prototype.eq = function () {
      throw new Error("Not implemented");
    }, u.prototype.validate = function () {
      return this.curve.validate(this);
    }, f.prototype.decodePoint = function (e, t) {
      e = n.toArray(e, t);
      var r = this.p.byteLength();
      if ((4 === e[0] || 6 === e[0] || 7 === e[0]) && e.length - 1 == 2 * r) return 6 === e[0] ? o(e[e.length - 1] % 2 == 0) : 7 === e[0] && o(e[e.length - 1] % 2 == 1), this.point(e.slice(1, 1 + r), e.slice(1 + r, 1 + 2 * r));
      if ((2 === e[0] || 3 === e[0]) && e.length - 1 === r) return this.pointFromX(e.slice(1, 1 + r), 3 === e[0]);
      throw new Error("Unknown point format");
    }, u.prototype.encodeCompressed = function (e) {
      return this.encode(e, !0);
    }, u.prototype._encode = function (e) {
      var t = this.curve.p.byteLength(),
          r = this.getX().toArray("be", t);
      return e ? [this.getY().isEven() ? 2 : 3].concat(r) : [4].concat(r, this.getY().toArray("be", t));
    }, u.prototype.encode = function (e, t) {
      return n.encode(this._encode(t), e);
    }, u.prototype.precompute = function (e) {
      if (this.precomputed) return this;
      var t = {
        doubles: null,
        naf: null,
        beta: null
      };
      return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;
    }, u.prototype._hasDoubles = function (e) {
      if (!this.precomputed) return !1;
      var t = this.precomputed.doubles;
      return !!t && t.points.length >= Math.ceil((e.bitLength() + 1) / t.step);
    }, u.prototype._getDoubles = function (e, t) {
      if (this.precomputed && this.precomputed.doubles) return this.precomputed.doubles;

      for (var r = [this], i = this, n = 0; n < t; n += e) {
        for (var a = 0; a < e; a++) {
          i = i.dbl();
        }

        r.push(i);
      }

      return {
        step: e,
        points: r
      };
    }, u.prototype._getNAFPoints = function (e) {
      if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;

      for (var t = [this], r = (1 << e) - 1, i = 1 === r ? null : this.dbl(), n = 1; n < r; n++) {
        t[n] = t[n - 1].add(i);
      }

      return {
        wnd: e,
        points: t
      };
    }, u.prototype._getBeta = function () {
      return null;
    }, u.prototype.dblp = function (e) {
      for (var t = this, r = 0; r < e; r++) {
        t = t.dbl();
      }

      return t;
    };
  }, {
    "../utils": 100,
    "bn.js": 101
  }],
  88: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("bn.js"),
        a = e("inherits"),
        s = e("./base"),
        o = i.assert;

    function f(e) {
      this.twisted = 1 != (0 | e.a), this.mOneA = this.twisted && -1 == (0 | e.a), this.extended = this.mOneA, s.call(this, "edwards", e), this.a = new n(e.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new n(e.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new n(e.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), o(!this.twisted || 0 === this.c.fromRed().cmpn(1)), this.oneC = 1 == (0 | e.c);
    }

    function u(e, t, r, i, a) {
      s.BasePoint.call(this, e, "projective"), null === t && null === r && null === i ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new n(t, 16), this.y = new n(r, 16), this.z = i ? new n(i, 16) : this.curve.one, this.t = a && new n(a, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
    }

    a(f, s), t.exports = f, f.prototype._mulA = function (e) {
      return this.mOneA ? e.redNeg() : this.a.redMul(e);
    }, f.prototype._mulC = function (e) {
      return this.oneC ? e : this.c.redMul(e);
    }, f.prototype.jpoint = function (e, t, r, i) {
      return this.point(e, t, r, i);
    }, f.prototype.pointFromX = function (e, t) {
      (e = new n(e, 16)).red || (e = e.toRed(this.red));
      var r = e.redSqr(),
          i = this.c2.redSub(this.a.redMul(r)),
          a = this.one.redSub(this.c2.redMul(this.d).redMul(r)),
          s = i.redMul(a.redInvm()),
          o = s.redSqrt();
      if (0 !== o.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point");
      var f = o.fromRed().isOdd();
      return (t && !f || !t && f) && (o = o.redNeg()), this.point(e, o);
    }, f.prototype.pointFromY = function (e, t) {
      (e = new n(e, 16)).red || (e = e.toRed(this.red));
      var r = e.redSqr(),
          i = r.redSub(this.c2),
          a = r.redMul(this.d).redMul(this.c2).redSub(this.a),
          s = i.redMul(a.redInvm());

      if (0 === s.cmp(this.zero)) {
        if (t) throw new Error("invalid point");
        return this.point(this.zero, e);
      }

      var o = s.redSqrt();
      if (0 !== o.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point");
      return o.fromRed().isOdd() !== t && (o = o.redNeg()), this.point(o, e);
    }, f.prototype.validate = function (e) {
      if (e.isInfinity()) return !0;
      e.normalize();
      var t = e.x.redSqr(),
          r = e.y.redSqr(),
          i = t.redMul(this.a).redAdd(r),
          n = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));
      return 0 === i.cmp(n);
    }, a(u, s.BasePoint), f.prototype.pointFromJSON = function (e) {
      return u.fromJSON(this, e);
    }, f.prototype.point = function (e, t, r, i) {
      return new u(this, e, t, r, i);
    }, u.fromJSON = function (e, t) {
      return new u(e, t[0], t[1], t[2]);
    }, u.prototype.inspect = function () {
      return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
    }, u.prototype.isInfinity = function () {
      return 0 === this.x.cmpn(0) && (0 === this.y.cmp(this.z) || this.zOne && 0 === this.y.cmp(this.curve.c));
    }, u.prototype._extDbl = function () {
      var e = this.x.redSqr(),
          t = this.y.redSqr(),
          r = this.z.redSqr();
      r = r.redIAdd(r);

      var i = this.curve._mulA(e),
          n = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),
          a = i.redAdd(t),
          s = a.redSub(r),
          o = i.redSub(t),
          f = n.redMul(s),
          u = a.redMul(o),
          h = n.redMul(o),
          c = s.redMul(a);

      return this.curve.point(f, u, c, h);
    }, u.prototype._projDbl = function () {
      var e,
          t,
          r,
          i = this.x.redAdd(this.y).redSqr(),
          n = this.x.redSqr(),
          a = this.y.redSqr();

      if (this.curve.twisted) {
        var s = (u = this.curve._mulA(n)).redAdd(a);

        if (this.zOne) e = i.redSub(n).redSub(a).redMul(s.redSub(this.curve.two)), t = s.redMul(u.redSub(a)), r = s.redSqr().redSub(s).redSub(s);else {
          var o = this.z.redSqr(),
              f = s.redSub(o).redISub(o);
          e = i.redSub(n).redISub(a).redMul(f), t = s.redMul(u.redSub(a)), r = s.redMul(f);
        }
      } else {
        var u = n.redAdd(a);
        o = this.curve._mulC(this.z).redSqr(), f = u.redSub(o).redSub(o);
        e = this.curve._mulC(i.redISub(u)).redMul(f), t = this.curve._mulC(u).redMul(n.redISub(a)), r = u.redMul(f);
      }

      return this.curve.point(e, t, r);
    }, u.prototype.dbl = function () {
      return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl();
    }, u.prototype._extAdd = function (e) {
      var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)),
          r = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),
          i = this.t.redMul(this.curve.dd).redMul(e.t),
          n = this.z.redMul(e.z.redAdd(e.z)),
          a = r.redSub(t),
          s = n.redSub(i),
          o = n.redAdd(i),
          f = r.redAdd(t),
          u = a.redMul(s),
          h = o.redMul(f),
          c = a.redMul(f),
          d = s.redMul(o);
      return this.curve.point(u, h, d, c);
    }, u.prototype._projAdd = function (e) {
      var t,
          r,
          i = this.z.redMul(e.z),
          n = i.redSqr(),
          a = this.x.redMul(e.x),
          s = this.y.redMul(e.y),
          o = this.curve.d.redMul(a).redMul(s),
          f = n.redSub(o),
          u = n.redAdd(o),
          h = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),
          c = i.redMul(f).redMul(h);
      return this.curve.twisted ? (t = i.redMul(u).redMul(s.redSub(this.curve._mulA(a))), r = f.redMul(u)) : (t = i.redMul(u).redMul(s.redSub(a)), r = this.curve._mulC(f).redMul(u)), this.curve.point(c, t, r);
    }, u.prototype.add = function (e) {
      return this.isInfinity() ? e : e.isInfinity() ? this : this.curve.extended ? this._extAdd(e) : this._projAdd(e);
    }, u.prototype.mul = function (e) {
      return this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve._wnafMul(this, e);
    }, u.prototype.mulAdd = function (e, t, r) {
      return this.curve._wnafMulAdd(1, [this, t], [e, r], 2, !1);
    }, u.prototype.jmulAdd = function (e, t, r) {
      return this.curve._wnafMulAdd(1, [this, t], [e, r], 2, !0);
    }, u.prototype.normalize = function () {
      if (this.zOne) return this;
      var e = this.z.redInvm();
      return this.x = this.x.redMul(e), this.y = this.y.redMul(e), this.t && (this.t = this.t.redMul(e)), this.z = this.curve.one, this.zOne = !0, this;
    }, u.prototype.neg = function () {
      return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg());
    }, u.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    }, u.prototype.getY = function () {
      return this.normalize(), this.y.fromRed();
    }, u.prototype.eq = function (e) {
      return this === e || 0 === this.getX().cmp(e.getX()) && 0 === this.getY().cmp(e.getY());
    }, u.prototype.eqXToP = function (e) {
      var t = e.toRed(this.curve.red).redMul(this.z);
      if (0 === this.x.cmp(t)) return !0;

      for (var r = e.clone(), i = this.curve.redN.redMul(this.z);;) {
        if (r.iadd(this.curve.n), r.cmp(this.curve.p) >= 0) return !1;
        if (t.redIAdd(i), 0 === this.x.cmp(t)) return !0;
      }
    }, u.prototype.toP = u.prototype.normalize, u.prototype.mixedAdd = u.prototype.add;
  }, {
    "../utils": 100,
    "./base": 87,
    "bn.js": 101,
    inherits: 135
  }],
  89: [function (e, t, r) {
    "use strict";

    var i = r;
    i.base = e("./base"), i["short"] = e("./short"), i.mont = e("./mont"), i.edwards = e("./edwards");
  }, {
    "./base": 87,
    "./edwards": 88,
    "./mont": 90,
    "./short": 91
  }],
  90: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("inherits"),
        a = e("./base"),
        s = e("../utils");

    function o(e) {
      a.call(this, "mont", e), this.a = new i(e.a, 16).toRed(this.red), this.b = new i(e.b, 16).toRed(this.red), this.i4 = new i(4).toRed(this.red).redInvm(), this.two = new i(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two));
    }

    function f(e, t, r) {
      a.BasePoint.call(this, e, "projective"), null === t && null === r ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new i(t, 16), this.z = new i(r, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)));
    }

    n(o, a), t.exports = o, o.prototype.validate = function (e) {
      var t = e.normalize().x,
          r = t.redSqr(),
          i = r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);
      return 0 === i.redSqrt().redSqr().cmp(i);
    }, n(f, a.BasePoint), o.prototype.decodePoint = function (e, t) {
      return this.point(s.toArray(e, t), 1);
    }, o.prototype.point = function (e, t) {
      return new f(this, e, t);
    }, o.prototype.pointFromJSON = function (e) {
      return f.fromJSON(this, e);
    }, f.prototype.precompute = function () {}, f.prototype._encode = function () {
      return this.getX().toArray("be", this.curve.p.byteLength());
    }, f.fromJSON = function (e, t) {
      return new f(e, t[0], t[1] || e.one);
    }, f.prototype.inspect = function () {
      return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
    }, f.prototype.isInfinity = function () {
      return 0 === this.z.cmpn(0);
    }, f.prototype.dbl = function () {
      var e = this.x.redAdd(this.z).redSqr(),
          t = this.x.redSub(this.z).redSqr(),
          r = e.redSub(t),
          i = e.redMul(t),
          n = r.redMul(t.redAdd(this.curve.a24.redMul(r)));
      return this.curve.point(i, n);
    }, f.prototype.add = function () {
      throw new Error("Not supported on Montgomery curve");
    }, f.prototype.diffAdd = function (e, t) {
      var r = this.x.redAdd(this.z),
          i = this.x.redSub(this.z),
          n = e.x.redAdd(e.z),
          a = e.x.redSub(e.z).redMul(r),
          s = n.redMul(i),
          o = t.z.redMul(a.redAdd(s).redSqr()),
          f = t.x.redMul(a.redISub(s).redSqr());
      return this.curve.point(o, f);
    }, f.prototype.mul = function (e) {
      for (var t = e.clone(), r = this, i = this.curve.point(null, null), n = []; 0 !== t.cmpn(0); t.iushrn(1)) {
        n.push(t.andln(1));
      }

      for (var a = n.length - 1; a >= 0; a--) {
        0 === n[a] ? (r = r.diffAdd(i, this), i = i.dbl()) : (i = r.diffAdd(i, this), r = r.dbl());
      }

      return i;
    }, f.prototype.mulAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }, f.prototype.jumlAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }, f.prototype.eq = function (e) {
      return 0 === this.getX().cmp(e.getX());
    }, f.prototype.normalize = function () {
      return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this;
    }, f.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    };
  }, {
    "../utils": 100,
    "./base": 87,
    "bn.js": 101,
    inherits: 135
  }],
  91: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("bn.js"),
        a = e("inherits"),
        s = e("./base"),
        o = i.assert;

    function f(e) {
      s.call(this, "short", e), this.a = new n(e.a, 16).toRed(this.red), this.b = new n(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = 0 === this.a.fromRed().cmpn(0), this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3), this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
    }

    function u(e, t, r, i) {
      s.BasePoint.call(this, e, "affine"), null === t && null === r ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new n(t, 16), this.y = new n(r, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
    }

    function h(e, t, r, i) {
      s.BasePoint.call(this, e, "jacobian"), null === t && null === r && null === i ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new n(0)) : (this.x = new n(t, 16), this.y = new n(r, 16), this.z = new n(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
    }

    a(f, s), t.exports = f, f.prototype._getEndomorphism = function (e) {
      if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) {
        var t, r;
        if (e.beta) t = new n(e.beta, 16).toRed(this.red);else {
          var i = this._getEndoRoots(this.p);

          t = (t = i[0].cmp(i[1]) < 0 ? i[0] : i[1]).toRed(this.red);
        }
        if (e.lambda) r = new n(e.lambda, 16);else {
          var a = this._getEndoRoots(this.n);

          0 === this.g.mul(a[0]).x.cmp(this.g.x.redMul(t)) ? r = a[0] : (r = a[1], o(0 === this.g.mul(r).x.cmp(this.g.x.redMul(t))));
        }
        return {
          beta: t,
          lambda: r,
          basis: e.basis ? e.basis.map(function (e) {
            return {
              a: new n(e.a, 16),
              b: new n(e.b, 16)
            };
          }) : this._getEndoBasis(r)
        };
      }
    }, f.prototype._getEndoRoots = function (e) {
      var t = e === this.p ? this.red : n.mont(e),
          r = new n(2).toRed(t).redInvm(),
          i = r.redNeg(),
          a = new n(3).toRed(t).redNeg().redSqrt().redMul(r);
      return [i.redAdd(a).fromRed(), i.redSub(a).fromRed()];
    }, f.prototype._getEndoBasis = function (e) {
      for (var t, r, i, a, s, o, f, u, h, c = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), d = e, l = this.n.clone(), p = new n(1), m = new n(0), b = new n(0), y = new n(1), g = 0; 0 !== d.cmpn(0);) {
        var _ = l.div(d);

        u = l.sub(_.mul(d)), h = b.sub(_.mul(p));
        var v = y.sub(_.mul(m));
        if (!i && u.cmp(c) < 0) t = f.neg(), r = p, i = u.neg(), a = h;else if (i && 2 == ++g) break;
        f = u, l = d, d = u, b = p, p = h, y = m, m = v;
      }

      s = u.neg(), o = h;
      var w = i.sqr().add(a.sqr());
      return s.sqr().add(o.sqr()).cmp(w) >= 0 && (s = t, o = r), i.negative && (i = i.neg(), a = a.neg()), s.negative && (s = s.neg(), o = o.neg()), [{
        a: i,
        b: a
      }, {
        a: s,
        b: o
      }];
    }, f.prototype._endoSplit = function (e) {
      var t = this.endo.basis,
          r = t[0],
          i = t[1],
          n = i.b.mul(e).divRound(this.n),
          a = r.b.neg().mul(e).divRound(this.n),
          s = n.mul(r.a),
          o = a.mul(i.a),
          f = n.mul(r.b),
          u = a.mul(i.b);
      return {
        k1: e.sub(s).sub(o),
        k2: f.add(u).neg()
      };
    }, f.prototype.pointFromX = function (e, t) {
      (e = new n(e, 16)).red || (e = e.toRed(this.red));
      var r = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),
          i = r.redSqrt();
      if (0 !== i.redSqr().redSub(r).cmp(this.zero)) throw new Error("invalid point");
      var a = i.fromRed().isOdd();
      return (t && !a || !t && a) && (i = i.redNeg()), this.point(e, i);
    }, f.prototype.validate = function (e) {
      if (e.inf) return !0;
      var t = e.x,
          r = e.y,
          i = this.a.redMul(t),
          n = t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);
      return 0 === r.redSqr().redISub(n).cmpn(0);
    }, f.prototype._endoWnafMulAdd = function (e, t, r) {
      for (var i = this._endoWnafT1, n = this._endoWnafT2, a = 0; a < e.length; a++) {
        var s = this._endoSplit(t[a]),
            o = e[a],
            f = o._getBeta();

        s.k1.negative && (s.k1.ineg(), o = o.neg(!0)), s.k2.negative && (s.k2.ineg(), f = f.neg(!0)), i[2 * a] = o, i[2 * a + 1] = f, n[2 * a] = s.k1, n[2 * a + 1] = s.k2;
      }

      for (var u = this._wnafMulAdd(1, i, n, 2 * a, r), h = 0; h < 2 * a; h++) {
        i[h] = null, n[h] = null;
      }

      return u;
    }, a(u, s.BasePoint), f.prototype.point = function (e, t, r) {
      return new u(this, e, t, r);
    }, f.prototype.pointFromJSON = function (e, t) {
      return u.fromJSON(this, e, t);
    }, u.prototype._getBeta = function () {
      if (this.curve.endo) {
        var e = this.precomputed;
        if (e && e.beta) return e.beta;
        var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);

        if (e) {
          var r = this.curve,
              i = function i(e) {
            return r.point(e.x.redMul(r.endo.beta), e.y);
          };

          e.beta = t, t.precomputed = {
            beta: null,
            naf: e.naf && {
              wnd: e.naf.wnd,
              points: e.naf.points.map(i)
            },
            doubles: e.doubles && {
              step: e.doubles.step,
              points: e.doubles.points.map(i)
            }
          };
        }

        return t;
      }
    }, u.prototype.toJSON = function () {
      return this.precomputed ? [this.x, this.y, this.precomputed && {
        doubles: this.precomputed.doubles && {
          step: this.precomputed.doubles.step,
          points: this.precomputed.doubles.points.slice(1)
        },
        naf: this.precomputed.naf && {
          wnd: this.precomputed.naf.wnd,
          points: this.precomputed.naf.points.slice(1)
        }
      }] : [this.x, this.y];
    }, u.fromJSON = function (e, t, r) {
      "string" == typeof t && (t = JSON.parse(t));
      var i = e.point(t[0], t[1], r);
      if (!t[2]) return i;

      function n(t) {
        return e.point(t[0], t[1], r);
      }

      var a = t[2];
      return i.precomputed = {
        beta: null,
        doubles: a.doubles && {
          step: a.doubles.step,
          points: [i].concat(a.doubles.points.map(n))
        },
        naf: a.naf && {
          wnd: a.naf.wnd,
          points: [i].concat(a.naf.points.map(n))
        }
      }, i;
    }, u.prototype.inspect = function () {
      return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
    }, u.prototype.isInfinity = function () {
      return this.inf;
    }, u.prototype.add = function (e) {
      if (this.inf) return e;
      if (e.inf) return this;
      if (this.eq(e)) return this.dbl();
      if (this.neg().eq(e)) return this.curve.point(null, null);
      if (0 === this.x.cmp(e.x)) return this.curve.point(null, null);
      var t = this.y.redSub(e.y);
      0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm()));
      var r = t.redSqr().redISub(this.x).redISub(e.x),
          i = t.redMul(this.x.redSub(r)).redISub(this.y);
      return this.curve.point(r, i);
    }, u.prototype.dbl = function () {
      if (this.inf) return this;
      var e = this.y.redAdd(this.y);
      if (0 === e.cmpn(0)) return this.curve.point(null, null);
      var t = this.curve.a,
          r = this.x.redSqr(),
          i = e.redInvm(),
          n = r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),
          a = n.redSqr().redISub(this.x.redAdd(this.x)),
          s = n.redMul(this.x.redSub(a)).redISub(this.y);
      return this.curve.point(a, s);
    }, u.prototype.getX = function () {
      return this.x.fromRed();
    }, u.prototype.getY = function () {
      return this.y.fromRed();
    }, u.prototype.mul = function (e) {
      return e = new n(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);
    }, u.prototype.mulAdd = function (e, t, r) {
      var i = [this, t],
          n = [e, r];
      return this.curve.endo ? this.curve._endoWnafMulAdd(i, n) : this.curve._wnafMulAdd(1, i, n, 2);
    }, u.prototype.jmulAdd = function (e, t, r) {
      var i = [this, t],
          n = [e, r];
      return this.curve.endo ? this.curve._endoWnafMulAdd(i, n, !0) : this.curve._wnafMulAdd(1, i, n, 2, !0);
    }, u.prototype.eq = function (e) {
      return this === e || this.inf === e.inf && (this.inf || 0 === this.x.cmp(e.x) && 0 === this.y.cmp(e.y));
    }, u.prototype.neg = function (e) {
      if (this.inf) return this;
      var t = this.curve.point(this.x, this.y.redNeg());

      if (e && this.precomputed) {
        var r = this.precomputed,
            i = function i(e) {
          return e.neg();
        };

        t.precomputed = {
          naf: r.naf && {
            wnd: r.naf.wnd,
            points: r.naf.points.map(i)
          },
          doubles: r.doubles && {
            step: r.doubles.step,
            points: r.doubles.points.map(i)
          }
        };
      }

      return t;
    }, u.prototype.toJ = function () {
      return this.inf ? this.curve.jpoint(null, null, null) : this.curve.jpoint(this.x, this.y, this.curve.one);
    }, a(h, s.BasePoint), f.prototype.jpoint = function (e, t, r) {
      return new h(this, e, t, r);
    }, h.prototype.toP = function () {
      if (this.isInfinity()) return this.curve.point(null, null);
      var e = this.z.redInvm(),
          t = e.redSqr(),
          r = this.x.redMul(t),
          i = this.y.redMul(t).redMul(e);
      return this.curve.point(r, i);
    }, h.prototype.neg = function () {
      return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
    }, h.prototype.add = function (e) {
      if (this.isInfinity()) return e;
      if (e.isInfinity()) return this;
      var t = e.z.redSqr(),
          r = this.z.redSqr(),
          i = this.x.redMul(t),
          n = e.x.redMul(r),
          a = this.y.redMul(t.redMul(e.z)),
          s = e.y.redMul(r.redMul(this.z)),
          o = i.redSub(n),
          f = a.redSub(s);
      if (0 === o.cmpn(0)) return 0 !== f.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
      var u = o.redSqr(),
          h = u.redMul(o),
          c = i.redMul(u),
          d = f.redSqr().redIAdd(h).redISub(c).redISub(c),
          l = f.redMul(c.redISub(d)).redISub(a.redMul(h)),
          p = this.z.redMul(e.z).redMul(o);
      return this.curve.jpoint(d, l, p);
    }, h.prototype.mixedAdd = function (e) {
      if (this.isInfinity()) return e.toJ();
      if (e.isInfinity()) return this;
      var t = this.z.redSqr(),
          r = this.x,
          i = e.x.redMul(t),
          n = this.y,
          a = e.y.redMul(t).redMul(this.z),
          s = r.redSub(i),
          o = n.redSub(a);
      if (0 === s.cmpn(0)) return 0 !== o.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
      var f = s.redSqr(),
          u = f.redMul(s),
          h = r.redMul(f),
          c = o.redSqr().redIAdd(u).redISub(h).redISub(h),
          d = o.redMul(h.redISub(c)).redISub(n.redMul(u)),
          l = this.z.redMul(s);
      return this.curve.jpoint(c, d, l);
    }, h.prototype.dblp = function (e) {
      if (0 === e) return this;
      if (this.isInfinity()) return this;
      if (!e) return this.dbl();

      if (this.curve.zeroA || this.curve.threeA) {
        for (var t = this, r = 0; r < e; r++) {
          t = t.dbl();
        }

        return t;
      }

      var i = this.curve.a,
          n = this.curve.tinv,
          a = this.x,
          s = this.y,
          o = this.z,
          f = o.redSqr().redSqr(),
          u = s.redAdd(s);

      for (r = 0; r < e; r++) {
        var h = a.redSqr(),
            c = u.redSqr(),
            d = c.redSqr(),
            l = h.redAdd(h).redIAdd(h).redIAdd(i.redMul(f)),
            p = a.redMul(c),
            m = l.redSqr().redISub(p.redAdd(p)),
            b = p.redISub(m),
            y = l.redMul(b);
        y = y.redIAdd(y).redISub(d);
        var g = u.redMul(o);
        r + 1 < e && (f = f.redMul(d)), a = m, o = g, u = y;
      }

      return this.curve.jpoint(a, u.redMul(n), o);
    }, h.prototype.dbl = function () {
      return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
    }, h.prototype._zeroDbl = function () {
      var e, t, r;

      if (this.zOne) {
        var i = this.x.redSqr(),
            n = this.y.redSqr(),
            a = n.redSqr(),
            s = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
        s = s.redIAdd(s);
        var o = i.redAdd(i).redIAdd(i),
            f = o.redSqr().redISub(s).redISub(s),
            u = a.redIAdd(a);
        u = (u = u.redIAdd(u)).redIAdd(u), e = f, t = o.redMul(s.redISub(f)).redISub(u), r = this.y.redAdd(this.y);
      } else {
        var h = this.x.redSqr(),
            c = this.y.redSqr(),
            d = c.redSqr(),
            l = this.x.redAdd(c).redSqr().redISub(h).redISub(d);
        l = l.redIAdd(l);
        var p = h.redAdd(h).redIAdd(h),
            m = p.redSqr(),
            b = d.redIAdd(d);
        b = (b = b.redIAdd(b)).redIAdd(b), e = m.redISub(l).redISub(l), t = p.redMul(l.redISub(e)).redISub(b), r = (r = this.y.redMul(this.z)).redIAdd(r);
      }

      return this.curve.jpoint(e, t, r);
    }, h.prototype._threeDbl = function () {
      var e, t, r;

      if (this.zOne) {
        var i = this.x.redSqr(),
            n = this.y.redSqr(),
            a = n.redSqr(),
            s = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
        s = s.redIAdd(s);
        var o = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),
            f = o.redSqr().redISub(s).redISub(s);
        e = f;
        var u = a.redIAdd(a);
        u = (u = u.redIAdd(u)).redIAdd(u), t = o.redMul(s.redISub(f)).redISub(u), r = this.y.redAdd(this.y);
      } else {
        var h = this.z.redSqr(),
            c = this.y.redSqr(),
            d = this.x.redMul(c),
            l = this.x.redSub(h).redMul(this.x.redAdd(h));
        l = l.redAdd(l).redIAdd(l);
        var p = d.redIAdd(d),
            m = (p = p.redIAdd(p)).redAdd(p);
        e = l.redSqr().redISub(m), r = this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);
        var b = c.redSqr();
        b = (b = (b = b.redIAdd(b)).redIAdd(b)).redIAdd(b), t = l.redMul(p.redISub(e)).redISub(b);
      }

      return this.curve.jpoint(e, t, r);
    }, h.prototype._dbl = function () {
      var e = this.curve.a,
          t = this.x,
          r = this.y,
          i = this.z,
          n = i.redSqr().redSqr(),
          a = t.redSqr(),
          s = r.redSqr(),
          o = a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),
          f = t.redAdd(t),
          u = (f = f.redIAdd(f)).redMul(s),
          h = o.redSqr().redISub(u.redAdd(u)),
          c = u.redISub(h),
          d = s.redSqr();
      d = (d = (d = d.redIAdd(d)).redIAdd(d)).redIAdd(d);
      var l = o.redMul(c).redISub(d),
          p = r.redAdd(r).redMul(i);
      return this.curve.jpoint(h, l, p);
    }, h.prototype.trpl = function () {
      if (!this.curve.zeroA) return this.dbl().add(this);
      var e = this.x.redSqr(),
          t = this.y.redSqr(),
          r = this.z.redSqr(),
          i = t.redSqr(),
          n = e.redAdd(e).redIAdd(e),
          a = n.redSqr(),
          s = this.x.redAdd(t).redSqr().redISub(e).redISub(i),
          o = (s = (s = (s = s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),
          f = i.redIAdd(i);
      f = (f = (f = f.redIAdd(f)).redIAdd(f)).redIAdd(f);
      var u = n.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(f),
          h = t.redMul(u);
      h = (h = h.redIAdd(h)).redIAdd(h);
      var c = this.x.redMul(o).redISub(h);
      c = (c = c.redIAdd(c)).redIAdd(c);
      var d = this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(o)));
      d = (d = (d = d.redIAdd(d)).redIAdd(d)).redIAdd(d);
      var l = this.z.redAdd(s).redSqr().redISub(r).redISub(o);
      return this.curve.jpoint(c, d, l);
    }, h.prototype.mul = function (e, t) {
      return e = new n(e, t), this.curve._wnafMul(this, e);
    }, h.prototype.eq = function (e) {
      if ("affine" === e.type) return this.eq(e.toJ());
      if (this === e) return !0;
      var t = this.z.redSqr(),
          r = e.z.redSqr();
      if (0 !== this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)) return !1;
      var i = t.redMul(this.z),
          n = r.redMul(e.z);
      return 0 === this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0);
    }, h.prototype.eqXToP = function (e) {
      var t = this.z.redSqr(),
          r = e.toRed(this.curve.red).redMul(t);
      if (0 === this.x.cmp(r)) return !0;

      for (var i = e.clone(), n = this.curve.redN.redMul(t);;) {
        if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0) return !1;
        if (r.redIAdd(n), 0 === this.x.cmp(r)) return !0;
      }
    }, h.prototype.inspect = function () {
      return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
    }, h.prototype.isInfinity = function () {
      return 0 === this.z.cmpn(0);
    };
  }, {
    "../utils": 100,
    "./base": 87,
    "bn.js": 101,
    inherits: 135
  }],
  92: [function (e, t, r) {
    "use strict";

    var i,
        n = r,
        a = e("hash.js"),
        s = e("./curve"),
        o = e("./utils").assert;

    function f(e) {
      "short" === e.type ? this.curve = new s["short"](e) : "edwards" === e.type ? this.curve = new s.edwards(e) : this.curve = new s.mont(e), this.g = this.curve.g, this.n = this.curve.n, this.hash = e.hash, o(this.g.validate(), "Invalid curve"), o(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
    }

    function u(e, t) {
      Object.defineProperty(n, e, {
        configurable: !0,
        enumerable: !0,
        get: function get() {
          var r = new f(t);
          return Object.defineProperty(n, e, {
            configurable: !0,
            enumerable: !0,
            value: r
          }), r;
        }
      });
    }

    n.PresetCurve = f, u("p192", {
      type: "short",
      prime: "p192",
      p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
      b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
      n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
      hash: a.sha256,
      gRed: !1,
      g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]
    }), u("p224", {
      type: "short",
      prime: "p224",
      p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
      b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
      n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
      hash: a.sha256,
      gRed: !1,
      g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]
    }), u("p256", {
      type: "short",
      prime: null,
      p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
      a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
      b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
      n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
      hash: a.sha256,
      gRed: !1,
      g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]
    }), u("p384", {
      type: "short",
      prime: null,
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
      a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
      b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
      n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
      hash: a.sha384,
      gRed: !1,
      g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]
    }), u("p521", {
      type: "short",
      prime: null,
      p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
      a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
      b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
      n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
      hash: a.sha512,
      gRed: !1,
      g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]
    }), u("curve25519", {
      type: "mont",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "76d06",
      b: "1",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: a.sha256,
      gRed: !1,
      g: ["9"]
    }), u("ed25519", {
      type: "edwards",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "-1",
      c: "1",
      d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: a.sha256,
      gRed: !1,
      g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"]
    });

    try {
      i = e("./precomputed/secp256k1");
    } catch (e) {
      i = void 0;
    }

    u("secp256k1", {
      type: "short",
      prime: "k256",
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      a: "0",
      b: "7",
      n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
      h: "1",
      hash: a.sha256,
      beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
      lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
      basis: [{
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3"
      }, {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15"
      }],
      gRed: !1,
      g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", i]
    });
  }, {
    "./curve": 89,
    "./precomputed/secp256k1": 99,
    "./utils": 100,
    "hash.js": 121
  }],
  93: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("hmac-drbg"),
        a = e("../utils"),
        s = e("../curves"),
        o = e("brorand"),
        f = a.assert,
        u = e("./key"),
        h = e("./signature");

    function c(e) {
      if (!(this instanceof c)) return new c(e);
      "string" == typeof e && (f(s.hasOwnProperty(e), "Unknown curve " + e), e = s[e]), e instanceof s.PresetCurve && (e = {
        curve: e
      }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
    }

    t.exports = c, c.prototype.keyPair = function (e) {
      return new u(this, e);
    }, c.prototype.keyFromPrivate = function (e, t) {
      return u.fromPrivate(this, e, t);
    }, c.prototype.keyFromPublic = function (e, t) {
      return u.fromPublic(this, e, t);
    }, c.prototype.genKeyPair = function (e) {
      e || (e = {});

      for (var t = new n({
        hash: this.hash,
        pers: e.pers,
        persEnc: e.persEnc || "utf8",
        entropy: e.entropy || o(this.hash.hmacStrength),
        entropyEnc: e.entropy && e.entropyEnc || "utf8",
        nonce: this.n.toArray()
      }), r = this.n.byteLength(), a = this.n.sub(new i(2));;) {
        var s = new i(t.generate(r));
        if (!(s.cmp(a) > 0)) return s.iaddn(1), this.keyFromPrivate(s);
      }
    }, c.prototype._truncateToN = function (e, t) {
      var r = 8 * e.byteLength() - this.n.bitLength();
      return r > 0 && (e = e.ushrn(r)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
    }, c.prototype.sign = function (e, t, r, a) {
      "object" == _typeof(r) && (a = r, r = null), a || (a = {}), t = this.keyFromPrivate(t, r), e = this._truncateToN(new i(e, 16));

      for (var s = this.n.byteLength(), o = t.getPrivate().toArray("be", s), f = e.toArray("be", s), u = new n({
        hash: this.hash,
        entropy: o,
        nonce: f,
        pers: a.pers,
        persEnc: a.persEnc || "utf8"
      }), c = this.n.sub(new i(1)), d = 0;; d++) {
        var l = a.k ? a.k(d) : new i(u.generate(this.n.byteLength()));

        if (!((l = this._truncateToN(l, !0)).cmpn(1) <= 0 || l.cmp(c) >= 0)) {
          var p = this.g.mul(l);

          if (!p.isInfinity()) {
            var m = p.getX(),
                b = m.umod(this.n);

            if (0 !== b.cmpn(0)) {
              var y = l.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));

              if (0 !== (y = y.umod(this.n)).cmpn(0)) {
                var g = (p.getY().isOdd() ? 1 : 0) | (0 !== m.cmp(b) ? 2 : 0);
                return a.canonical && y.cmp(this.nh) > 0 && (y = this.n.sub(y), g ^= 1), new h({
                  r: b,
                  s: y,
                  recoveryParam: g
                });
              }
            }
          }
        }
      }
    }, c.prototype.verify = function (e, t, r, n) {
      e = this._truncateToN(new i(e, 16)), r = this.keyFromPublic(r, n);
      var a = (t = new h(t, "hex")).r,
          s = t.s;
      if (a.cmpn(1) < 0 || a.cmp(this.n) >= 0) return !1;
      if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0) return !1;
      var o,
          f = s.invm(this.n),
          u = f.mul(e).umod(this.n),
          c = f.mul(a).umod(this.n);
      return this.curve._maxwellTrick ? !(o = this.g.jmulAdd(u, r.getPublic(), c)).isInfinity() && o.eqXToP(a) : !(o = this.g.mulAdd(u, r.getPublic(), c)).isInfinity() && 0 === o.getX().umod(this.n).cmp(a);
    }, c.prototype.recoverPubKey = function (e, t, r, n) {
      f((3 & r) === r, "The recovery param is more than two bits"), t = new h(t, n);
      var a = this.n,
          s = new i(e),
          o = t.r,
          u = t.s,
          c = 1 & r,
          d = r >> 1;
      if (o.cmp(this.curve.p.umod(this.curve.n)) >= 0 && d) throw new Error("Unable to find sencond key candinate");
      o = d ? this.curve.pointFromX(o.add(this.curve.n), c) : this.curve.pointFromX(o, c);
      var l = t.r.invm(a),
          p = a.sub(s).mul(l).umod(a),
          m = u.mul(l).umod(a);
      return this.g.mulAdd(p, o, m);
    }, c.prototype.getKeyRecoveryParam = function (e, t, r, i) {
      if (null !== (t = new h(t, i)).recoveryParam) return t.recoveryParam;

      for (var n = 0; n < 4; n++) {
        var a;

        try {
          a = this.recoverPubKey(e, t, n);
        } catch (e) {
          continue;
        }

        if (a.eq(r)) return n;
      }

      throw new Error("Unable to find valid recovery factor");
    };
  }, {
    "../curves": 92,
    "../utils": 100,
    "./key": 94,
    "./signature": 95,
    "bn.js": 101,
    brorand: 18,
    "hmac-drbg": 133
  }],
  94: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("../utils").assert;

    function a(e, t) {
      this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
    }

    t.exports = a, a.fromPublic = function (e, t, r) {
      return t instanceof a ? t : new a(e, {
        pub: t,
        pubEnc: r
      });
    }, a.fromPrivate = function (e, t, r) {
      return t instanceof a ? t : new a(e, {
        priv: t,
        privEnc: r
      });
    }, a.prototype.validate = function () {
      var e = this.getPublic();
      return e.isInfinity() ? {
        result: !1,
        reason: "Invalid public key"
      } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? {
        result: !0,
        reason: null
      } : {
        result: !1,
        reason: "Public key * N != O"
      } : {
        result: !1,
        reason: "Public key is not a point"
      };
    }, a.prototype.getPublic = function (e, t) {
      return "string" == typeof e && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;
    }, a.prototype.getPrivate = function (e) {
      return "hex" === e ? this.priv.toString(16, 2) : this.priv;
    }, a.prototype._importPrivate = function (e, t) {
      this.priv = new i(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);
    }, a.prototype._importPublic = function (e, t) {
      if (e.x || e.y) return "mont" === this.ec.curve.type ? n(e.x, "Need x coordinate") : "short" !== this.ec.curve.type && "edwards" !== this.ec.curve.type || n(e.x && e.y, "Need both x and y coordinate"), void (this.pub = this.ec.curve.point(e.x, e.y));
      this.pub = this.ec.curve.decodePoint(e, t);
    }, a.prototype.derive = function (e) {
      return e.mul(this.priv).getX();
    }, a.prototype.sign = function (e, t, r) {
      return this.ec.sign(e, this, t, r);
    }, a.prototype.verify = function (e, t) {
      return this.ec.verify(e, t, this);
    }, a.prototype.inspect = function () {
      return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
    };
  }, {
    "../utils": 100,
    "bn.js": 101
  }],
  95: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("../utils"),
        a = n.assert;

    function s(e, t) {
      if (e instanceof s) return e;
      this._importDER(e, t) || (a(e.r && e.s, "Signature without r or s"), this.r = new i(e.r, 16), this.s = new i(e.s, 16), void 0 === e.recoveryParam ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
    }

    function o() {
      this.place = 0;
    }

    function f(e, t) {
      var r = e[t.place++];
      if (!(128 & r)) return r;
      var i = 15 & r;
      if (0 === i || i > 4) return !1;

      for (var n = 0, a = 0, s = t.place; a < i; a++, s++) {
        n <<= 8, n |= e[s], n >>>= 0;
      }

      return !(n <= 127) && (t.place = s, n);
    }

    function u(e) {
      for (var t = 0, r = e.length - 1; !e[t] && !(128 & e[t + 1]) && t < r;) {
        t++;
      }

      return 0 === t ? e : e.slice(t);
    }

    function h(e, t) {
      if (t < 128) e.push(t);else {
        var r = 1 + (Math.log(t) / Math.LN2 >>> 3);

        for (e.push(128 | r); --r;) {
          e.push(t >>> (r << 3) & 255);
        }

        e.push(t);
      }
    }

    t.exports = s, s.prototype._importDER = function (e, t) {
      e = n.toArray(e, t);
      var r = new o();
      if (48 !== e[r.place++]) return !1;
      var a = f(e, r);
      if (!1 === a) return !1;
      if (a + r.place !== e.length) return !1;
      if (2 !== e[r.place++]) return !1;
      var s = f(e, r);
      if (!1 === s) return !1;
      var u = e.slice(r.place, s + r.place);
      if (r.place += s, 2 !== e[r.place++]) return !1;
      var h = f(e, r);
      if (!1 === h) return !1;
      if (e.length !== h + r.place) return !1;
      var c = e.slice(r.place, h + r.place);

      if (0 === u[0]) {
        if (!(128 & u[1])) return !1;
        u = u.slice(1);
      }

      if (0 === c[0]) {
        if (!(128 & c[1])) return !1;
        c = c.slice(1);
      }

      return this.r = new i(u), this.s = new i(c), this.recoveryParam = null, !0;
    }, s.prototype.toDER = function (e) {
      var t = this.r.toArray(),
          r = this.s.toArray();

      for (128 & t[0] && (t = [0].concat(t)), 128 & r[0] && (r = [0].concat(r)), t = u(t), r = u(r); !(r[0] || 128 & r[1]);) {
        r = r.slice(1);
      }

      var i = [2];
      h(i, t.length), (i = i.concat(t)).push(2), h(i, r.length);
      var a = i.concat(r),
          s = [48];
      return h(s, a.length), s = s.concat(a), n.encode(s, e);
    };
  }, {
    "../utils": 100,
    "bn.js": 101
  }],
  96: [function (e, t, r) {
    "use strict";

    var i = e("hash.js"),
        n = e("../curves"),
        a = e("../utils"),
        s = a.assert,
        o = a.parseBytes,
        f = e("./key"),
        u = e("./signature");

    function h(e) {
      if (s("ed25519" === e, "only tested with ed25519 so far"), !(this instanceof h)) return new h(e);
      e = n[e].curve;
      this.curve = e, this.g = e.g, this.g.precompute(e.n.bitLength() + 1), this.pointClass = e.point().constructor, this.encodingLength = Math.ceil(e.n.bitLength() / 8), this.hash = i.sha512;
    }

    t.exports = h, h.prototype.sign = function (e, t) {
      e = o(e);
      var r = this.keyFromSecret(t),
          i = this.hashInt(r.messagePrefix(), e),
          n = this.g.mul(i),
          a = this.encodePoint(n),
          s = this.hashInt(a, r.pubBytes(), e).mul(r.priv()),
          f = i.add(s).umod(this.curve.n);
      return this.makeSignature({
        R: n,
        S: f,
        Rencoded: a
      });
    }, h.prototype.verify = function (e, t, r) {
      e = o(e), t = this.makeSignature(t);
      var i = this.keyFromPublic(r),
          n = this.hashInt(t.Rencoded(), i.pubBytes(), e),
          a = this.g.mul(t.S());
      return t.R().add(i.pub().mul(n)).eq(a);
    }, h.prototype.hashInt = function () {
      for (var e = this.hash(), t = 0; t < arguments.length; t++) {
        e.update(arguments[t]);
      }

      return a.intFromLE(e.digest()).umod(this.curve.n);
    }, h.prototype.keyFromPublic = function (e) {
      return f.fromPublic(this, e);
    }, h.prototype.keyFromSecret = function (e) {
      return f.fromSecret(this, e);
    }, h.prototype.makeSignature = function (e) {
      return e instanceof u ? e : new u(this, e);
    }, h.prototype.encodePoint = function (e) {
      var t = e.getY().toArray("le", this.encodingLength);
      return t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0, t;
    }, h.prototype.decodePoint = function (e) {
      var t = (e = a.parseBytes(e)).length - 1,
          r = e.slice(0, t).concat(-129 & e[t]),
          i = 0 != (128 & e[t]),
          n = a.intFromLE(r);
      return this.curve.pointFromY(n, i);
    }, h.prototype.encodeInt = function (e) {
      return e.toArray("le", this.encodingLength);
    }, h.prototype.decodeInt = function (e) {
      return a.intFromLE(e);
    }, h.prototype.isPoint = function (e) {
      return e instanceof this.pointClass;
    };
  }, {
    "../curves": 92,
    "../utils": 100,
    "./key": 97,
    "./signature": 98,
    "hash.js": 121
  }],
  97: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = i.assert,
        a = i.parseBytes,
        s = i.cachedProperty;

    function o(e, t) {
      this.eddsa = e, this._secret = a(t.secret), e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = a(t.pub);
    }

    o.fromPublic = function (e, t) {
      return t instanceof o ? t : new o(e, {
        pub: t
      });
    }, o.fromSecret = function (e, t) {
      return t instanceof o ? t : new o(e, {
        secret: t
      });
    }, o.prototype.secret = function () {
      return this._secret;
    }, s(o, "pubBytes", function () {
      return this.eddsa.encodePoint(this.pub());
    }), s(o, "pub", function () {
      return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv());
    }), s(o, "privBytes", function () {
      var e = this.eddsa,
          t = this.hash(),
          r = e.encodingLength - 1,
          i = t.slice(0, e.encodingLength);
      return i[0] &= 248, i[r] &= 127, i[r] |= 64, i;
    }), s(o, "priv", function () {
      return this.eddsa.decodeInt(this.privBytes());
    }), s(o, "hash", function () {
      return this.eddsa.hash().update(this.secret()).digest();
    }), s(o, "messagePrefix", function () {
      return this.hash().slice(this.eddsa.encodingLength);
    }), o.prototype.sign = function (e) {
      return n(this._secret, "KeyPair can only verify"), this.eddsa.sign(e, this);
    }, o.prototype.verify = function (e, t) {
      return this.eddsa.verify(e, t, this);
    }, o.prototype.getSecret = function (e) {
      return n(this._secret, "KeyPair is public only"), i.encode(this.secret(), e);
    }, o.prototype.getPublic = function (e) {
      return i.encode(this.pubBytes(), e);
    }, t.exports = o;
  }, {
    "../utils": 100
  }],
  98: [function (e, t, r) {
    "use strict";

    var i = e("bn.js"),
        n = e("../utils"),
        a = n.assert,
        s = n.cachedProperty,
        o = n.parseBytes;

    function f(e, t) {
      this.eddsa = e, "object" != _typeof(t) && (t = o(t)), Array.isArray(t) && (t = {
        R: t.slice(0, e.encodingLength),
        S: t.slice(e.encodingLength)
      }), a(t.R && t.S, "Signature without R or S"), e.isPoint(t.R) && (this._R = t.R), t.S instanceof i && (this._S = t.S), this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded, this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded;
    }

    s(f, "S", function () {
      return this.eddsa.decodeInt(this.Sencoded());
    }), s(f, "R", function () {
      return this.eddsa.decodePoint(this.Rencoded());
    }), s(f, "Rencoded", function () {
      return this.eddsa.encodePoint(this.R());
    }), s(f, "Sencoded", function () {
      return this.eddsa.encodeInt(this.S());
    }), f.prototype.toBytes = function () {
      return this.Rencoded().concat(this.Sencoded());
    }, f.prototype.toHex = function () {
      return n.encode(this.toBytes(), "hex").toUpperCase();
    }, t.exports = f;
  }, {
    "../utils": 100,
    "bn.js": 101
  }],
  99: [function (e, t, r) {
    t.exports = {
      doubles: {
        step: 4,
        points: [["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a", "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"], ["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508", "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"], ["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739", "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"], ["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640", "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"], ["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c", "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"], ["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda", "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"], ["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa", "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"], ["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0", "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"], ["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d", "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"], ["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d", "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"], ["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1", "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"], ["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0", "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"], ["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047", "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"], ["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862", "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"], ["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7", "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"], ["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd", "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"], ["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83", "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"], ["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a", "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"], ["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8", "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"], ["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d", "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"], ["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725", "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"], ["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754", "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"], ["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c", "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"], ["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6", "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"], ["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39", "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"], ["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891", "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"], ["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b", "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"], ["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03", "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"], ["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d", "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"], ["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070", "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"], ["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4", "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"], ["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da", "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"], ["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11", "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"], ["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e", "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"], ["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41", "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"], ["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef", "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"], ["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8", "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"], ["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d", "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"], ["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96", "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"], ["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd", "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"], ["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5", "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"], ["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266", "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"], ["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71", "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"], ["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac", "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"], ["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751", "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"], ["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e", "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"], ["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241", "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"], ["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3", "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"], ["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f", "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"], ["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19", "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"], ["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be", "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"], ["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9", "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"], ["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2", "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"], ["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13", "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"], ["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c", "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"], ["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba", "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"], ["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151", "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"], ["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073", "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"], ["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458", "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"], ["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b", "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"], ["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366", "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"], ["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa", "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"], ["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0", "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"], ["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787", "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"], ["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e", "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
      },
      naf: {
        wnd: 7,
        points: [["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9", "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"], ["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4", "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"], ["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc", "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"], ["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe", "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"], ["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb", "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"], ["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8", "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"], ["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e", "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"], ["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34", "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"], ["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c", "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"], ["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5", "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"], ["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f", "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"], ["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714", "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"], ["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729", "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"], ["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db", "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"], ["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4", "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"], ["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5", "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"], ["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479", "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"], ["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d", "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"], ["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f", "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"], ["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb", "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"], ["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9", "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"], ["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963", "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"], ["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74", "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"], ["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530", "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"], ["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b", "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"], ["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247", "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"], ["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1", "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"], ["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120", "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"], ["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435", "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"], ["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18", "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"], ["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8", "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"], ["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb", "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"], ["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f", "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"], ["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143", "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"], ["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba", "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"], ["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45", "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"], ["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a", "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"], ["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e", "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"], ["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8", "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"], ["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c", "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"], ["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519", "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"], ["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab", "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"], ["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca", "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"], ["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf", "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"], ["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610", "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"], ["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4", "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"], ["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c", "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"], ["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940", "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"], ["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980", "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"], ["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3", "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"], ["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf", "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"], ["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63", "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"], ["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448", "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"], ["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf", "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"], ["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5", "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"], ["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6", "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"], ["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5", "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"], ["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99", "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"], ["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51", "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"], ["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5", "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"], ["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5", "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"], ["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997", "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"], ["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881", "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"], ["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5", "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"], ["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66", "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"], ["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726", "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"], ["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede", "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"], ["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94", "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"], ["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31", "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"], ["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51", "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"], ["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252", "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"], ["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5", "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"], ["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b", "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"], ["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4", "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"], ["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f", "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"], ["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889", "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"], ["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246", "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"], ["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984", "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"], ["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a", "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"], ["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030", "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"], ["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197", "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"], ["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593", "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"], ["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef", "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"], ["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38", "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"], ["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a", "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"], ["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111", "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"], ["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502", "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"], ["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea", "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"], ["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26", "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"], ["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986", "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"], ["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e", "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"], ["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4", "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"], ["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda", "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"], ["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859", "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"], ["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f", "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"], ["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c", "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"], ["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942", "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"], ["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a", "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"], ["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80", "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"], ["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d", "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"], ["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1", "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"], ["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63", "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"], ["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352", "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"], ["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193", "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"], ["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00", "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"], ["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58", "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"], ["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7", "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"], ["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8", "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"], ["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e", "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"], ["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d", "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"], ["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b", "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"], ["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f", "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"], ["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6", "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"], ["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297", "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"], ["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a", "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"], ["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c", "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"], ["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52", "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"], ["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb", "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"], ["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065", "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"], ["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917", "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"], ["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9", "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"], ["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3", "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"], ["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57", "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"], ["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66", "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"], ["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8", "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"], ["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721", "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"], ["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180", "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
      }
    };
  }, {}],
  100: [function (e, t, r) {
    "use strict";

    var i = r,
        n = e("bn.js"),
        a = e("minimalistic-assert"),
        s = e("minimalistic-crypto-utils");
    i.assert = a, i.toArray = s.toArray, i.zero2 = s.zero2, i.toHex = s.toHex, i.encode = s.encode, i.getNAF = function (e, t, r) {
      var i = new Array(Math.max(e.bitLength(), r) + 1);
      i.fill(0);

      for (var n = 1 << t + 1, a = e.clone(), s = 0; s < i.length; s++) {
        var o,
            f = a.andln(n - 1);
        a.isOdd() ? (o = f > (n >> 1) - 1 ? (n >> 1) - f : f, a.isubn(o)) : o = 0, i[s] = o, a.iushrn(1);
      }

      return i;
    }, i.getJSF = function (e, t) {
      var r = [[], []];
      e = e.clone(), t = t.clone();

      for (var i = 0, n = 0; e.cmpn(-i) > 0 || t.cmpn(-n) > 0;) {
        var a,
            s,
            o,
            f = e.andln(3) + i & 3,
            u = t.andln(3) + n & 3;
        if (3 === f && (f = -1), 3 === u && (u = -1), 0 == (1 & f)) a = 0;else a = 3 !== (o = e.andln(7) + i & 7) && 5 !== o || 2 !== u ? f : -f;
        if (r[0].push(a), 0 == (1 & u)) s = 0;else s = 3 !== (o = t.andln(7) + n & 7) && 5 !== o || 2 !== f ? u : -u;
        r[1].push(s), 2 * i === a + 1 && (i = 1 - i), 2 * n === s + 1 && (n = 1 - n), e.iushrn(1), t.iushrn(1);
      }

      return r;
    }, i.cachedProperty = function (e, t, r) {
      var i = "_" + t;

      e.prototype[t] = function () {
        return void 0 !== this[i] ? this[i] : this[i] = r.call(this);
      };
    }, i.parseBytes = function (e) {
      return "string" == typeof e ? i.toArray(e, "hex") : e;
    }, i.intFromLE = function (e) {
      return new n(e, "hex", "le");
    };
  }, {
    "bn.js": 101,
    "minimalistic-assert": 141,
    "minimalistic-crypto-utils": 142
  }],
  101: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  102: [function (e, t, r) {
    t.exports = {
      _args: [["elliptic@6.5.3", "/Users/numberwolf/Documents/webroot/VideoMissile/VideoMissilePlayer"]],
      _from: "elliptic@6.5.3",
      _id: "elliptic@6.5.3",
      _inBundle: !1,
      _integrity: "sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",
      _location: "/elliptic",
      _phantomChildren: {},
      _requested: {
        type: "version",
        registry: !0,
        raw: "elliptic@6.5.3",
        name: "elliptic",
        escapedName: "elliptic",
        rawSpec: "6.5.3",
        saveSpec: null,
        fetchSpec: "6.5.3"
      },
      _requiredBy: ["/browserify-sign", "/create-ecdh"],
      _resolved: "https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",
      _spec: "6.5.3",
      _where: "/Users/numberwolf/Documents/webroot/VideoMissile/VideoMissilePlayer",
      author: {
        name: "Fedor Indutny",
        email: "fedor@indutny.com"
      },
      bugs: {
        url: "https://github.com/indutny/elliptic/issues"
      },
      dependencies: {
        "bn.js": "^4.4.0",
        brorand: "^1.0.1",
        "hash.js": "^1.0.0",
        "hmac-drbg": "^1.0.0",
        inherits: "^2.0.1",
        "minimalistic-assert": "^1.0.0",
        "minimalistic-crypto-utils": "^1.0.0"
      },
      description: "EC cryptography",
      devDependencies: {
        brfs: "^1.4.3",
        coveralls: "^3.0.8",
        grunt: "^1.0.4",
        "grunt-browserify": "^5.0.0",
        "grunt-cli": "^1.2.0",
        "grunt-contrib-connect": "^1.0.0",
        "grunt-contrib-copy": "^1.0.0",
        "grunt-contrib-uglify": "^1.0.1",
        "grunt-mocha-istanbul": "^3.0.1",
        "grunt-saucelabs": "^9.0.1",
        istanbul: "^0.4.2",
        jscs: "^3.0.7",
        jshint: "^2.10.3",
        mocha: "^6.2.2"
      },
      files: ["lib"],
      homepage: "https://github.com/indutny/elliptic",
      keywords: ["EC", "Elliptic", "curve", "Cryptography"],
      license: "MIT",
      main: "lib/elliptic.js",
      name: "elliptic",
      repository: {
        type: "git",
        url: "git+ssh://git@github.com/indutny/elliptic.git"
      },
      scripts: {
        jscs: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
        jshint: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
        lint: "npm run jscs && npm run jshint",
        test: "npm run lint && npm run unit",
        unit: "istanbul test _mocha --reporter=spec test/index.js",
        version: "grunt dist && git add dist/"
      },
      version: "6.5.3"
    };
  }, {}],
  103: [function (e, t, r) {
    var i = Object.create || function (e) {
      var t = function t() {};

      return t.prototype = e, new t();
    },
        n = Object.keys || function (e) {
      var t = [];

      for (var r in e) {
        Object.prototype.hasOwnProperty.call(e, r) && t.push(r);
      }

      return r;
    },
        a = Function.prototype.bind || function (e) {
      var t = this;
      return function () {
        return t.apply(e, arguments);
      };
    };

    function s() {
      this._events && Object.prototype.hasOwnProperty.call(this, "_events") || (this._events = i(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
    }

    t.exports = s, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._maxListeners = void 0;
    var o,
        f = 10;

    try {
      var u = {};
      Object.defineProperty && Object.defineProperty(u, "x", {
        value: 0
      }), o = 0 === u.x;
    } catch (e) {
      o = !1;
    }

    function h(e) {
      return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners;
    }

    function c(e, t, r) {
      if (t) e.call(r);else for (var i = e.length, n = w(e, i), a = 0; a < i; ++a) {
        n[a].call(r);
      }
    }

    function d(e, t, r, i) {
      if (t) e.call(r, i);else for (var n = e.length, a = w(e, n), s = 0; s < n; ++s) {
        a[s].call(r, i);
      }
    }

    function l(e, t, r, i, n) {
      if (t) e.call(r, i, n);else for (var a = e.length, s = w(e, a), o = 0; o < a; ++o) {
        s[o].call(r, i, n);
      }
    }

    function p(e, t, r, i, n, a) {
      if (t) e.call(r, i, n, a);else for (var s = e.length, o = w(e, s), f = 0; f < s; ++f) {
        o[f].call(r, i, n, a);
      }
    }

    function m(e, t, r, i) {
      if (t) e.apply(r, i);else for (var n = e.length, a = w(e, n), s = 0; s < n; ++s) {
        a[s].apply(r, i);
      }
    }

    function b(e, t, r, n) {
      var a, s, o;
      if ("function" != typeof r) throw new TypeError('"listener" argument must be a function');

      if ((s = e._events) ? (s.newListener && (e.emit("newListener", t, r.listener ? r.listener : r), s = e._events), o = s[t]) : (s = e._events = i(null), e._eventsCount = 0), o) {
        if ("function" == typeof o ? o = s[t] = n ? [r, o] : [o, r] : n ? o.unshift(r) : o.push(r), !o.warned && (a = h(e)) && a > 0 && o.length > a) {
          o.warned = !0;
          var f = new Error("Possible EventEmitter memory leak detected. " + o.length + ' "' + String(t) + '" listeners added. Use emitter.setMaxListeners() to increase limit.');
          f.name = "MaxListenersExceededWarning", f.emitter = e, f.type = t, f.count = o.length, "object" == (typeof console === "undefined" ? "undefined" : _typeof(console)) && console.warn && console.warn("%s: %s", f.name, f.message);
        }
      } else o = s[t] = r, ++e._eventsCount;

      return e;
    }

    function y() {
      if (!this.fired) switch (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length) {
        case 0:
          return this.listener.call(this.target);

        case 1:
          return this.listener.call(this.target, arguments[0]);

        case 2:
          return this.listener.call(this.target, arguments[0], arguments[1]);

        case 3:
          return this.listener.call(this.target, arguments[0], arguments[1], arguments[2]);

        default:
          for (var e = new Array(arguments.length), t = 0; t < e.length; ++t) {
            e[t] = arguments[t];
          }

          this.listener.apply(this.target, e);
      }
    }

    function g(e, t, r) {
      var i = {
        fired: !1,
        wrapFn: void 0,
        target: e,
        type: t,
        listener: r
      },
          n = a.call(y, i);
      return n.listener = r, i.wrapFn = n, n;
    }

    function _(e, t, r) {
      var i = e._events;
      if (!i) return [];
      var n = i[t];
      return n ? "function" == typeof n ? r ? [n.listener || n] : [n] : r ? function (e) {
        for (var t = new Array(e.length), r = 0; r < t.length; ++r) {
          t[r] = e[r].listener || e[r];
        }

        return t;
      }(n) : w(n, n.length) : [];
    }

    function v(e) {
      var t = this._events;

      if (t) {
        var r = t[e];
        if ("function" == typeof r) return 1;
        if (r) return r.length;
      }

      return 0;
    }

    function w(e, t) {
      for (var r = new Array(t), i = 0; i < t; ++i) {
        r[i] = e[i];
      }

      return r;
    }

    o ? Object.defineProperty(s, "defaultMaxListeners", {
      enumerable: !0,
      get: function get() {
        return f;
      },
      set: function set(e) {
        if ("number" != typeof e || e < 0 || e != e) throw new TypeError('"defaultMaxListeners" must be a positive number');
        f = e;
      }
    }) : s.defaultMaxListeners = f, s.prototype.setMaxListeners = function (e) {
      if ("number" != typeof e || e < 0 || isNaN(e)) throw new TypeError('"n" argument must be a positive number');
      return this._maxListeners = e, this;
    }, s.prototype.getMaxListeners = function () {
      return h(this);
    }, s.prototype.emit = function (e) {
      var t,
          r,
          i,
          n,
          a,
          s,
          o = "error" === e;
      if (s = this._events) o = o && null == s.error;else if (!o) return !1;

      if (o) {
        if (arguments.length > 1 && (t = arguments[1]), t instanceof Error) throw t;
        var f = new Error('Unhandled "error" event. (' + t + ")");
        throw f.context = t, f;
      }

      if (!(r = s[e])) return !1;
      var u = "function" == typeof r;

      switch (i = arguments.length) {
        case 1:
          c(r, u, this);
          break;

        case 2:
          d(r, u, this, arguments[1]);
          break;

        case 3:
          l(r, u, this, arguments[1], arguments[2]);
          break;

        case 4:
          p(r, u, this, arguments[1], arguments[2], arguments[3]);
          break;

        default:
          for (n = new Array(i - 1), a = 1; a < i; a++) {
            n[a - 1] = arguments[a];
          }

          m(r, u, this, n);
      }

      return !0;
    }, s.prototype.addListener = function (e, t) {
      return b(this, e, t, !1);
    }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function (e, t) {
      return b(this, e, t, !0);
    }, s.prototype.once = function (e, t) {
      if ("function" != typeof t) throw new TypeError('"listener" argument must be a function');
      return this.on(e, g(this, e, t)), this;
    }, s.prototype.prependOnceListener = function (e, t) {
      if ("function" != typeof t) throw new TypeError('"listener" argument must be a function');
      return this.prependListener(e, g(this, e, t)), this;
    }, s.prototype.removeListener = function (e, t) {
      var r, n, a, s, o;
      if ("function" != typeof t) throw new TypeError('"listener" argument must be a function');
      if (!(n = this._events)) return this;
      if (!(r = n[e])) return this;
      if (r === t || r.listener === t) 0 == --this._eventsCount ? this._events = i(null) : (delete n[e], n.removeListener && this.emit("removeListener", e, r.listener || t));else if ("function" != typeof r) {
        for (a = -1, s = r.length - 1; s >= 0; s--) {
          if (r[s] === t || r[s].listener === t) {
            o = r[s].listener, a = s;
            break;
          }
        }

        if (a < 0) return this;
        0 === a ? r.shift() : function (e, t) {
          for (var r = t, i = r + 1, n = e.length; i < n; r += 1, i += 1) {
            e[r] = e[i];
          }

          e.pop();
        }(r, a), 1 === r.length && (n[e] = r[0]), n.removeListener && this.emit("removeListener", e, o || t);
      }
      return this;
    }, s.prototype.removeAllListeners = function (e) {
      var t, r, a;
      if (!(r = this._events)) return this;
      if (!r.removeListener) return 0 === arguments.length ? (this._events = i(null), this._eventsCount = 0) : r[e] && (0 == --this._eventsCount ? this._events = i(null) : delete r[e]), this;

      if (0 === arguments.length) {
        var s,
            o = n(r);

        for (a = 0; a < o.length; ++a) {
          "removeListener" !== (s = o[a]) && this.removeAllListeners(s);
        }

        return this.removeAllListeners("removeListener"), this._events = i(null), this._eventsCount = 0, this;
      }

      if ("function" == typeof (t = r[e])) this.removeListener(e, t);else if (t) for (a = t.length - 1; a >= 0; a--) {
        this.removeListener(e, t[a]);
      }
      return this;
    }, s.prototype.listeners = function (e) {
      return _(this, e, !0);
    }, s.prototype.rawListeners = function (e) {
      return _(this, e, !1);
    }, s.listenerCount = function (e, t) {
      return "function" == typeof e.listenerCount ? e.listenerCount(t) : v.call(e, t);
    }, s.prototype.listenerCount = v, s.prototype.eventNames = function () {
      return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
    };
  }, {}],
  104: [function (e, t, r) {
    var i = e("safe-buffer").Buffer,
        n = e("md5.js");

    t.exports = function (e, t, r, a) {
      if (i.isBuffer(e) || (e = i.from(e, "binary")), t && (i.isBuffer(t) || (t = i.from(t, "binary")), 8 !== t.length)) throw new RangeError("salt should be Buffer with 8 byte length");

      for (var s = r / 8, o = i.alloc(s), f = i.alloc(a || 0), u = i.alloc(0); s > 0 || a > 0;) {
        var h = new n();
        h.update(u), h.update(e), t && h.update(t), u = h.digest();
        var c = 0;

        if (s > 0) {
          var d = o.length - s;
          c = Math.min(s, u.length), u.copy(o, d, 0, c), s -= c;
        }

        if (c < u.length && a > 0) {
          var l = f.length - a,
              p = Math.min(a, u.length - c);
          u.copy(f, l, c, c + p), a -= p;
        }
      }

      return u.fill(0), {
        key: o,
        iv: f
      };
    };
  }, {
    "md5.js": 138,
    "safe-buffer": 183
  }],
  105: [function (e, t, r) {
    "use strict";

    var i = e("safe-buffer").Buffer,
        n = e("readable-stream").Transform;

    function a(e) {
      n.call(this), this._block = i.allocUnsafe(e), this._blockSize = e, this._blockOffset = 0, this._length = [0, 0, 0, 0], this._finalized = !1;
    }

    e("inherits")(a, n), a.prototype._transform = function (e, t, r) {
      var i = null;

      try {
        this.update(e, t);
      } catch (e) {
        i = e;
      }

      r(i);
    }, a.prototype._flush = function (e) {
      var t = null;

      try {
        this.push(this.digest());
      } catch (e) {
        t = e;
      }

      e(t);
    }, a.prototype.update = function (e, t) {
      if (function (e, t) {
        if (!i.isBuffer(e) && "string" != typeof e) throw new TypeError(t + " must be a string or a buffer");
      }(e, "Data"), this._finalized) throw new Error("Digest already called");
      i.isBuffer(e) || (e = i.from(e, t));

      for (var r = this._block, n = 0; this._blockOffset + e.length - n >= this._blockSize;) {
        for (var a = this._blockOffset; a < this._blockSize;) {
          r[a++] = e[n++];
        }

        this._update(), this._blockOffset = 0;
      }

      for (; n < e.length;) {
        r[this._blockOffset++] = e[n++];
      }

      for (var s = 0, o = 8 * e.length; o > 0; ++s) {
        this._length[s] += o, (o = this._length[s] / 4294967296 | 0) > 0 && (this._length[s] -= 4294967296 * o);
      }

      return this;
    }, a.prototype._update = function () {
      throw new Error("_update is not implemented");
    }, a.prototype.digest = function (e) {
      if (this._finalized) throw new Error("Digest already called");
      this._finalized = !0;

      var t = this._digest();

      void 0 !== e && (t = t.toString(e)), this._block.fill(0), this._blockOffset = 0;

      for (var r = 0; r < 4; ++r) {
        this._length[r] = 0;
      }

      return t;
    }, a.prototype._digest = function () {
      throw new Error("_digest is not implemented");
    }, t.exports = a;
  }, {
    inherits: 135,
    "readable-stream": 120,
    "safe-buffer": 183
  }],
  106: [function (e, t, r) {
    arguments[4][48][0].apply(r, arguments);
  }, {
    dup: 48
  }],
  107: [function (e, t, r) {
    arguments[4][49][0].apply(r, arguments);
  }, {
    "./_stream_readable": 109,
    "./_stream_writable": 111,
    _process: 157,
    dup: 49,
    inherits: 135
  }],
  108: [function (e, t, r) {
    arguments[4][50][0].apply(r, arguments);
  }, {
    "./_stream_transform": 110,
    dup: 50,
    inherits: 135
  }],
  109: [function (e, t, r) {
    arguments[4][51][0].apply(r, arguments);
  }, {
    "../errors": 106,
    "./_stream_duplex": 107,
    "./internal/streams/async_iterator": 112,
    "./internal/streams/buffer_list": 113,
    "./internal/streams/destroy": 114,
    "./internal/streams/from": 116,
    "./internal/streams/state": 118,
    "./internal/streams/stream": 119,
    _process: 157,
    buffer: 65,
    dup: 51,
    events: 103,
    inherits: 135,
    "string_decoder/": 194,
    util: 19
  }],
  110: [function (e, t, r) {
    arguments[4][52][0].apply(r, arguments);
  }, {
    "../errors": 106,
    "./_stream_duplex": 107,
    dup: 52,
    inherits: 135
  }],
  111: [function (e, t, r) {
    arguments[4][53][0].apply(r, arguments);
  }, {
    "../errors": 106,
    "./_stream_duplex": 107,
    "./internal/streams/destroy": 114,
    "./internal/streams/state": 118,
    "./internal/streams/stream": 119,
    _process: 157,
    buffer: 65,
    dup: 53,
    inherits: 135,
    "util-deprecate": 196
  }],
  112: [function (e, t, r) {
    arguments[4][54][0].apply(r, arguments);
  }, {
    "./end-of-stream": 115,
    _process: 157,
    dup: 54
  }],
  113: [function (e, t, r) {
    arguments[4][55][0].apply(r, arguments);
  }, {
    buffer: 65,
    dup: 55,
    util: 19
  }],
  114: [function (e, t, r) {
    arguments[4][56][0].apply(r, arguments);
  }, {
    _process: 157,
    dup: 56
  }],
  115: [function (e, t, r) {
    arguments[4][57][0].apply(r, arguments);
  }, {
    "../../../errors": 106,
    dup: 57
  }],
  116: [function (e, t, r) {
    arguments[4][58][0].apply(r, arguments);
  }, {
    dup: 58
  }],
  117: [function (e, t, r) {
    arguments[4][59][0].apply(r, arguments);
  }, {
    "../../../errors": 106,
    "./end-of-stream": 115,
    dup: 59
  }],
  118: [function (e, t, r) {
    arguments[4][60][0].apply(r, arguments);
  }, {
    "../../../errors": 106,
    dup: 60
  }],
  119: [function (e, t, r) {
    arguments[4][61][0].apply(r, arguments);
  }, {
    dup: 61,
    events: 103
  }],
  120: [function (e, t, r) {
    arguments[4][62][0].apply(r, arguments);
  }, {
    "./lib/_stream_duplex.js": 107,
    "./lib/_stream_passthrough.js": 108,
    "./lib/_stream_readable.js": 109,
    "./lib/_stream_transform.js": 110,
    "./lib/_stream_writable.js": 111,
    "./lib/internal/streams/end-of-stream.js": 115,
    "./lib/internal/streams/pipeline.js": 117,
    dup: 62
  }],
  121: [function (e, t, r) {
    var i = r;
    i.utils = e("./hash/utils"), i.common = e("./hash/common"), i.sha = e("./hash/sha"), i.ripemd = e("./hash/ripemd"), i.hmac = e("./hash/hmac"), i.sha1 = i.sha.sha1, i.sha256 = i.sha.sha256, i.sha224 = i.sha.sha224, i.sha384 = i.sha.sha384, i.sha512 = i.sha.sha512, i.ripemd160 = i.ripemd.ripemd160;
  }, {
    "./hash/common": 122,
    "./hash/hmac": 123,
    "./hash/ripemd": 124,
    "./hash/sha": 125,
    "./hash/utils": 132
  }],
  122: [function (e, t, r) {
    "use strict";

    var i = e("./utils"),
        n = e("minimalistic-assert");

    function a() {
      this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
    }

    r.BlockHash = a, a.prototype.update = function (e, t) {
      if (e = i.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {
        var r = (e = this.pending).length % this._delta8;
        this.pending = e.slice(e.length - r, e.length), 0 === this.pending.length && (this.pending = null), e = i.join32(e, 0, e.length - r, this.endian);

        for (var n = 0; n < e.length; n += this._delta32) {
          this._update(e, n, n + this._delta32);
        }
      }

      return this;
    }, a.prototype.digest = function (e) {
      return this.update(this._pad()), n(null === this.pending), this._digest(e);
    }, a.prototype._pad = function () {
      var e = this.pendingTotal,
          t = this._delta8,
          r = t - (e + this.padLength) % t,
          i = new Array(r + this.padLength);
      i[0] = 128;

      for (var n = 1; n < r; n++) {
        i[n] = 0;
      }

      if (e <<= 3, "big" === this.endian) {
        for (var a = 8; a < this.padLength; a++) {
          i[n++] = 0;
        }

        i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = e >>> 24 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 8 & 255, i[n++] = 255 & e;
      } else for (i[n++] = 255 & e, i[n++] = e >>> 8 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 24 & 255, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, a = 8; a < this.padLength; a++) {
        i[n++] = 0;
      }

      return i;
    };
  }, {
    "./utils": 132,
    "minimalistic-assert": 141
  }],
  123: [function (e, t, r) {
    "use strict";

    var i = e("./utils"),
        n = e("minimalistic-assert");

    function a(e, t, r) {
      if (!(this instanceof a)) return new a(e, t, r);
      this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(i.toArray(t, r));
    }

    t.exports = a, a.prototype._init = function (e) {
      e.length > this.blockSize && (e = new this.Hash().update(e).digest()), n(e.length <= this.blockSize);

      for (var t = e.length; t < this.blockSize; t++) {
        e.push(0);
      }

      for (t = 0; t < e.length; t++) {
        e[t] ^= 54;
      }

      for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++) {
        e[t] ^= 106;
      }

      this.outer = new this.Hash().update(e);
    }, a.prototype.update = function (e, t) {
      return this.inner.update(e, t), this;
    }, a.prototype.digest = function (e) {
      return this.outer.update(this.inner.digest()), this.outer.digest(e);
    };
  }, {
    "./utils": 132,
    "minimalistic-assert": 141
  }],
  124: [function (e, t, r) {
    "use strict";

    var i = e("./utils"),
        n = e("./common"),
        a = i.rotl32,
        s = i.sum32,
        o = i.sum32_3,
        f = i.sum32_4,
        u = n.BlockHash;

    function h() {
      if (!(this instanceof h)) return new h();
      u.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
    }

    function c(e, t, r, i) {
      return e <= 15 ? t ^ r ^ i : e <= 31 ? t & r | ~t & i : e <= 47 ? (t | ~r) ^ i : e <= 63 ? t & i | r & ~i : t ^ (r | ~i);
    }

    function d(e) {
      return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
    }

    function l(e) {
      return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
    }

    i.inherits(h, u), r.ripemd160 = h, h.blockSize = 512, h.outSize = 160, h.hmacStrength = 192, h.padLength = 64, h.prototype._update = function (e, t) {
      for (var r = this.h[0], i = this.h[1], n = this.h[2], u = this.h[3], h = this.h[4], g = r, _ = i, v = n, w = u, E = h, S = 0; S < 80; S++) {
        var A = s(a(f(r, c(S, i, n, u), e[p[S] + t], d(S)), b[S]), h);
        r = h, h = u, u = a(n, 10), n = i, i = A, A = s(a(f(g, c(79 - S, _, v, w), e[m[S] + t], l(S)), y[S]), E), g = E, E = w, w = a(v, 10), v = _, _ = A;
      }

      A = o(this.h[1], n, w), this.h[1] = o(this.h[2], u, E), this.h[2] = o(this.h[3], h, g), this.h[3] = o(this.h[4], r, _), this.h[4] = o(this.h[0], i, v), this.h[0] = A;
    }, h.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h, "little") : i.split32(this.h, "little");
    };
    var p = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13],
        m = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11],
        b = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6],
        y = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11];
  }, {
    "./common": 122,
    "./utils": 132
  }],
  125: [function (e, t, r) {
    "use strict";

    r.sha1 = e("./sha/1"), r.sha224 = e("./sha/224"), r.sha256 = e("./sha/256"), r.sha384 = e("./sha/384"), r.sha512 = e("./sha/512");
  }, {
    "./sha/1": 126,
    "./sha/224": 127,
    "./sha/256": 128,
    "./sha/384": 129,
    "./sha/512": 130
  }],
  126: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("../common"),
        a = e("./common"),
        s = i.rotl32,
        o = i.sum32,
        f = i.sum32_5,
        u = a.ft_1,
        h = n.BlockHash,
        c = [1518500249, 1859775393, 2400959708, 3395469782];

    function d() {
      if (!(this instanceof d)) return new d();
      h.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80);
    }

    i.inherits(d, h), t.exports = d, d.blockSize = 512, d.outSize = 160, d.hmacStrength = 80, d.padLength = 64, d.prototype._update = function (e, t) {
      for (var r = this.W, i = 0; i < 16; i++) {
        r[i] = e[t + i];
      }

      for (; i < r.length; i++) {
        r[i] = s(r[i - 3] ^ r[i - 8] ^ r[i - 14] ^ r[i - 16], 1);
      }

      var n = this.h[0],
          a = this.h[1],
          h = this.h[2],
          d = this.h[3],
          l = this.h[4];

      for (i = 0; i < r.length; i++) {
        var p = ~~(i / 20),
            m = f(s(n, 5), u(p, a, h, d), l, r[i], c[p]);
        l = d, d = h, h = s(a, 30), a = n, n = m;
      }

      this.h[0] = o(this.h[0], n), this.h[1] = o(this.h[1], a), this.h[2] = o(this.h[2], h), this.h[3] = o(this.h[3], d), this.h[4] = o(this.h[4], l);
    }, d.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h, "big") : i.split32(this.h, "big");
    };
  }, {
    "../common": 122,
    "../utils": 132,
    "./common": 131
  }],
  127: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("./256");

    function a() {
      if (!(this instanceof a)) return new a();
      n.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
    }

    i.inherits(a, n), t.exports = a, a.blockSize = 512, a.outSize = 224, a.hmacStrength = 192, a.padLength = 64, a.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h.slice(0, 7), "big") : i.split32(this.h.slice(0, 7), "big");
    };
  }, {
    "../utils": 132,
    "./256": 128
  }],
  128: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("../common"),
        a = e("./common"),
        s = e("minimalistic-assert"),
        o = i.sum32,
        f = i.sum32_4,
        u = i.sum32_5,
        h = a.ch32,
        c = a.maj32,
        d = a.s0_256,
        l = a.s1_256,
        p = a.g0_256,
        m = a.g1_256,
        b = n.BlockHash,
        y = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];

    function g() {
      if (!(this instanceof g)) return new g();
      b.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = y, this.W = new Array(64);
    }

    i.inherits(g, b), t.exports = g, g.blockSize = 512, g.outSize = 256, g.hmacStrength = 192, g.padLength = 64, g.prototype._update = function (e, t) {
      for (var r = this.W, i = 0; i < 16; i++) {
        r[i] = e[t + i];
      }

      for (; i < r.length; i++) {
        r[i] = f(m(r[i - 2]), r[i - 7], p(r[i - 15]), r[i - 16]);
      }

      var n = this.h[0],
          a = this.h[1],
          b = this.h[2],
          y = this.h[3],
          g = this.h[4],
          _ = this.h[5],
          v = this.h[6],
          w = this.h[7];

      for (s(this.k.length === r.length), i = 0; i < r.length; i++) {
        var E = u(w, l(g), h(g, _, v), this.k[i], r[i]),
            S = o(d(n), c(n, a, b));
        w = v, v = _, _ = g, g = o(y, E), y = b, b = a, a = n, n = o(E, S);
      }

      this.h[0] = o(this.h[0], n), this.h[1] = o(this.h[1], a), this.h[2] = o(this.h[2], b), this.h[3] = o(this.h[3], y), this.h[4] = o(this.h[4], g), this.h[5] = o(this.h[5], _), this.h[6] = o(this.h[6], v), this.h[7] = o(this.h[7], w);
    }, g.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h, "big") : i.split32(this.h, "big");
    };
  }, {
    "../common": 122,
    "../utils": 132,
    "./common": 131,
    "minimalistic-assert": 141
  }],
  129: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("./512");

    function a() {
      if (!(this instanceof a)) return new a();
      n.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428];
    }

    i.inherits(a, n), t.exports = a, a.blockSize = 1024, a.outSize = 384, a.hmacStrength = 192, a.padLength = 128, a.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h.slice(0, 12), "big") : i.split32(this.h.slice(0, 12), "big");
    };
  }, {
    "../utils": 132,
    "./512": 130
  }],
  130: [function (e, t, r) {
    "use strict";

    var i = e("../utils"),
        n = e("../common"),
        a = e("minimalistic-assert"),
        s = i.rotr64_hi,
        o = i.rotr64_lo,
        f = i.shr64_hi,
        u = i.shr64_lo,
        h = i.sum64,
        c = i.sum64_hi,
        d = i.sum64_lo,
        l = i.sum64_4_hi,
        p = i.sum64_4_lo,
        m = i.sum64_5_hi,
        b = i.sum64_5_lo,
        y = n.BlockHash,
        g = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];

    function _() {
      if (!(this instanceof _)) return new _();
      y.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = g, this.W = new Array(160);
    }

    function v(e, t, r, i, n) {
      var a = e & r ^ ~e & n;
      return a < 0 && (a += 4294967296), a;
    }

    function w(e, t, r, i, n, a) {
      var s = t & i ^ ~t & a;
      return s < 0 && (s += 4294967296), s;
    }

    function E(e, t, r, i, n) {
      var a = e & r ^ e & n ^ r & n;
      return a < 0 && (a += 4294967296), a;
    }

    function S(e, t, r, i, n, a) {
      var s = t & i ^ t & a ^ i & a;
      return s < 0 && (s += 4294967296), s;
    }

    function A(e, t) {
      var r = s(e, t, 28) ^ s(t, e, 2) ^ s(t, e, 7);
      return r < 0 && (r += 4294967296), r;
    }

    function x(e, t) {
      var r = o(e, t, 28) ^ o(t, e, 2) ^ o(t, e, 7);
      return r < 0 && (r += 4294967296), r;
    }

    function M(e, t) {
      var r = s(e, t, 14) ^ s(e, t, 18) ^ s(t, e, 9);
      return r < 0 && (r += 4294967296), r;
    }

    function T(e, t) {
      var r = o(e, t, 14) ^ o(e, t, 18) ^ o(t, e, 9);
      return r < 0 && (r += 4294967296), r;
    }

    function k(e, t) {
      var r = s(e, t, 1) ^ s(e, t, 8) ^ f(e, t, 7);
      return r < 0 && (r += 4294967296), r;
    }

    function P(e, t) {
      var r = o(e, t, 1) ^ o(e, t, 8) ^ u(e, t, 7);
      return r < 0 && (r += 4294967296), r;
    }

    function U(e, t) {
      var r = s(e, t, 19) ^ s(t, e, 29) ^ f(e, t, 6);
      return r < 0 && (r += 4294967296), r;
    }

    function I(e, t) {
      var r = o(e, t, 19) ^ o(t, e, 29) ^ u(e, t, 6);
      return r < 0 && (r += 4294967296), r;
    }

    i.inherits(_, y), t.exports = _, _.blockSize = 1024, _.outSize = 512, _.hmacStrength = 192, _.padLength = 128, _.prototype._prepareBlock = function (e, t) {
      for (var r = this.W, i = 0; i < 32; i++) {
        r[i] = e[t + i];
      }

      for (; i < r.length; i += 2) {
        var n = U(r[i - 4], r[i - 3]),
            a = I(r[i - 4], r[i - 3]),
            s = r[i - 14],
            o = r[i - 13],
            f = k(r[i - 30], r[i - 29]),
            u = P(r[i - 30], r[i - 29]),
            h = r[i - 32],
            c = r[i - 31];
        r[i] = l(n, a, s, o, f, u, h, c), r[i + 1] = p(n, a, s, o, f, u, h, c);
      }
    }, _.prototype._update = function (e, t) {
      this._prepareBlock(e, t);

      var r = this.W,
          i = this.h[0],
          n = this.h[1],
          s = this.h[2],
          o = this.h[3],
          f = this.h[4],
          u = this.h[5],
          l = this.h[6],
          p = this.h[7],
          y = this.h[8],
          g = this.h[9],
          _ = this.h[10],
          k = this.h[11],
          P = this.h[12],
          U = this.h[13],
          I = this.h[14],
          C = this.h[15];
      a(this.k.length === r.length);

      for (var R = 0; R < r.length; R += 2) {
        var B = I,
            D = C,
            L = M(y, g),
            F = T(y, g),
            N = v(y, g, _, k, P),
            O = w(y, g, _, k, P, U),
            z = this.k[R],
            j = this.k[R + 1],
            H = r[R],
            V = r[R + 1],
            Y = m(B, D, L, F, N, O, z, j, H, V),
            q = b(B, D, L, F, N, O, z, j, H, V);
        B = A(i, n), D = x(i, n), L = E(i, n, s, o, f), F = S(i, n, s, o, f, u);
        var G = c(B, D, L, F),
            W = d(B, D, L, F);
        I = P, C = U, P = _, U = k, _ = y, k = g, y = c(l, p, Y, q), g = d(p, p, Y, q), l = f, p = u, f = s, u = o, s = i, o = n, i = c(Y, q, G, W), n = d(Y, q, G, W);
      }

      h(this.h, 0, i, n), h(this.h, 2, s, o), h(this.h, 4, f, u), h(this.h, 6, l, p), h(this.h, 8, y, g), h(this.h, 10, _, k), h(this.h, 12, P, U), h(this.h, 14, I, C);
    }, _.prototype._digest = function (e) {
      return "hex" === e ? i.toHex32(this.h, "big") : i.split32(this.h, "big");
    };
  }, {
    "../common": 122,
    "../utils": 132,
    "minimalistic-assert": 141
  }],
  131: [function (e, t, r) {
    "use strict";

    var i = e("../utils").rotr32;

    function n(e, t, r) {
      return e & t ^ ~e & r;
    }

    function a(e, t, r) {
      return e & t ^ e & r ^ t & r;
    }

    function s(e, t, r) {
      return e ^ t ^ r;
    }

    r.ft_1 = function (e, t, r, i) {
      return 0 === e ? n(t, r, i) : 1 === e || 3 === e ? s(t, r, i) : 2 === e ? a(t, r, i) : void 0;
    }, r.ch32 = n, r.maj32 = a, r.p32 = s, r.s0_256 = function (e) {
      return i(e, 2) ^ i(e, 13) ^ i(e, 22);
    }, r.s1_256 = function (e) {
      return i(e, 6) ^ i(e, 11) ^ i(e, 25);
    }, r.g0_256 = function (e) {
      return i(e, 7) ^ i(e, 18) ^ e >>> 3;
    }, r.g1_256 = function (e) {
      return i(e, 17) ^ i(e, 19) ^ e >>> 10;
    };
  }, {
    "../utils": 132
  }],
  132: [function (e, t, r) {
    "use strict";

    var i = e("minimalistic-assert"),
        n = e("inherits");

    function a(e, t) {
      return 55296 == (64512 & e.charCodeAt(t)) && !(t < 0 || t + 1 >= e.length) && 56320 == (64512 & e.charCodeAt(t + 1));
    }

    function s(e) {
      return (e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (255 & e) << 24) >>> 0;
    }

    function o(e) {
      return 1 === e.length ? "0" + e : e;
    }

    function f(e) {
      return 7 === e.length ? "0" + e : 6 === e.length ? "00" + e : 5 === e.length ? "000" + e : 4 === e.length ? "0000" + e : 3 === e.length ? "00000" + e : 2 === e.length ? "000000" + e : 1 === e.length ? "0000000" + e : e;
    }

    r.inherits = n, r.toArray = function (e, t) {
      if (Array.isArray(e)) return e.slice();
      if (!e) return [];
      var r = [];
      if ("string" == typeof e) {
        if (t) {
          if ("hex" === t) for ((e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (e = "0" + e), n = 0; n < e.length; n += 2) {
            r.push(parseInt(e[n] + e[n + 1], 16));
          }
        } else for (var i = 0, n = 0; n < e.length; n++) {
          var s = e.charCodeAt(n);
          s < 128 ? r[i++] = s : s < 2048 ? (r[i++] = s >> 6 | 192, r[i++] = 63 & s | 128) : a(e, n) ? (s = 65536 + ((1023 & s) << 10) + (1023 & e.charCodeAt(++n)), r[i++] = s >> 18 | 240, r[i++] = s >> 12 & 63 | 128, r[i++] = s >> 6 & 63 | 128, r[i++] = 63 & s | 128) : (r[i++] = s >> 12 | 224, r[i++] = s >> 6 & 63 | 128, r[i++] = 63 & s | 128);
        }
      } else for (n = 0; n < e.length; n++) {
        r[n] = 0 | e[n];
      }
      return r;
    }, r.toHex = function (e) {
      for (var t = "", r = 0; r < e.length; r++) {
        t += o(e[r].toString(16));
      }

      return t;
    }, r.htonl = s, r.toHex32 = function (e, t) {
      for (var r = "", i = 0; i < e.length; i++) {
        var n = e[i];
        "little" === t && (n = s(n)), r += f(n.toString(16));
      }

      return r;
    }, r.zero2 = o, r.zero8 = f, r.join32 = function (e, t, r, n) {
      var a = r - t;
      i(a % 4 == 0);

      for (var s = new Array(a / 4), o = 0, f = t; o < s.length; o++, f += 4) {
        var u;
        u = "big" === n ? e[f] << 24 | e[f + 1] << 16 | e[f + 2] << 8 | e[f + 3] : e[f + 3] << 24 | e[f + 2] << 16 | e[f + 1] << 8 | e[f], s[o] = u >>> 0;
      }

      return s;
    }, r.split32 = function (e, t) {
      for (var r = new Array(4 * e.length), i = 0, n = 0; i < e.length; i++, n += 4) {
        var a = e[i];
        "big" === t ? (r[n] = a >>> 24, r[n + 1] = a >>> 16 & 255, r[n + 2] = a >>> 8 & 255, r[n + 3] = 255 & a) : (r[n + 3] = a >>> 24, r[n + 2] = a >>> 16 & 255, r[n + 1] = a >>> 8 & 255, r[n] = 255 & a);
      }

      return r;
    }, r.rotr32 = function (e, t) {
      return e >>> t | e << 32 - t;
    }, r.rotl32 = function (e, t) {
      return e << t | e >>> 32 - t;
    }, r.sum32 = function (e, t) {
      return e + t >>> 0;
    }, r.sum32_3 = function (e, t, r) {
      return e + t + r >>> 0;
    }, r.sum32_4 = function (e, t, r, i) {
      return e + t + r + i >>> 0;
    }, r.sum32_5 = function (e, t, r, i, n) {
      return e + t + r + i + n >>> 0;
    }, r.sum64 = function (e, t, r, i) {
      var n = e[t],
          a = i + e[t + 1] >>> 0,
          s = (a < i ? 1 : 0) + r + n;
      e[t] = s >>> 0, e[t + 1] = a;
    }, r.sum64_hi = function (e, t, r, i) {
      return (t + i >>> 0 < t ? 1 : 0) + e + r >>> 0;
    }, r.sum64_lo = function (e, t, r, i) {
      return t + i >>> 0;
    }, r.sum64_4_hi = function (e, t, r, i, n, a, s, o) {
      var f = 0,
          u = t;
      return f += (u = u + i >>> 0) < t ? 1 : 0, f += (u = u + a >>> 0) < a ? 1 : 0, e + r + n + s + (f += (u = u + o >>> 0) < o ? 1 : 0) >>> 0;
    }, r.sum64_4_lo = function (e, t, r, i, n, a, s, o) {
      return t + i + a + o >>> 0;
    }, r.sum64_5_hi = function (e, t, r, i, n, a, s, o, f, u) {
      var h = 0,
          c = t;
      return h += (c = c + i >>> 0) < t ? 1 : 0, h += (c = c + a >>> 0) < a ? 1 : 0, h += (c = c + o >>> 0) < o ? 1 : 0, e + r + n + s + f + (h += (c = c + u >>> 0) < u ? 1 : 0) >>> 0;
    }, r.sum64_5_lo = function (e, t, r, i, n, a, s, o, f, u) {
      return t + i + a + o + u >>> 0;
    }, r.rotr64_hi = function (e, t, r) {
      return (t << 32 - r | e >>> r) >>> 0;
    }, r.rotr64_lo = function (e, t, r) {
      return (e << 32 - r | t >>> r) >>> 0;
    }, r.shr64_hi = function (e, t, r) {
      return e >>> r;
    }, r.shr64_lo = function (e, t, r) {
      return (e << 32 - r | t >>> r) >>> 0;
    };
  }, {
    inherits: 135,
    "minimalistic-assert": 141
  }],
  133: [function (e, t, r) {
    "use strict";

    var i = e("hash.js"),
        n = e("minimalistic-crypto-utils"),
        a = e("minimalistic-assert");

    function s(e) {
      if (!(this instanceof s)) return new s(e);
      this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
      var t = n.toArray(e.entropy, e.entropyEnc || "hex"),
          r = n.toArray(e.nonce, e.nonceEnc || "hex"),
          i = n.toArray(e.pers, e.persEnc || "hex");
      a(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, r, i);
    }

    t.exports = s, s.prototype._init = function (e, t, r) {
      var i = e.concat(t).concat(r);
      this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);

      for (var n = 0; n < this.V.length; n++) {
        this.K[n] = 0, this.V[n] = 1;
      }

      this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
    }, s.prototype._hmac = function () {
      return new i.hmac(this.hash, this.K);
    }, s.prototype._update = function (e) {
      var t = this._hmac().update(this.V).update([0]);

      e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());
    }, s.prototype.reseed = function (e, t, r, i) {
      "string" != typeof t && (i = r, r = t, t = null), e = n.toArray(e, t), r = n.toArray(r, i), a(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(r || [])), this._reseed = 1;
    }, s.prototype.generate = function (e, t, r, i) {
      if (this._reseed > this.reseedInterval) throw new Error("Reseed is required");
      "string" != typeof t && (i = r, r = t, t = null), r && (r = n.toArray(r, i || "hex"), this._update(r));

      for (var a = []; a.length < e;) {
        this.V = this._hmac().update(this.V).digest(), a = a.concat(this.V);
      }

      var s = a.slice(0, e);
      return this._update(r), this._reseed++, n.encode(s, t);
    };
  }, {
    "hash.js": 121,
    "minimalistic-assert": 141,
    "minimalistic-crypto-utils": 142
  }],
  134: [function (e, t, r) {
    r.read = function (e, t, r, i, n) {
      var a,
          s,
          o = 8 * n - i - 1,
          f = (1 << o) - 1,
          u = f >> 1,
          h = -7,
          c = r ? n - 1 : 0,
          d = r ? -1 : 1,
          l = e[t + c];

      for (c += d, a = l & (1 << -h) - 1, l >>= -h, h += o; h > 0; a = 256 * a + e[t + c], c += d, h -= 8) {
        ;
      }

      for (s = a & (1 << -h) - 1, a >>= -h, h += i; h > 0; s = 256 * s + e[t + c], c += d, h -= 8) {
        ;
      }

      if (0 === a) a = 1 - u;else {
        if (a === f) return s ? NaN : 1 / 0 * (l ? -1 : 1);
        s += Math.pow(2, i), a -= u;
      }
      return (l ? -1 : 1) * s * Math.pow(2, a - i);
    }, r.write = function (e, t, r, i, n, a) {
      var s,
          o,
          f,
          u = 8 * a - n - 1,
          h = (1 << u) - 1,
          c = h >> 1,
          d = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
          l = i ? 0 : a - 1,
          p = i ? 1 : -1,
          m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;

      for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (o = isNaN(t) ? 1 : 0, s = h) : (s = Math.floor(Math.log(t) / Math.LN2), t * (f = Math.pow(2, -s)) < 1 && (s--, f *= 2), (t += s + c >= 1 ? d / f : d * Math.pow(2, 1 - c)) * f >= 2 && (s++, f /= 2), s + c >= h ? (o = 0, s = h) : s + c >= 1 ? (o = (t * f - 1) * Math.pow(2, n), s += c) : (o = t * Math.pow(2, c - 1) * Math.pow(2, n), s = 0)); n >= 8; e[r + l] = 255 & o, l += p, o /= 256, n -= 8) {
        ;
      }

      for (s = s << n | o, u += n; u > 0; e[r + l] = 255 & s, l += p, s /= 256, u -= 8) {
        ;
      }

      e[r + l - p] |= 128 * m;
    };
  }, {}],
  135: [function (e, t, r) {
    "function" == typeof Object.create ? t.exports = function (e, t) {
      t && (e.super_ = t, e.prototype = Object.create(t.prototype, {
        constructor: {
          value: e,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }));
    } : t.exports = function (e, t) {
      if (t) {
        e.super_ = t;

        var r = function r() {};

        r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
      }
    };
  }, {}],
  136: [function (e, t, r) {
    function i(e) {
      return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);
    }
    /*!
     * Determine if an object is a Buffer
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */


    t.exports = function (e) {
      return null != e && (i(e) || function (e) {
        return "function" == typeof e.readFloatLE && "function" == typeof e.slice && i(e.slice(0, 0));
      }(e) || !!e._isBuffer);
    };
  }, {}],
  137: [function (e, t, r) {
    var i = {}.toString;

    t.exports = Array.isArray || function (e) {
      return "[object Array]" == i.call(e);
    };
  }, {}],
  138: [function (e, t, r) {
    "use strict";

    var i = e("inherits"),
        n = e("hash-base"),
        a = e("safe-buffer").Buffer,
        s = new Array(16);

    function o() {
      n.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878;
    }

    function f(e, t) {
      return e << t | e >>> 32 - t;
    }

    function u(e, t, r, i, n, a, s) {
      return f(e + (t & r | ~t & i) + n + a | 0, s) + t | 0;
    }

    function h(e, t, r, i, n, a, s) {
      return f(e + (t & i | r & ~i) + n + a | 0, s) + t | 0;
    }

    function c(e, t, r, i, n, a, s) {
      return f(e + (t ^ r ^ i) + n + a | 0, s) + t | 0;
    }

    function d(e, t, r, i, n, a, s) {
      return f(e + (r ^ (t | ~i)) + n + a | 0, s) + t | 0;
    }

    i(o, n), o.prototype._update = function () {
      for (var e = s, t = 0; t < 16; ++t) {
        e[t] = this._block.readInt32LE(4 * t);
      }

      var r = this._a,
          i = this._b,
          n = this._c,
          a = this._d;
      r = u(r, i, n, a, e[0], 3614090360, 7), a = u(a, r, i, n, e[1], 3905402710, 12), n = u(n, a, r, i, e[2], 606105819, 17), i = u(i, n, a, r, e[3], 3250441966, 22), r = u(r, i, n, a, e[4], 4118548399, 7), a = u(a, r, i, n, e[5], 1200080426, 12), n = u(n, a, r, i, e[6], 2821735955, 17), i = u(i, n, a, r, e[7], 4249261313, 22), r = u(r, i, n, a, e[8], 1770035416, 7), a = u(a, r, i, n, e[9], 2336552879, 12), n = u(n, a, r, i, e[10], 4294925233, 17), i = u(i, n, a, r, e[11], 2304563134, 22), r = u(r, i, n, a, e[12], 1804603682, 7), a = u(a, r, i, n, e[13], 4254626195, 12), n = u(n, a, r, i, e[14], 2792965006, 17), r = h(r, i = u(i, n, a, r, e[15], 1236535329, 22), n, a, e[1], 4129170786, 5), a = h(a, r, i, n, e[6], 3225465664, 9), n = h(n, a, r, i, e[11], 643717713, 14), i = h(i, n, a, r, e[0], 3921069994, 20), r = h(r, i, n, a, e[5], 3593408605, 5), a = h(a, r, i, n, e[10], 38016083, 9), n = h(n, a, r, i, e[15], 3634488961, 14), i = h(i, n, a, r, e[4], 3889429448, 20), r = h(r, i, n, a, e[9], 568446438, 5), a = h(a, r, i, n, e[14], 3275163606, 9), n = h(n, a, r, i, e[3], 4107603335, 14), i = h(i, n, a, r, e[8], 1163531501, 20), r = h(r, i, n, a, e[13], 2850285829, 5), a = h(a, r, i, n, e[2], 4243563512, 9), n = h(n, a, r, i, e[7], 1735328473, 14), r = c(r, i = h(i, n, a, r, e[12], 2368359562, 20), n, a, e[5], 4294588738, 4), a = c(a, r, i, n, e[8], 2272392833, 11), n = c(n, a, r, i, e[11], 1839030562, 16), i = c(i, n, a, r, e[14], 4259657740, 23), r = c(r, i, n, a, e[1], 2763975236, 4), a = c(a, r, i, n, e[4], 1272893353, 11), n = c(n, a, r, i, e[7], 4139469664, 16), i = c(i, n, a, r, e[10], 3200236656, 23), r = c(r, i, n, a, e[13], 681279174, 4), a = c(a, r, i, n, e[0], 3936430074, 11), n = c(n, a, r, i, e[3], 3572445317, 16), i = c(i, n, a, r, e[6], 76029189, 23), r = c(r, i, n, a, e[9], 3654602809, 4), a = c(a, r, i, n, e[12], 3873151461, 11), n = c(n, a, r, i, e[15], 530742520, 16), r = d(r, i = c(i, n, a, r, e[2], 3299628645, 23), n, a, e[0], 4096336452, 6), a = d(a, r, i, n, e[7], 1126891415, 10), n = d(n, a, r, i, e[14], 2878612391, 15), i = d(i, n, a, r, e[5], 4237533241, 21), r = d(r, i, n, a, e[12], 1700485571, 6), a = d(a, r, i, n, e[3], 2399980690, 10), n = d(n, a, r, i, e[10], 4293915773, 15), i = d(i, n, a, r, e[1], 2240044497, 21), r = d(r, i, n, a, e[8], 1873313359, 6), a = d(a, r, i, n, e[15], 4264355552, 10), n = d(n, a, r, i, e[6], 2734768916, 15), i = d(i, n, a, r, e[13], 1309151649, 21), r = d(r, i, n, a, e[4], 4149444226, 6), a = d(a, r, i, n, e[11], 3174756917, 10), n = d(n, a, r, i, e[2], 718787259, 15), i = d(i, n, a, r, e[9], 3951481745, 21), this._a = this._a + r | 0, this._b = this._b + i | 0, this._c = this._c + n | 0, this._d = this._d + a | 0;
    }, o.prototype._digest = function () {
      this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update();
      var e = a.allocUnsafe(16);
      return e.writeInt32LE(this._a, 0), e.writeInt32LE(this._b, 4), e.writeInt32LE(this._c, 8), e.writeInt32LE(this._d, 12), e;
    }, t.exports = o;
  }, {
    "hash-base": 105,
    inherits: 135,
    "safe-buffer": 183
  }],
  139: [function (e, t, r) {
    var i = e("bn.js"),
        n = e("brorand");

    function a(e) {
      this.rand = e || new n.Rand();
    }

    t.exports = a, a.create = function (e) {
      return new a(e);
    }, a.prototype._randbelow = function (e) {
      var t = e.bitLength(),
          r = Math.ceil(t / 8);

      do {
        var n = new i(this.rand.generate(r));
      } while (n.cmp(e) >= 0);

      return n;
    }, a.prototype._randrange = function (e, t) {
      var r = t.sub(e);
      return e.add(this._randbelow(r));
    }, a.prototype.test = function (e, t, r) {
      var n = e.bitLength(),
          a = i.mont(e),
          s = new i(1).toRed(a);
      t || (t = Math.max(1, n / 48 | 0));

      for (var o = e.subn(1), f = 0; !o.testn(f); f++) {
        ;
      }

      for (var u = e.shrn(f), h = o.toRed(a); t > 0; t--) {
        var c = this._randrange(new i(2), o);

        r && r(c);
        var d = c.toRed(a).redPow(u);

        if (0 !== d.cmp(s) && 0 !== d.cmp(h)) {
          for (var l = 1; l < f; l++) {
            if (0 === (d = d.redSqr()).cmp(s)) return !1;
            if (0 === d.cmp(h)) break;
          }

          if (l === f) return !1;
        }
      }

      return !0;
    }, a.prototype.getDivisor = function (e, t) {
      var r = e.bitLength(),
          n = i.mont(e),
          a = new i(1).toRed(n);
      t || (t = Math.max(1, r / 48 | 0));

      for (var s = e.subn(1), o = 0; !s.testn(o); o++) {
        ;
      }

      for (var f = e.shrn(o), u = s.toRed(n); t > 0; t--) {
        var h = this._randrange(new i(2), s),
            c = e.gcd(h);

        if (0 !== c.cmpn(1)) return c;
        var d = h.toRed(n).redPow(f);

        if (0 !== d.cmp(a) && 0 !== d.cmp(u)) {
          for (var l = 1; l < o; l++) {
            if (0 === (d = d.redSqr()).cmp(a)) return d.fromRed().subn(1).gcd(e);
            if (0 === d.cmp(u)) break;
          }

          if (l === o) return (d = d.redSqr()).fromRed().subn(1).gcd(e);
        }
      }

      return !1;
    };
  }, {
    "bn.js": 140,
    brorand: 18
  }],
  140: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  141: [function (e, t, r) {
    function i(e, t) {
      if (!e) throw new Error(t || "Assertion failed");
    }

    t.exports = i, i.equal = function (e, t, r) {
      if (e != t) throw new Error(r || "Assertion failed: " + e + " != " + t);
    };
  }, {}],
  142: [function (e, t, r) {
    "use strict";

    var i = r;

    function n(e) {
      return 1 === e.length ? "0" + e : e;
    }

    function a(e) {
      for (var t = "", r = 0; r < e.length; r++) {
        t += n(e[r].toString(16));
      }

      return t;
    }

    i.toArray = function (e, t) {
      if (Array.isArray(e)) return e.slice();
      if (!e) return [];
      var r = [];

      if ("string" != typeof e) {
        for (var i = 0; i < e.length; i++) {
          r[i] = 0 | e[i];
        }

        return r;
      }

      if ("hex" === t) {
        (e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (e = "0" + e);

        for (i = 0; i < e.length; i += 2) {
          r.push(parseInt(e[i] + e[i + 1], 16));
        }
      } else for (i = 0; i < e.length; i++) {
        var n = e.charCodeAt(i),
            a = n >> 8,
            s = 255 & n;
        a ? r.push(a, s) : r.push(s);
      }

      return r;
    }, i.zero2 = n, i.toHex = a, i.encode = function (e, t) {
      return "hex" === t ? a(e) : e;
    };
  }, {}],
  143: [function (e, t, r) {
    var i,
        n,
        a = (i = new Date(), n = 4, {
      setLogLevel: function setLogLevel(e) {
        n = e == this.debug ? 1 : e == this.info ? 2 : e == this.warn ? 3 : (this.error, 4);
      },
      debug: function debug(e, t) {
        void 0 === console.debug && (console.debug = console.log), 1 >= n && console.debug("[" + a.getDurationString(new Date() - i, 1e3) + "]", "[" + e + "]", t);
      },
      log: function log(e, t) {
        this.debug(e.msg);
      },
      info: function info(e, t) {
        2 >= n && console.info("[" + a.getDurationString(new Date() - i, 1e3) + "]", "[" + e + "]", t);
      },
      warn: function warn(e, t) {
        3 >= n && console.warn("[" + a.getDurationString(new Date() - i, 1e3) + "]", "[" + e + "]", t);
      },
      error: function error(e, t) {
        4 >= n && console.error("[" + a.getDurationString(new Date() - i, 1e3) + "]", "[" + e + "]", t);
      }
    });
    a.getDurationString = function (e, t) {
      var r;

      function i(e, t) {
        for (var r = ("" + e).split("."); r[0].length < t;) {
          r[0] = "0" + r[0];
        }

        return r.join(".");
      }

      e < 0 ? (r = !0, e = -e) : r = !1;
      var n = e / (t || 1),
          a = Math.floor(n / 3600);
      n -= 3600 * a;
      var s = Math.floor(n / 60),
          o = 1e3 * (n -= 60 * s);
      return o -= 1e3 * (n = Math.floor(n)), o = Math.floor(o), (r ? "-" : "") + a + ":" + i(s, 2) + ":" + i(n, 2) + "." + i(o, 3);
    }, a.printRanges = function (e) {
      var t = e.length;

      if (t > 0) {
        for (var r = "", i = 0; i < t; i++) {
          i > 0 && (r += ","), r += "[" + a.getDurationString(e.start(i)) + "," + a.getDurationString(e.end(i)) + "]";
        }

        return r;
      }

      return "(empty)";
    }, void 0 !== r && (r.Log = a);

    var s = function s(e) {
      if (!(e instanceof ArrayBuffer)) throw "Needs an array buffer";
      this.buffer = e, this.dataview = new DataView(e), this.position = 0;
    };

    s.prototype.getPosition = function () {
      return this.position;
    }, s.prototype.getEndPosition = function () {
      return this.buffer.byteLength;
    }, s.prototype.getLength = function () {
      return this.buffer.byteLength;
    }, s.prototype.seek = function (e) {
      var t = Math.max(0, Math.min(this.buffer.byteLength, e));
      return this.position = isNaN(t) || !isFinite(t) ? 0 : t, !0;
    }, s.prototype.isEos = function () {
      return this.getPosition() >= this.getEndPosition();
    }, s.prototype.readAnyInt = function (e, t) {
      var r = 0;

      if (this.position + e <= this.buffer.byteLength) {
        switch (e) {
          case 1:
            r = t ? this.dataview.getInt8(this.position) : this.dataview.getUint8(this.position);
            break;

          case 2:
            r = t ? this.dataview.getInt16(this.position) : this.dataview.getUint16(this.position);
            break;

          case 3:
            if (t) throw "No method for reading signed 24 bits values";
            r = this.dataview.getUint8(this.position) << 16, r |= this.dataview.getUint8(this.position) << 8, r |= this.dataview.getUint8(this.position);
            break;

          case 4:
            r = t ? this.dataview.getInt32(this.position) : this.dataview.getUint32(this.position);
            break;

          case 8:
            if (t) throw "No method for reading signed 64 bits values";
            r = this.dataview.getUint32(this.position) << 32, r |= this.dataview.getUint32(this.position);
            break;

          default:
            throw "readInt method not implemented for size: " + e;
        }

        return this.position += e, r;
      }

      throw "Not enough bytes in buffer";
    }, s.prototype.readUint8 = function () {
      return this.readAnyInt(1, !1);
    }, s.prototype.readUint16 = function () {
      return this.readAnyInt(2, !1);
    }, s.prototype.readUint24 = function () {
      return this.readAnyInt(3, !1);
    }, s.prototype.readUint32 = function () {
      return this.readAnyInt(4, !1);
    }, s.prototype.readUint64 = function () {
      return this.readAnyInt(8, !1);
    }, s.prototype.readString = function (e) {
      if (this.position + e <= this.buffer.byteLength) {
        for (var t = "", r = 0; r < e; r++) {
          t += String.fromCharCode(this.readUint8());
        }

        return t;
      }

      throw "Not enough bytes in buffer";
    }, s.prototype.readCString = function () {
      for (var e = [];;) {
        var t = this.readUint8();
        if (0 === t) break;
        e.push(t);
      }

      return String.fromCharCode.apply(null, e);
    }, s.prototype.readInt8 = function () {
      return this.readAnyInt(1, !0);
    }, s.prototype.readInt16 = function () {
      return this.readAnyInt(2, !0);
    }, s.prototype.readInt32 = function () {
      return this.readAnyInt(4, !0);
    }, s.prototype.readInt64 = function () {
      return this.readAnyInt(8, !1);
    }, s.prototype.readUint8Array = function (e) {
      for (var t = new Uint8Array(e), r = 0; r < e; r++) {
        t[r] = this.readUint8();
      }

      return t;
    }, s.prototype.readInt16Array = function (e) {
      for (var t = new Int16Array(e), r = 0; r < e; r++) {
        t[r] = this.readInt16();
      }

      return t;
    }, s.prototype.readUint16Array = function (e) {
      for (var t = new Int16Array(e), r = 0; r < e; r++) {
        t[r] = this.readUint16();
      }

      return t;
    }, s.prototype.readUint32Array = function (e) {
      for (var t = new Uint32Array(e), r = 0; r < e; r++) {
        t[r] = this.readUint32();
      }

      return t;
    }, s.prototype.readInt32Array = function (e) {
      for (var t = new Int32Array(e), r = 0; r < e; r++) {
        t[r] = this.readInt32();
      }

      return t;
    }, void 0 !== r && (r.MP4BoxStream = s);

    var o = function o(e, t, r) {
      this._byteOffset = t || 0, e instanceof ArrayBuffer ? this.buffer = e : "object" == _typeof(e) ? (this.dataView = e, t && (this._byteOffset += t)) : this.buffer = new ArrayBuffer(e || 0), this.position = 0, this.endianness = null == r ? o.LITTLE_ENDIAN : r;
    };

    o.prototype = {}, o.prototype.getPosition = function () {
      return this.position;
    }, o.prototype._realloc = function (e) {
      if (this._dynamicSize) {
        var t = this._byteOffset + this.position + e,
            r = this._buffer.byteLength;
        if (t <= r) t > this._byteLength && (this._byteLength = t);else {
          for (r < 1 && (r = 1); t > r;) {
            r *= 2;
          }

          var i = new ArrayBuffer(r),
              n = new Uint8Array(this._buffer);
          new Uint8Array(i, 0, n.length).set(n), this.buffer = i, this._byteLength = t;
        }
      }
    }, o.prototype._trimAlloc = function () {
      if (this._byteLength != this._buffer.byteLength) {
        var e = new ArrayBuffer(this._byteLength),
            t = new Uint8Array(e),
            r = new Uint8Array(this._buffer, 0, t.length);
        t.set(r), this.buffer = e;
      }
    }, o.BIG_ENDIAN = !1, o.LITTLE_ENDIAN = !0, o.prototype._byteLength = 0, Object.defineProperty(o.prototype, "byteLength", {
      get: function get() {
        return this._byteLength - this._byteOffset;
      }
    }), Object.defineProperty(o.prototype, "buffer", {
      get: function get() {
        return this._trimAlloc(), this._buffer;
      },
      set: function set(e) {
        this._buffer = e, this._dataView = new DataView(this._buffer, this._byteOffset), this._byteLength = this._buffer.byteLength;
      }
    }), Object.defineProperty(o.prototype, "byteOffset", {
      get: function get() {
        return this._byteOffset;
      },
      set: function set(e) {
        this._byteOffset = e, this._dataView = new DataView(this._buffer, this._byteOffset), this._byteLength = this._buffer.byteLength;
      }
    }), Object.defineProperty(o.prototype, "dataView", {
      get: function get() {
        return this._dataView;
      },
      set: function set(e) {
        this._byteOffset = e.byteOffset, this._buffer = e.buffer, this._dataView = new DataView(this._buffer, this._byteOffset), this._byteLength = this._byteOffset + e.byteLength;
      }
    }), o.prototype.seek = function (e) {
      var t = Math.max(0, Math.min(this.byteLength, e));
      this.position = isNaN(t) || !isFinite(t) ? 0 : t;
    }, o.prototype.isEof = function () {
      return this.position >= this._byteLength;
    }, o.prototype.mapUint8Array = function (e) {
      this._realloc(1 * e);

      var t = new Uint8Array(this._buffer, this.byteOffset + this.position, e);
      return this.position += 1 * e, t;
    }, o.prototype.readInt32Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 4 : e;
      var r = new Int32Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readInt16Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 2 : e;
      var r = new Int16Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readInt8Array = function (e) {
      e = null == e ? this.byteLength - this.position : e;
      var t = new Int8Array(e);
      return o.memcpy(t.buffer, 0, this.buffer, this.byteOffset + this.position, e * t.BYTES_PER_ELEMENT), this.position += t.byteLength, t;
    }, o.prototype.readUint32Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 4 : e;
      var r = new Uint32Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readUint16Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 2 : e;
      var r = new Uint16Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readUint8Array = function (e) {
      e = null == e ? this.byteLength - this.position : e;
      var t = new Uint8Array(e);
      return o.memcpy(t.buffer, 0, this.buffer, this.byteOffset + this.position, e * t.BYTES_PER_ELEMENT), this.position += t.byteLength, t;
    }, o.prototype.readFloat64Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 8 : e;
      var r = new Float64Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readFloat32Array = function (e, t) {
      e = null == e ? this.byteLength - this.position / 4 : e;
      var r = new Float32Array(e);
      return o.memcpy(r.buffer, 0, this.buffer, this.byteOffset + this.position, e * r.BYTES_PER_ELEMENT), o.arrayToNative(r, null == t ? this.endianness : t), this.position += r.byteLength, r;
    }, o.prototype.readInt32 = function (e) {
      var t = this._dataView.getInt32(this.position, null == e ? this.endianness : e);

      return this.position += 4, t;
    }, o.prototype.readInt16 = function (e) {
      var t = this._dataView.getInt16(this.position, null == e ? this.endianness : e);

      return this.position += 2, t;
    }, o.prototype.readInt8 = function () {
      var e = this._dataView.getInt8(this.position);

      return this.position += 1, e;
    }, o.prototype.readUint32 = function (e) {
      var t = this._dataView.getUint32(this.position, null == e ? this.endianness : e);

      return this.position += 4, t;
    }, o.prototype.readUint16 = function (e) {
      var t = this._dataView.getUint16(this.position, null == e ? this.endianness : e);

      return this.position += 2, t;
    }, o.prototype.readUint8 = function () {
      var e = this._dataView.getUint8(this.position);

      return this.position += 1, e;
    }, o.prototype.readFloat32 = function (e) {
      var t = this._dataView.getFloat32(this.position, null == e ? this.endianness : e);

      return this.position += 4, t;
    }, o.prototype.readFloat64 = function (e) {
      var t = this._dataView.getFloat64(this.position, null == e ? this.endianness : e);

      return this.position += 8, t;
    }, o.endianness = new Int8Array(new Int16Array([1]).buffer)[0] > 0, o.memcpy = function (e, t, r, i, n) {
      var a = new Uint8Array(e, t, n),
          s = new Uint8Array(r, i, n);
      a.set(s);
    }, o.arrayToNative = function (e, t) {
      return t == this.endianness ? e : this.flipArrayEndianness(e);
    }, o.nativeToEndian = function (e, t) {
      return this.endianness == t ? e : this.flipArrayEndianness(e);
    }, o.flipArrayEndianness = function (e) {
      for (var t = new Uint8Array(e.buffer, e.byteOffset, e.byteLength), r = 0; r < e.byteLength; r += e.BYTES_PER_ELEMENT) {
        for (var i = r + e.BYTES_PER_ELEMENT - 1, n = r; i > n; i--, n++) {
          var a = t[n];
          t[n] = t[i], t[i] = a;
        }
      }

      return e;
    }, o.prototype.failurePosition = 0, String.fromCharCodeUint8 = function (e) {
      for (var t = [], r = 0; r < e.length; r++) {
        t[r] = e[r];
      }

      return String.fromCharCode.apply(null, t);
    }, o.prototype.readString = function (e, t) {
      return null == t || "ASCII" == t ? String.fromCharCodeUint8.apply(null, [this.mapUint8Array(null == e ? this.byteLength - this.position : e)]) : new TextDecoder(t).decode(this.mapUint8Array(e));
    }, o.prototype.readCString = function (e) {
      var t = this.byteLength - this.position,
          r = new Uint8Array(this._buffer, this._byteOffset + this.position),
          i = t;
      null != e && (i = Math.min(e, t));

      for (var n = 0; n < i && 0 !== r[n]; n++) {
        ;
      }

      var a = String.fromCharCodeUint8.apply(null, [this.mapUint8Array(n)]);
      return null != e ? this.position += i - n : n != t && (this.position += 1), a;
    };
    var f = Math.pow(2, 32);
    o.prototype.readInt64 = function () {
      return this.readInt32() * f + this.readUint32();
    }, o.prototype.readUint64 = function () {
      return this.readUint32() * f + this.readUint32();
    }, o.prototype.readInt64 = function () {
      return this.readUint32() * f + this.readUint32();
    }, o.prototype.readUint24 = function () {
      return (this.readUint8() << 16) + (this.readUint8() << 8) + this.readUint8();
    }, void 0 !== r && (r.DataStream = o), o.prototype.save = function (e) {
      var t = new Blob([this.buffer]);
      if (!window.URL || !URL.createObjectURL) throw "DataStream.save: Can't create object URL.";
      var r = window.URL.createObjectURL(t),
          i = document.createElement("a");
      document.body.appendChild(i), i.setAttribute("href", r), i.setAttribute("download", e), i.setAttribute("target", "_self"), i.click(), window.URL.revokeObjectURL(r);
    }, o.prototype._dynamicSize = !0, Object.defineProperty(o.prototype, "dynamicSize", {
      get: function get() {
        return this._dynamicSize;
      },
      set: function set(e) {
        e || this._trimAlloc(), this._dynamicSize = e;
      }
    }), o.prototype.shift = function (e) {
      var t = new ArrayBuffer(this._byteLength - e),
          r = new Uint8Array(t),
          i = new Uint8Array(this._buffer, e, r.length);
      r.set(i), this.buffer = t, this.position -= e;
    }, o.prototype.writeInt32Array = function (e, t) {
      if (this._realloc(4 * e.length), e instanceof Int32Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapInt32Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeInt32(e[r], t);
      }
    }, o.prototype.writeInt16Array = function (e, t) {
      if (this._realloc(2 * e.length), e instanceof Int16Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapInt16Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeInt16(e[r], t);
      }
    }, o.prototype.writeInt8Array = function (e) {
      if (this._realloc(1 * e.length), e instanceof Int8Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapInt8Array(e.length);else for (var t = 0; t < e.length; t++) {
        this.writeInt8(e[t]);
      }
    }, o.prototype.writeUint32Array = function (e, t) {
      if (this._realloc(4 * e.length), e instanceof Uint32Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapUint32Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeUint32(e[r], t);
      }
    }, o.prototype.writeUint16Array = function (e, t) {
      if (this._realloc(2 * e.length), e instanceof Uint16Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapUint16Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeUint16(e[r], t);
      }
    }, o.prototype.writeUint8Array = function (e) {
      if (this._realloc(1 * e.length), e instanceof Uint8Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapUint8Array(e.length);else for (var t = 0; t < e.length; t++) {
        this.writeUint8(e[t]);
      }
    }, o.prototype.writeFloat64Array = function (e, t) {
      if (this._realloc(8 * e.length), e instanceof Float64Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapFloat64Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeFloat64(e[r], t);
      }
    }, o.prototype.writeFloat32Array = function (e, t) {
      if (this._realloc(4 * e.length), e instanceof Float32Array && this.byteOffset + this.position % e.BYTES_PER_ELEMENT === 0) o.memcpy(this._buffer, this.byteOffset + this.position, e.buffer, 0, e.byteLength), this.mapFloat32Array(e.length, t);else for (var r = 0; r < e.length; r++) {
        this.writeFloat32(e[r], t);
      }
    }, o.prototype.writeInt32 = function (e, t) {
      this._realloc(4), this._dataView.setInt32(this.position, e, null == t ? this.endianness : t), this.position += 4;
    }, o.prototype.writeInt16 = function (e, t) {
      this._realloc(2), this._dataView.setInt16(this.position, e, null == t ? this.endianness : t), this.position += 2;
    }, o.prototype.writeInt8 = function (e) {
      this._realloc(1), this._dataView.setInt8(this.position, e), this.position += 1;
    }, o.prototype.writeUint32 = function (e, t) {
      this._realloc(4), this._dataView.setUint32(this.position, e, null == t ? this.endianness : t), this.position += 4;
    }, o.prototype.writeUint16 = function (e, t) {
      this._realloc(2), this._dataView.setUint16(this.position, e, null == t ? this.endianness : t), this.position += 2;
    }, o.prototype.writeUint8 = function (e) {
      this._realloc(1), this._dataView.setUint8(this.position, e), this.position += 1;
    }, o.prototype.writeFloat32 = function (e, t) {
      this._realloc(4), this._dataView.setFloat32(this.position, e, null == t ? this.endianness : t), this.position += 4;
    }, o.prototype.writeFloat64 = function (e, t) {
      this._realloc(8), this._dataView.setFloat64(this.position, e, null == t ? this.endianness : t), this.position += 8;
    }, o.prototype.writeUCS2String = function (e, t, r) {
      null == r && (r = e.length);

      for (var i = 0; i < e.length && i < r; i++) {
        this.writeUint16(e.charCodeAt(i), t);
      }

      for (; i < r; i++) {
        this.writeUint16(0);
      }
    }, o.prototype.writeString = function (e, t, r) {
      var i = 0;
      if (null == t || "ASCII" == t) {
        if (null != r) {
          var n = Math.min(e.length, r);

          for (i = 0; i < n; i++) {
            this.writeUint8(e.charCodeAt(i));
          }

          for (; i < r; i++) {
            this.writeUint8(0);
          }
        } else for (i = 0; i < e.length; i++) {
          this.writeUint8(e.charCodeAt(i));
        }
      } else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0, r)));
    }, o.prototype.writeCString = function (e, t) {
      var r = 0;

      if (null != t) {
        var i = Math.min(e.length, t);

        for (r = 0; r < i; r++) {
          this.writeUint8(e.charCodeAt(r));
        }

        for (; r < t; r++) {
          this.writeUint8(0);
        }
      } else {
        for (r = 0; r < e.length; r++) {
          this.writeUint8(e.charCodeAt(r));
        }

        this.writeUint8(0);
      }
    }, o.prototype.writeStruct = function (e, t) {
      for (var r = 0; r < e.length; r += 2) {
        var i = e[r + 1];
        this.writeType(i, t[e[r]], t);
      }
    }, o.prototype.writeType = function (e, t, r) {
      var i;
      if ("function" == typeof e) return e(this, t);
      if ("object" == _typeof(e) && !(e instanceof Array)) return e.set(this, t, r);
      var n = null,
          a = "ASCII",
          s = this.position;

      switch ("string" == typeof e && /:/.test(e) && (i = e.split(":"), e = i[0], n = parseInt(i[1])), "string" == typeof e && /,/.test(e) && (i = e.split(","), e = i[0], a = parseInt(i[1])), e) {
        case "uint8":
          this.writeUint8(t);
          break;

        case "int8":
          this.writeInt8(t);
          break;

        case "uint16":
          this.writeUint16(t, this.endianness);
          break;

        case "int16":
          this.writeInt16(t, this.endianness);
          break;

        case "uint32":
          this.writeUint32(t, this.endianness);
          break;

        case "int32":
          this.writeInt32(t, this.endianness);
          break;

        case "float32":
          this.writeFloat32(t, this.endianness);
          break;

        case "float64":
          this.writeFloat64(t, this.endianness);
          break;

        case "uint16be":
          this.writeUint16(t, o.BIG_ENDIAN);
          break;

        case "int16be":
          this.writeInt16(t, o.BIG_ENDIAN);
          break;

        case "uint32be":
          this.writeUint32(t, o.BIG_ENDIAN);
          break;

        case "int32be":
          this.writeInt32(t, o.BIG_ENDIAN);
          break;

        case "float32be":
          this.writeFloat32(t, o.BIG_ENDIAN);
          break;

        case "float64be":
          this.writeFloat64(t, o.BIG_ENDIAN);
          break;

        case "uint16le":
          this.writeUint16(t, o.LITTLE_ENDIAN);
          break;

        case "int16le":
          this.writeInt16(t, o.LITTLE_ENDIAN);
          break;

        case "uint32le":
          this.writeUint32(t, o.LITTLE_ENDIAN);
          break;

        case "int32le":
          this.writeInt32(t, o.LITTLE_ENDIAN);
          break;

        case "float32le":
          this.writeFloat32(t, o.LITTLE_ENDIAN);
          break;

        case "float64le":
          this.writeFloat64(t, o.LITTLE_ENDIAN);
          break;

        case "cstring":
          this.writeCString(t, n);
          break;

        case "string":
          this.writeString(t, a, n);
          break;

        case "u16string":
          this.writeUCS2String(t, this.endianness, n);
          break;

        case "u16stringle":
          this.writeUCS2String(t, o.LITTLE_ENDIAN, n);
          break;

        case "u16stringbe":
          this.writeUCS2String(t, o.BIG_ENDIAN, n);
          break;

        default:
          if (3 == e.length) {
            for (var f = e[1], u = 0; u < t.length; u++) {
              this.writeType(f, t[u]);
            }

            break;
          }

          this.writeStruct(e, t);
      }

      null != n && (this.position = s, this._realloc(n), this.position = s + n);
    }, o.prototype.writeUint64 = function (e) {
      var t = Math.floor(e / f);
      this.writeUint32(t), this.writeUint32(4294967295 & e);
    }, o.prototype.writeUint24 = function (e) {
      this.writeUint8((16711680 & e) >> 16), this.writeUint8((65280 & e) >> 8), this.writeUint8(255 & e);
    }, o.prototype.adjustUint32 = function (e, t) {
      var r = this.position;
      this.seek(e), this.writeUint32(t), this.seek(r);
    }, o.prototype.mapInt32Array = function (e, t) {
      this._realloc(4 * e);

      var r = new Int32Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 4 * e, r;
    }, o.prototype.mapInt16Array = function (e, t) {
      this._realloc(2 * e);

      var r = new Int16Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 2 * e, r;
    }, o.prototype.mapInt8Array = function (e) {
      this._realloc(1 * e);

      var t = new Int8Array(this._buffer, this.byteOffset + this.position, e);
      return this.position += 1 * e, t;
    }, o.prototype.mapUint32Array = function (e, t) {
      this._realloc(4 * e);

      var r = new Uint32Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 4 * e, r;
    }, o.prototype.mapUint16Array = function (e, t) {
      this._realloc(2 * e);

      var r = new Uint16Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 2 * e, r;
    }, o.prototype.mapFloat64Array = function (e, t) {
      this._realloc(8 * e);

      var r = new Float64Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 8 * e, r;
    }, o.prototype.mapFloat32Array = function (e, t) {
      this._realloc(4 * e);

      var r = new Float32Array(this._buffer, this.byteOffset + this.position, e);
      return o.arrayToNative(r, null == t ? this.endianness : t), this.position += 4 * e, r;
    };

    var u = function u(e) {
      this.buffers = [], this.bufferIndex = -1, e && (this.insertBuffer(e), this.bufferIndex = 0);
    };

    (u.prototype = new o(new ArrayBuffer(), 0, o.BIG_ENDIAN)).initialized = function () {
      var e;
      return this.bufferIndex > -1 || (this.buffers.length > 0 ? 0 === (e = this.buffers[0]).fileStart ? (this.buffer = e, this.bufferIndex = 0, a.debug("MultiBufferStream", "Stream ready for parsing"), !0) : (a.warn("MultiBufferStream", "The first buffer should have a fileStart of 0"), this.logBufferLevel(), !1) : (a.warn("MultiBufferStream", "No buffer to start parsing from"), this.logBufferLevel(), !1));
    }, ArrayBuffer.concat = function (e, t) {
      a.debug("ArrayBuffer", "Trying to create a new buffer of size: " + (e.byteLength + t.byteLength));
      var r = new Uint8Array(e.byteLength + t.byteLength);
      return r.set(new Uint8Array(e), 0), r.set(new Uint8Array(t), e.byteLength), r.buffer;
    }, u.prototype.reduceBuffer = function (e, t, r) {
      var i;
      return (i = new Uint8Array(r)).set(new Uint8Array(e, t, r)), i.buffer.fileStart = e.fileStart + t, i.buffer.usedBytes = 0, i.buffer;
    }, u.prototype.insertBuffer = function (e) {
      for (var t = !0, r = 0; r < this.buffers.length; r++) {
        var i = this.buffers[r];

        if (e.fileStart <= i.fileStart) {
          if (e.fileStart === i.fileStart) {
            if (e.byteLength > i.byteLength) {
              this.buffers.splice(r, 1), r--;
              continue;
            }

            a.warn("MultiBufferStream", "Buffer (fileStart: " + e.fileStart + " - Length: " + e.byteLength + ") already appended, ignoring");
          } else e.fileStart + e.byteLength <= i.fileStart || (e = this.reduceBuffer(e, 0, i.fileStart - e.fileStart)), a.debug("MultiBufferStream", "Appending new buffer (fileStart: " + e.fileStart + " - Length: " + e.byteLength + ")"), this.buffers.splice(r, 0, e), 0 === r && (this.buffer = e);

          t = !1;
          break;
        }

        if (e.fileStart < i.fileStart + i.byteLength) {
          var n = i.fileStart + i.byteLength - e.fileStart,
              s = e.byteLength - n;

          if (!(s > 0)) {
            t = !1;
            break;
          }

          e = this.reduceBuffer(e, n, s);
        }
      }

      t && (a.debug("MultiBufferStream", "Appending new buffer (fileStart: " + e.fileStart + " - Length: " + e.byteLength + ")"), this.buffers.push(e), 0 === r && (this.buffer = e));
    }, u.prototype.logBufferLevel = function (e) {
      var t,
          r,
          i,
          n,
          s,
          o = [],
          f = "";

      for (i = 0, n = 0, t = 0; t < this.buffers.length; t++) {
        r = this.buffers[t], 0 === t ? (s = {}, o.push(s), s.start = r.fileStart, s.end = r.fileStart + r.byteLength, f += "[" + s.start + "-") : s.end === r.fileStart ? s.end = r.fileStart + r.byteLength : ((s = {}).start = r.fileStart, f += o[o.length - 1].end - 1 + "], [" + s.start + "-", s.end = r.fileStart + r.byteLength, o.push(s)), i += r.usedBytes, n += r.byteLength;
      }

      o.length > 0 && (f += s.end - 1 + "]");
      var u = e ? a.info : a.debug;
      0 === this.buffers.length ? u("MultiBufferStream", "No more buffer in memory") : u("MultiBufferStream", this.buffers.length + " stored buffer(s) (" + i + "/" + n + " bytes): " + f);
    }, u.prototype.cleanBuffers = function () {
      var e, t;

      for (e = 0; e < this.buffers.length; e++) {
        (t = this.buffers[e]).usedBytes === t.byteLength && (a.debug("MultiBufferStream", "Removing buffer #" + e), this.buffers.splice(e, 1), e--);
      }
    }, u.prototype.mergeNextBuffer = function () {
      var e;

      if (this.bufferIndex + 1 < this.buffers.length) {
        if ((e = this.buffers[this.bufferIndex + 1]).fileStart === this.buffer.fileStart + this.buffer.byteLength) {
          var t = this.buffer.byteLength,
              r = this.buffer.usedBytes,
              i = this.buffer.fileStart;
          return this.buffers[this.bufferIndex] = ArrayBuffer.concat(this.buffer, e), this.buffer = this.buffers[this.bufferIndex], this.buffers.splice(this.bufferIndex + 1, 1), this.buffer.usedBytes = r, this.buffer.fileStart = i, a.debug("ISOFile", "Concatenating buffer for box parsing (length: " + t + "->" + this.buffer.byteLength + ")"), !0;
        }

        return !1;
      }

      return !1;
    }, u.prototype.findPosition = function (e, t, r) {
      var i,
          n = null,
          s = -1;

      for (i = !0 === e ? 0 : this.bufferIndex; i < this.buffers.length && (n = this.buffers[i]).fileStart <= t;) {
        s = i, r && (n.fileStart + n.byteLength <= t ? n.usedBytes = n.byteLength : n.usedBytes = t - n.fileStart, this.logBufferLevel()), i++;
      }

      return -1 !== s && (n = this.buffers[s]).fileStart + n.byteLength >= t ? (a.debug("MultiBufferStream", "Found position in existing buffer #" + s), s) : -1;
    }, u.prototype.findEndContiguousBuf = function (e) {
      var t,
          r,
          i,
          n = void 0 !== e ? e : this.bufferIndex;
      if (r = this.buffers[n], this.buffers.length > n + 1) for (t = n + 1; t < this.buffers.length && (i = this.buffers[t]).fileStart === r.fileStart + r.byteLength; t++) {
        r = i;
      }
      return r.fileStart + r.byteLength;
    }, u.prototype.getEndFilePositionAfter = function (e) {
      var t = this.findPosition(!0, e, !1);
      return -1 !== t ? this.findEndContiguousBuf(t) : e;
    }, u.prototype.addUsedBytes = function (e) {
      this.buffer.usedBytes += e, this.logBufferLevel();
    }, u.prototype.setAllUsedBytes = function () {
      this.buffer.usedBytes = this.buffer.byteLength, this.logBufferLevel();
    }, u.prototype.seek = function (e, t, r) {
      var i;
      return -1 !== (i = this.findPosition(t, e, r)) ? (this.buffer = this.buffers[i], this.bufferIndex = i, this.position = e - this.buffer.fileStart, a.debug("MultiBufferStream", "Repositioning parser at buffer position: " + this.position), !0) : (a.debug("MultiBufferStream", "Position " + e + " not found in buffered data"), !1);
    }, u.prototype.getPosition = function () {
      if (-1 === this.bufferIndex || null === this.buffers[this.bufferIndex]) throw "Error accessing position in the MultiBufferStream";
      return this.buffers[this.bufferIndex].fileStart + this.position;
    }, u.prototype.getLength = function () {
      return this.byteLength;
    }, u.prototype.getEndPosition = function () {
      if (-1 === this.bufferIndex || null === this.buffers[this.bufferIndex]) throw "Error accessing position in the MultiBufferStream";
      return this.buffers[this.bufferIndex].fileStart + this.byteLength;
    }, void 0 !== r && (r.MultiBufferStream = u);

    var h = function h() {
      var e = [];
      e[3] = "ES_Descriptor", e[4] = "DecoderConfigDescriptor", e[5] = "DecoderSpecificInfo", e[6] = "SLConfigDescriptor", this.getDescriptorName = function (t) {
        return e[t];
      };
      var t = this,
          r = {};
      return this.parseOneDescriptor = function (t) {
        var i,
            n,
            s,
            o = 0;

        for (i = t.readUint8(), s = t.readUint8(); 128 & s;) {
          o = (127 & s) << 7, s = t.readUint8();
        }

        return o += 127 & s, a.debug("MPEG4DescriptorParser", "Found " + (e[i] || "Descriptor " + i) + ", size " + o + " at position " + t.getPosition()), (n = e[i] ? new r[e[i]](o) : new r.Descriptor(o)).parse(t), n;
      }, r.Descriptor = function (e, t) {
        this.tag = e, this.size = t, this.descs = [];
      }, r.Descriptor.prototype.parse = function (e) {
        this.data = e.readUint8Array(this.size);
      }, r.Descriptor.prototype.findDescriptor = function (e) {
        for (var t = 0; t < this.descs.length; t++) {
          if (this.descs[t].tag == e) return this.descs[t];
        }

        return null;
      }, r.Descriptor.prototype.parseRemainingDescriptors = function (e) {
        for (var r = e.position; e.position < r + this.size;) {
          var i = t.parseOneDescriptor(e);
          this.descs.push(i);
        }
      }, r.ES_Descriptor = function (e) {
        r.Descriptor.call(this, 3, e);
      }, r.ES_Descriptor.prototype = new r.Descriptor(), r.ES_Descriptor.prototype.parse = function (e) {
        if (this.ES_ID = e.readUint16(), this.flags = e.readUint8(), this.size -= 3, 128 & this.flags ? (this.dependsOn_ES_ID = e.readUint16(), this.size -= 2) : this.dependsOn_ES_ID = 0, 64 & this.flags) {
          var t = e.readUint8();
          this.URL = e.readString(t), this.size -= t + 1;
        } else this.URL = "";

        32 & this.flags ? (this.OCR_ES_ID = e.readUint16(), this.size -= 2) : this.OCR_ES_ID = 0, this.parseRemainingDescriptors(e);
      }, r.ES_Descriptor.prototype.getOTI = function (e) {
        var t = this.findDescriptor(4);
        return t ? t.oti : 0;
      }, r.ES_Descriptor.prototype.getAudioConfig = function (e) {
        var t = this.findDescriptor(4);
        if (!t) return null;
        var r = t.findDescriptor(5);

        if (r && r.data) {
          var i = (248 & r.data[0]) >> 3;
          return 31 === i && r.data.length >= 2 && (i = 32 + ((7 & r.data[0]) << 3) + ((224 & r.data[1]) >> 5)), i;
        }

        return null;
      }, r.DecoderConfigDescriptor = function (e) {
        r.Descriptor.call(this, 4, e);
      }, r.DecoderConfigDescriptor.prototype = new r.Descriptor(), r.DecoderConfigDescriptor.prototype.parse = function (e) {
        this.oti = e.readUint8(), this.streamType = e.readUint8(), this.bufferSize = e.readUint24(), this.maxBitrate = e.readUint32(), this.avgBitrate = e.readUint32(), this.size -= 13, this.parseRemainingDescriptors(e);
      }, r.DecoderSpecificInfo = function (e) {
        r.Descriptor.call(this, 5, e);
      }, r.DecoderSpecificInfo.prototype = new r.Descriptor(), r.SLConfigDescriptor = function (e) {
        r.Descriptor.call(this, 6, e);
      }, r.SLConfigDescriptor.prototype = new r.Descriptor(), this;
    };

    void 0 !== r && (r.MPEG4DescriptorParser = h);
    var c = {
      ERR_INVALID_DATA: -1,
      ERR_NOT_ENOUGH_DATA: 0,
      OK: 1,
      BASIC_BOXES: ["mdat", "idat", "free", "skip", "meco", "strk"],
      FULL_BOXES: ["hmhd", "nmhd", "iods", "xml ", "bxml", "ipro", "mere"],
      CONTAINER_BOXES: [["moov", ["trak", "pssh"]], ["trak"], ["edts"], ["mdia"], ["minf"], ["dinf"], ["stbl", ["sgpd", "sbgp"]], ["mvex", ["trex"]], ["moof", ["traf"]], ["traf", ["trun", "sgpd", "sbgp"]], ["vttc"], ["tref"], ["iref"], ["mfra", ["tfra"]], ["meco"], ["hnti"], ["hinf"], ["strk"], ["strd"], ["sinf"], ["rinf"], ["schi"], ["trgr"], ["udta", ["kind"]], ["iprp", ["ipma"]], ["ipco"]],
      boxCodes: [],
      fullBoxCodes: [],
      containerBoxCodes: [],
      sampleEntryCodes: {},
      sampleGroupEntryCodes: [],
      trackGroupTypes: [],
      UUIDBoxes: {},
      UUIDs: [],
      initialize: function initialize() {
        c.FullBox.prototype = new c.Box(), c.ContainerBox.prototype = new c.Box(), c.SampleEntry.prototype = new c.Box(), c.TrackGroupTypeBox.prototype = new c.FullBox(), c.BASIC_BOXES.forEach(function (e) {
          c.createBoxCtor(e);
        }), c.FULL_BOXES.forEach(function (e) {
          c.createFullBoxCtor(e);
        }), c.CONTAINER_BOXES.forEach(function (e) {
          c.createContainerBoxCtor(e[0], null, e[1]);
        });
      },
      Box: function Box(e, t, r) {
        this.type = e, this.size = t, this.uuid = r;
      },
      FullBox: function FullBox(e, t, r) {
        c.Box.call(this, e, t, r), this.flags = 0, this.version = 0;
      },
      ContainerBox: function ContainerBox(e, t, r) {
        c.Box.call(this, e, t, r), this.boxes = [];
      },
      SampleEntry: function SampleEntry(e, t, r, i) {
        c.ContainerBox.call(this, e, t), this.hdr_size = r, this.start = i;
      },
      SampleGroupEntry: function SampleGroupEntry(e) {
        this.grouping_type = e;
      },
      TrackGroupTypeBox: function TrackGroupTypeBox(e, t) {
        c.FullBox.call(this, e, t);
      },
      createBoxCtor: function createBoxCtor(e, t) {
        c.boxCodes.push(e), c[e + "Box"] = function (t) {
          c.Box.call(this, e, t);
        }, c[e + "Box"].prototype = new c.Box(), t && (c[e + "Box"].prototype.parse = t);
      },
      createFullBoxCtor: function createFullBoxCtor(e, t) {
        c[e + "Box"] = function (t) {
          c.FullBox.call(this, e, t);
        }, c[e + "Box"].prototype = new c.FullBox(), c[e + "Box"].prototype.parse = function (e) {
          this.parseFullHeader(e), t && t.call(this, e);
        };
      },
      addSubBoxArrays: function addSubBoxArrays(e) {
        if (e) {
          this.subBoxNames = e;

          for (var t = e.length, r = 0; r < t; r++) {
            this[e[r] + "s"] = [];
          }
        }
      },
      createContainerBoxCtor: function createContainerBoxCtor(e, t, r) {
        c[e + "Box"] = function (t) {
          c.ContainerBox.call(this, e, t), c.addSubBoxArrays.call(this, r);
        }, c[e + "Box"].prototype = new c.ContainerBox(), t && (c[e + "Box"].prototype.parse = t);
      },
      createMediaSampleEntryCtor: function createMediaSampleEntryCtor(e, t, r) {
        c.sampleEntryCodes[e] = [], c[e + "SampleEntry"] = function (e, t) {
          c.SampleEntry.call(this, e, t), c.addSubBoxArrays.call(this, r);
        }, c[e + "SampleEntry"].prototype = new c.SampleEntry(), t && (c[e + "SampleEntry"].prototype.parse = t);
      },
      createSampleEntryCtor: function createSampleEntryCtor(e, t, r, i) {
        c.sampleEntryCodes[e].push(t), c[t + "SampleEntry"] = function (r) {
          c[e + "SampleEntry"].call(this, t, r), c.addSubBoxArrays.call(this, i);
        }, c[t + "SampleEntry"].prototype = new c[e + "SampleEntry"](), r && (c[t + "SampleEntry"].prototype.parse = r);
      },
      createEncryptedSampleEntryCtor: function createEncryptedSampleEntryCtor(e, t, r) {
        c.createSampleEntryCtor.call(this, e, t, r, ["sinf"]);
      },
      createSampleGroupCtor: function createSampleGroupCtor(e, t) {
        c[e + "SampleGroupEntry"] = function (t) {
          c.SampleGroupEntry.call(this, e, t);
        }, c[e + "SampleGroupEntry"].prototype = new c.SampleGroupEntry(), t && (c[e + "SampleGroupEntry"].prototype.parse = t);
      },
      createTrackGroupCtor: function createTrackGroupCtor(e, t) {
        c[e + "TrackGroupTypeBox"] = function (t) {
          c.TrackGroupTypeBox.call(this, e, t);
        }, c[e + "TrackGroupTypeBox"].prototype = new c.TrackGroupTypeBox(), t && (c[e + "TrackGroupTypeBox"].prototype.parse = t);
      },
      createUUIDBox: function createUUIDBox(e, t, r, i) {
        c.UUIDs.push(e), c.UUIDBoxes[e] = function (i) {
          t ? c.FullBox.call(this, "uuid", i, e) : r ? c.ContainerBox.call(this, "uuid", i, e) : c.Box.call(this, "uuid", i, e);
        }, c.UUIDBoxes[e].prototype = t ? new c.FullBox() : r ? new c.ContainerBox() : new c.Box(), i && (c.UUIDBoxes[e].prototype.parse = t ? function (e) {
          this.parseFullHeader(e), i && i.call(this, e);
        } : i);
      }
    };
    c.initialize(), c.TKHD_FLAG_ENABLED = 1, c.TKHD_FLAG_IN_MOVIE = 2, c.TKHD_FLAG_IN_PREVIEW = 4, c.TFHD_FLAG_BASE_DATA_OFFSET = 1, c.TFHD_FLAG_SAMPLE_DESC = 2, c.TFHD_FLAG_SAMPLE_DUR = 8, c.TFHD_FLAG_SAMPLE_SIZE = 16, c.TFHD_FLAG_SAMPLE_FLAGS = 32, c.TFHD_FLAG_DUR_EMPTY = 65536, c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF = 131072, c.TRUN_FLAGS_DATA_OFFSET = 1, c.TRUN_FLAGS_FIRST_FLAG = 4, c.TRUN_FLAGS_DURATION = 256, c.TRUN_FLAGS_SIZE = 512, c.TRUN_FLAGS_FLAGS = 1024, c.TRUN_FLAGS_CTS_OFFSET = 2048, c.Box.prototype.add = function (e) {
      return this.addBox(new c[e + "Box"]());
    }, c.Box.prototype.addBox = function (e) {
      return this.boxes.push(e), this[e.type + "s"] ? this[e.type + "s"].push(e) : this[e.type] = e, e;
    }, c.Box.prototype.set = function (e, t) {
      return this[e] = t, this;
    }, c.Box.prototype.addEntry = function (e, t) {
      var r = t || "entries";
      return this[r] || (this[r] = []), this[r].push(e), this;
    }, void 0 !== r && (r.BoxParser = c), c.parseUUID = function (e) {
      return c.parseHex16(e);
    }, c.parseHex16 = function (e) {
      for (var t = "", r = 0; r < 16; r++) {
        var i = e.readUint8().toString(16);
        t += 1 === i.length ? "0" + i : i;
      }

      return t;
    }, c.parseOneBox = function (e, t, r) {
      var i,
          n,
          s,
          o = e.getPosition(),
          f = 0;
      if (e.getEndPosition() - o < 8) return a.debug("BoxParser", "Not enough data in stream to parse the type and size of the box"), {
        code: c.ERR_NOT_ENOUGH_DATA
      };
      if (r && r < 8) return a.debug("BoxParser", "Not enough bytes left in the parent box to parse a new box"), {
        code: c.ERR_NOT_ENOUGH_DATA
      };
      var u = e.readUint32(),
          h = e.readString(4),
          d = h;

      if (a.debug("BoxParser", "Found box of type '" + h + "' and size " + u + " at position " + o), f = 8, "uuid" == h) {
        if (e.getEndPosition() - e.getPosition() < 16 || r - f < 16) return e.seek(o), a.debug("BoxParser", "Not enough bytes left in the parent box to parse a UUID box"), {
          code: c.ERR_NOT_ENOUGH_DATA
        };
        f += 16, d = s = c.parseUUID(e);
      }

      if (1 == u) {
        if (e.getEndPosition() - e.getPosition() < 8 || r && r - f < 8) return e.seek(o), a.warn("BoxParser", 'Not enough data in stream to parse the extended size of the "' + h + '" box'), {
          code: c.ERR_NOT_ENOUGH_DATA
        };
        u = e.readUint64(), f += 8;
      } else if (0 === u) if (r) u = r;else if ("mdat" !== h) return a.error("BoxParser", "Unlimited box size not supported for type: '" + h + "'"), i = new c.Box(h, u), {
        code: c.OK,
        box: i,
        size: i.size
      };

      return u < f ? (a.error("BoxParser", "Box of type " + h + " has an invalid size " + u + " (too small to be a box)"), {
        code: c.ERR_NOT_ENOUGH_DATA,
        type: h,
        size: u,
        hdr_size: f,
        start: o
      }) : r && u > r ? (a.error("BoxParser", "Box of type '" + h + "' has a size " + u + " greater than its container size " + r), {
        code: c.ERR_NOT_ENOUGH_DATA,
        type: h,
        size: u,
        hdr_size: f,
        start: o
      }) : o + u > e.getEndPosition() ? (e.seek(o), a.info("BoxParser", "Not enough data in stream to parse the entire '" + h + "' box"), {
        code: c.ERR_NOT_ENOUGH_DATA,
        type: h,
        size: u,
        hdr_size: f,
        start: o
      }) : t ? {
        code: c.OK,
        type: h,
        size: u,
        hdr_size: f,
        start: o
      } : (c[h + "Box"] ? i = new c[h + "Box"](u) : "uuid" !== h ? (a.warn("BoxParser", "Unknown box type: '" + h + "'"), (i = new c.Box(h, u)).has_unparsed_data = !0) : c.UUIDBoxes[s] ? i = new c.UUIDBoxes[s](u) : (a.warn("BoxParser", "Unknown uuid type: '" + s + "'"), (i = new c.Box(h, u)).uuid = s, i.has_unparsed_data = !0), i.hdr_size = f, i.start = o, i.write === c.Box.prototype.write && "mdat" !== i.type && (a.info("BoxParser", "'" + d + "' box writing not yet implemented, keeping unparsed data in memory for later write"), i.parseDataAndRewind(e)), i.parse(e), (n = e.getPosition() - (i.start + i.size)) < 0 ? (a.warn("BoxParser", "Parsing of box '" + d + "' did not read the entire indicated box data size (missing " + -n + " bytes), seeking forward"), e.seek(i.start + i.size)) : n > 0 && (a.error("BoxParser", "Parsing of box '" + d + "' read " + n + " more bytes than the indicated box data size, seeking backwards"), e.seek(i.start + i.size)), {
        code: c.OK,
        box: i,
        size: i.size
      });
    }, c.Box.prototype.parse = function (e) {
      "mdat" != this.type ? this.data = e.readUint8Array(this.size - this.hdr_size) : 0 === this.size ? e.seek(e.getEndPosition()) : e.seek(this.start + this.size);
    }, c.Box.prototype.parseDataAndRewind = function (e) {
      this.data = e.readUint8Array(this.size - this.hdr_size), e.position -= this.size - this.hdr_size;
    }, c.FullBox.prototype.parseDataAndRewind = function (e) {
      this.parseFullHeader(e), this.data = e.readUint8Array(this.size - this.hdr_size), this.hdr_size -= 4, e.position -= this.size - this.hdr_size;
    }, c.FullBox.prototype.parseFullHeader = function (e) {
      this.version = e.readUint8(), this.flags = e.readUint24(), this.hdr_size += 4;
    }, c.FullBox.prototype.parse = function (e) {
      this.parseFullHeader(e), this.data = e.readUint8Array(this.size - this.hdr_size);
    }, c.ContainerBox.prototype.parse = function (e) {
      for (var t, r; e.getPosition() < this.start + this.size;) {
        if ((t = c.parseOneBox(e, !1, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        if (r = t.box, this.boxes.push(r), this.subBoxNames && -1 != this.subBoxNames.indexOf(r.type)) this[this.subBoxNames[this.subBoxNames.indexOf(r.type)] + "s"].push(r);else {
          var i = "uuid" !== r.type ? r.type : r.uuid;
          this[i] ? a.warn("Box of type " + i + " already stored in field of this type") : this[i] = r;
        }
      }
    }, c.Box.prototype.parseLanguage = function (e) {
      this.language = e.readUint16();
      var t = [];
      t[0] = this.language >> 10 & 31, t[1] = this.language >> 5 & 31, t[2] = 31 & this.language, this.languageString = String.fromCharCode(t[0] + 96, t[1] + 96, t[2] + 96);
    }, c.SAMPLE_ENTRY_TYPE_VISUAL = "Visual", c.SAMPLE_ENTRY_TYPE_AUDIO = "Audio", c.SAMPLE_ENTRY_TYPE_HINT = "Hint", c.SAMPLE_ENTRY_TYPE_METADATA = "Metadata", c.SAMPLE_ENTRY_TYPE_SUBTITLE = "Subtitle", c.SAMPLE_ENTRY_TYPE_SYSTEM = "System", c.SAMPLE_ENTRY_TYPE_TEXT = "Text", c.SampleEntry.prototype.parseHeader = function (e) {
      e.readUint8Array(6), this.data_reference_index = e.readUint16(), this.hdr_size += 8;
    }, c.SampleEntry.prototype.parse = function (e) {
      this.parseHeader(e), this.data = e.readUint8Array(this.size - this.hdr_size);
    }, c.SampleEntry.prototype.parseDataAndRewind = function (e) {
      this.parseHeader(e), this.data = e.readUint8Array(this.size - this.hdr_size), this.hdr_size -= 8, e.position -= this.size - this.hdr_size;
    }, c.SampleEntry.prototype.parseFooter = function (e) {
      c.ContainerBox.prototype.parse.call(this, e);
    }, c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_HINT), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SYSTEM), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_TEXT), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, function (e) {
      var t;
      this.parseHeader(e), e.readUint16(), e.readUint16(), e.readUint32Array(3), this.width = e.readUint16(), this.height = e.readUint16(), this.horizresolution = e.readUint32(), this.vertresolution = e.readUint32(), e.readUint32(), this.frame_count = e.readUint16(), t = Math.min(31, e.readUint8()), this.compressorname = e.readString(t), t < 31 && e.readString(31 - t), this.depth = e.readUint16(), e.readUint16(), this.parseFooter(e);
    }), c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO, function (e) {
      this.parseHeader(e), e.readUint32Array(2), this.channel_count = e.readUint16(), this.samplesize = e.readUint16(), e.readUint16(), e.readUint16(), this.samplerate = e.readUint32() / 65536, this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "avc1"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "avc2"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "avc3"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "avc4"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "av01"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "hvc1"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "hev1"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO, "mp4a"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO, "ac-3"), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO, "ec-3"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL, "encv"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO, "enca"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE, "encu"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SYSTEM, "encs"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_TEXT, "enct"), c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA, "encm"), c.createBoxCtor("av1C", function (e) {
      var t = e.readUint8();
      if (t >> 7 & !1) a.error("av1C marker problem");else if (this.version = 127 & t, 1 === this.version) {
        if (t = e.readUint8(), this.seq_profile = t >> 5 & 7, this.seq_level_idx_0 = 31 & t, t = e.readUint8(), this.seq_tier_0 = t >> 7 & 1, this.high_bitdepth = t >> 6 & 1, this.twelve_bit = t >> 5 & 1, this.monochrome = t >> 4 & 1, this.chroma_subsampling_x = t >> 3 & 1, this.chroma_subsampling_y = t >> 2 & 1, this.chroma_sample_position = 3 & t, t = e.readUint8(), this.reserved_1 = t >> 5 & 7, 0 === this.reserved_1) {
          if (this.initial_presentation_delay_present = t >> 4 & 1, 1 === this.initial_presentation_delay_present) this.initial_presentation_delay_minus_one = 15 & t;else if (this.reserved_2 = 15 & t, 0 !== this.reserved_2) return void a.error("av1C reserved_2 parsing problem");
          var r = this.size - this.hdr_size - 4;
          this.configOBUs = e.readUint8Array(r);
        } else a.error("av1C reserved_1 parsing problem");
      } else a.error("av1C version " + this.version + " not supported");
    }), c.createBoxCtor("avcC", function (e) {
      var t, r;

      for (this.configurationVersion = e.readUint8(), this.AVCProfileIndication = e.readUint8(), this.profile_compatibility = e.readUint8(), this.AVCLevelIndication = e.readUint8(), this.lengthSizeMinusOne = 3 & e.readUint8(), this.nb_SPS_nalus = 31 & e.readUint8(), r = this.size - this.hdr_size - 6, this.SPS = [], t = 0; t < this.nb_SPS_nalus; t++) {
        this.SPS[t] = {}, this.SPS[t].length = e.readUint16(), this.SPS[t].nalu = e.readUint8Array(this.SPS[t].length), r -= 2 + this.SPS[t].length;
      }

      for (this.nb_PPS_nalus = e.readUint8(), r--, this.PPS = [], t = 0; t < this.nb_PPS_nalus; t++) {
        this.PPS[t] = {}, this.PPS[t].length = e.readUint16(), this.PPS[t].nalu = e.readUint8Array(this.PPS[t].length), r -= 2 + this.PPS[t].length;
      }

      r > 0 && (this.ext = e.readUint8Array(r));
    }), c.createBoxCtor("btrt", function (e) {
      this.bufferSizeDB = e.readUint32(), this.maxBitrate = e.readUint32(), this.avgBitrate = e.readUint32();
    }), c.createBoxCtor("clap", function (e) {
      this.cleanApertureWidthN = e.readUint32(), this.cleanApertureWidthD = e.readUint32(), this.cleanApertureHeightN = e.readUint32(), this.cleanApertureHeightD = e.readUint32(), this.horizOffN = e.readUint32(), this.horizOffD = e.readUint32(), this.vertOffN = e.readUint32(), this.vertOffD = e.readUint32();
    }), c.createBoxCtor("clli", function (e) {
      this.max_content_light_level = e.readUint16(), this.max_pic_average_light_level = e.readUint16();
    }), c.createFullBoxCtor("co64", function (e) {
      var t, r;
      if (t = e.readUint32(), this.chunk_offsets = [], 0 === this.version) for (r = 0; r < t; r++) {
        this.chunk_offsets.push(e.readUint64());
      }
    }), c.createFullBoxCtor("CoLL", function (e) {
      this.maxCLL = e.readUint16(), this.maxFALL = e.readUint16();
    }), c.createBoxCtor("colr", function (e) {
      if (this.colour_type = e.readString(4), "nclx" === this.colour_type) {
        this.colour_primaries = e.readUint16(), this.transfer_characteristics = e.readUint16(), this.matrix_coefficients = e.readUint16();
        var t = e.readUint8();
        this.full_range_flag = t >> 7;
      } else ("rICC" === this.colour_type || "prof" === this.colour_type) && (this.ICC_profile = e.readUint8Array(this.size - 4));
    }), c.createFullBoxCtor("cprt", function (e) {
      this.parseLanguage(e), this.notice = e.readCString();
    }), c.createFullBoxCtor("cslg", function (e) {
      0 === this.version && (this.compositionToDTSShift = e.readInt32(), this.leastDecodeToDisplayDelta = e.readInt32(), this.greatestDecodeToDisplayDelta = e.readInt32(), this.compositionStartTime = e.readInt32(), this.compositionEndTime = e.readInt32());
    }), c.createFullBoxCtor("ctts", function (e) {
      var t, r;
      if (t = e.readUint32(), this.sample_counts = [], this.sample_offsets = [], 0 === this.version) for (r = 0; r < t; r++) {
        this.sample_counts.push(e.readUint32());
        var i = e.readInt32();
        i < 0 && a.warn("BoxParser", "ctts box uses negative values without using version 1"), this.sample_offsets.push(i);
      } else if (1 == this.version) for (r = 0; r < t; r++) {
        this.sample_counts.push(e.readUint32()), this.sample_offsets.push(e.readInt32());
      }
    }), c.createBoxCtor("dac3", function (e) {
      var t = e.readUint8(),
          r = e.readUint8(),
          i = e.readUint8();
      this.fscod = t >> 6, this.bsid = t >> 1 & 31, this.bsmod = (1 & t) << 2 | r >> 6 & 3, this.acmod = r >> 3 & 7, this.lfeon = r >> 2 & 1, this.bit_rate_code = 3 & r | i >> 5 & 7;
    }), c.createBoxCtor("dec3", function (e) {
      var t = e.readUint16();
      this.data_rate = t >> 3, this.num_ind_sub = 7 & t, this.ind_subs = [];

      for (var r = 0; r < this.num_ind_sub + 1; r++) {
        var i = {};
        this.ind_subs.push(i);
        var n = e.readUint8(),
            a = e.readUint8(),
            s = e.readUint8();
        i.fscod = n >> 6, i.bsid = n >> 1 & 31, i.bsmod = (1 & n) << 4 | a >> 4 & 15, i.acmod = a >> 1 & 7, i.lfeon = 1 & a, i.num_dep_sub = s >> 1 & 15, i.num_dep_sub > 0 && (i.chan_loc = (1 & s) << 8 | e.readUint8());
      }
    }), c.createFullBoxCtor("dfLa", function (e) {
      var t = [],
          r = ["STREAMINFO", "PADDING", "APPLICATION", "SEEKTABLE", "VORBIS_COMMENT", "CUESHEET", "PICTURE", "RESERVED"];

      for (this.parseFullHeader(e);;) {
        var i = e.readUint8(),
            n = Math.min(127 & i, r.length - 1);
        if (n ? e.readUint8Array(e.readUint24()) : (e.readUint8Array(13), this.samplerate = e.readUint32() >> 12, e.readUint8Array(20)), t.push(r[n]), 128 & i) break;
      }

      this.numMetadataBlocks = t.length + " (" + t.join(", ") + ")";
    }), c.createBoxCtor("dimm", function (e) {
      this.bytessent = e.readUint64();
    }), c.createBoxCtor("dmax", function (e) {
      this.time = e.readUint32();
    }), c.createBoxCtor("dmed", function (e) {
      this.bytessent = e.readUint64();
    }), c.createFullBoxCtor("dref", function (e) {
      var t, r;
      this.entries = [];

      for (var i = e.readUint32(), n = 0; n < i; n++) {
        if ((t = c.parseOneBox(e, !1, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        r = t.box, this.entries.push(r);
      }
    }), c.createBoxCtor("drep", function (e) {
      this.bytessent = e.readUint64();
    }), c.createFullBoxCtor("elng", function (e) {
      this.extended_language = e.readString(this.size - this.hdr_size);
    }), c.createFullBoxCtor("elst", function (e) {
      this.entries = [];

      for (var t = e.readUint32(), r = 0; r < t; r++) {
        var i = {};
        this.entries.push(i), 1 === this.version ? (i.segment_duration = e.readUint64(), i.media_time = e.readInt64()) : (i.segment_duration = e.readUint32(), i.media_time = e.readInt32()), i.media_rate_integer = e.readInt16(), i.media_rate_fraction = e.readInt16();
      }
    }), c.createFullBoxCtor("emsg", function (e) {
      1 == this.version ? (this.timescale = e.readUint32(), this.presentation_time = e.readUint64(), this.event_duration = e.readUint32(), this.id = e.readUint32(), this.scheme_id_uri = e.readCString(), this.value = e.readCString()) : (this.scheme_id_uri = e.readCString(), this.value = e.readCString(), this.timescale = e.readUint32(), this.presentation_time_delta = e.readUint32(), this.event_duration = e.readUint32(), this.id = e.readUint32());
      var t = this.size - this.hdr_size - (16 + (this.scheme_id_uri.length + 1) + (this.value.length + 1));
      1 == this.version && (t -= 4), this.message_data = e.readUint8Array(t);
    }), c.createFullBoxCtor("esds", function (e) {
      var t = e.readUint8Array(this.size - this.hdr_size);

      if (void 0 !== h) {
        var r = new h();
        this.esd = r.parseOneDescriptor(new o(t.buffer, 0, o.BIG_ENDIAN));
      }
    }), c.createBoxCtor("fiel", function (e) {
      this.fieldCount = e.readUint8(), this.fieldOrdering = e.readUint8();
    }), c.createBoxCtor("frma", function (e) {
      this.data_format = e.readString(4);
    }), c.createBoxCtor("ftyp", function (e) {
      var t = this.size - this.hdr_size;
      this.major_brand = e.readString(4), this.minor_version = e.readUint32(), t -= 8, this.compatible_brands = [];

      for (var r = 0; t >= 4;) {
        this.compatible_brands[r] = e.readString(4), t -= 4, r++;
      }
    }), c.createFullBoxCtor("hdlr", function (e) {
      0 === this.version && (e.readUint32(), this.handler = e.readString(4), e.readUint32Array(3), this.name = e.readString(this.size - this.hdr_size - 20), "\0" === this.name[this.name.length - 1] && (this.name = this.name.slice(0, -1)));
    }), c.createBoxCtor("hvcC", function (e) {
      var t, r, i, n;
      this.configurationVersion = e.readUint8(), n = e.readUint8(), this.general_profile_space = n >> 6, this.general_tier_flag = (32 & n) >> 5, this.general_profile_idc = 31 & n, this.general_profile_compatibility = e.readUint32(), this.general_constraint_indicator = e.readUint8Array(6), this.general_level_idc = e.readUint8(), this.min_spatial_segmentation_idc = 4095 & e.readUint16(), this.parallelismType = 3 & e.readUint8(), this.chroma_format_idc = 3 & e.readUint8(), this.bit_depth_luma_minus8 = 7 & e.readUint8(), this.bit_depth_chroma_minus8 = 7 & e.readUint8(), this.avgFrameRate = e.readUint16(), n = e.readUint8(), this.constantFrameRate = n >> 6, this.numTemporalLayers = (13 & n) >> 3, this.temporalIdNested = (4 & n) >> 2, this.lengthSizeMinusOne = 3 & n, this.nalu_arrays = [];
      var a = e.readUint8();

      for (t = 0; t < a; t++) {
        var s = [];
        this.nalu_arrays.push(s), n = e.readUint8(), s.completeness = (128 & n) >> 7, s.nalu_type = 63 & n;
        var o = e.readUint16();

        for (r = 0; r < o; r++) {
          var f = {};
          s.push(f), i = e.readUint16(), f.data = e.readUint8Array(i);
        }
      }
    }), c.createFullBoxCtor("iinf", function (e) {
      var t;
      0 === this.version ? this.entry_count = e.readUint16() : this.entry_count = e.readUint32(), this.item_infos = [];

      for (var r = 0; r < this.entry_count; r++) {
        if ((t = c.parseOneBox(e, !1, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        "infe" !== t.box.type && a.error("BoxParser", "Expected 'infe' box, got " + t.box.type), this.item_infos[r] = t.box;
      }
    }), c.createFullBoxCtor("iloc", function (e) {
      var t;
      t = e.readUint8(), this.offset_size = t >> 4 & 15, this.length_size = 15 & t, t = e.readUint8(), this.base_offset_size = t >> 4 & 15, 1 === this.version || 2 === this.version ? this.index_size = 15 & t : this.index_size = 0, this.items = [];
      var r = 0;
      if (this.version < 2) r = e.readUint16();else {
        if (2 !== this.version) throw "version of iloc box not supported";
        r = e.readUint32();
      }

      for (var i = 0; i < r; i++) {
        var n = {};
        if (this.items.push(n), this.version < 2) n.item_ID = e.readUint16();else {
          if (2 !== this.version) throw "version of iloc box not supported";
          n.item_ID = e.readUint16();
        }

        switch (1 === this.version || 2 === this.version ? n.construction_method = 15 & e.readUint16() : n.construction_method = 0, n.data_reference_index = e.readUint16(), this.base_offset_size) {
          case 0:
            n.base_offset = 0;
            break;

          case 4:
            n.base_offset = e.readUint32();
            break;

          case 8:
            n.base_offset = e.readUint64();
            break;

          default:
            throw "Error reading base offset size";
        }

        var a = e.readUint16();
        n.extents = [];

        for (var s = 0; s < a; s++) {
          var o = {};
          if (n.extents.push(o), 1 === this.version || 2 === this.version) switch (this.index_size) {
            case 0:
              o.extent_index = 0;
              break;

            case 4:
              o.extent_index = e.readUint32();
              break;

            case 8:
              o.extent_index = e.readUint64();
              break;

            default:
              throw "Error reading extent index";
          }

          switch (this.offset_size) {
            case 0:
              o.extent_offset = 0;
              break;

            case 4:
              o.extent_offset = e.readUint32();
              break;

            case 8:
              o.extent_offset = e.readUint64();
              break;

            default:
              throw "Error reading extent index";
          }

          switch (this.length_size) {
            case 0:
              o.extent_length = 0;
              break;

            case 4:
              o.extent_length = e.readUint32();
              break;

            case 8:
              o.extent_length = e.readUint64();
              break;

            default:
              throw "Error reading extent index";
          }
        }
      }
    }), c.createFullBoxCtor("infe", function (e) {
      if (0 !== this.version && 1 !== this.version || (this.item_ID = e.readUint16(), this.item_protection_index = e.readUint16(), this.item_name = e.readCString(), this.content_type = e.readCString(), this.content_encoding = e.readCString()), 1 === this.version) return this.extension_type = e.readString(4), a.warn("BoxParser", "Cannot parse extension type"), void e.seek(this.start + this.size);
      this.version >= 2 && (2 === this.version ? this.item_ID = e.readUint16() : 3 === this.version && (this.item_ID = e.readUint32()), this.item_protection_index = e.readUint16(), this.item_type = e.readString(4), this.item_name = e.readCString(), "mime" === this.item_type ? (this.content_type = e.readCString(), this.content_encoding = e.readCString()) : "uri " === this.item_type && (this.item_uri_type = e.readCString()));
    }), c.createFullBoxCtor("ipma", function (e) {
      var t, r;

      for (entry_count = e.readUint32(), this.associations = [], t = 0; t < entry_count; t++) {
        var i = {};
        this.associations.push(i), this.version < 1 ? i.id = e.readUint16() : i.id = e.readUint32();
        var n = e.readUint8();

        for (i.props = [], r = 0; r < n; r++) {
          var a = e.readUint8(),
              s = {};
          i.props.push(s), s.essential = (128 & a) >> 7 == 1, 1 & this.flags ? s.property_index = (127 & a) << 8 | e.readUint8() : s.property_index = 127 & a;
        }
      }
    }), c.createFullBoxCtor("iref", function (e) {
      var t, r;

      for (this.references = []; e.getPosition() < this.start + this.size;) {
        if ((t = c.parseOneBox(e, !0, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        (r = 0 === this.version ? new c.SingleItemTypeReferenceBox(t.type, t.size, t.hdr_size, t.start) : new c.SingleItemTypeReferenceBoxLarge(t.type, t.size, t.hdr_size, t.start)).write === c.Box.prototype.write && "mdat" !== r.type && (a.warn("BoxParser", r.type + " box writing not yet implemented, keeping unparsed data in memory for later write"), r.parseDataAndRewind(e)), r.parse(e), this.references.push(r);
      }
    }), c.createBoxCtor("irot", function (e) {
      this.angle = 3 & e.readUint8();
    }), c.createFullBoxCtor("ispe", function (e) {
      this.image_width = e.readUint32(), this.image_height = e.readUint32();
    }), c.createFullBoxCtor("kind", function (e) {
      this.schemeURI = e.readCString(), this.value = e.readCString();
    }), c.createFullBoxCtor("leva", function (e) {
      var t = e.readUint8();
      this.levels = [];

      for (var r = 0; r < t; r++) {
        var i = {};
        this.levels[r] = i, i.track_ID = e.readUint32();
        var n = e.readUint8();

        switch (i.padding_flag = n >> 7, i.assignment_type = 127 & n, i.assignment_type) {
          case 0:
            i.grouping_type = e.readString(4);
            break;

          case 1:
            i.grouping_type = e.readString(4), i.grouping_type_parameter = e.readUint32();
            break;

          case 2:
          case 3:
            break;

          case 4:
            i.sub_track_id = e.readUint32();
            break;

          default:
            a.warn("BoxParser", "Unknown leva assignement type");
        }
      }
    }), c.createBoxCtor("maxr", function (e) {
      this.period = e.readUint32(), this.bytes = e.readUint32();
    }), c.createBoxCtor("mdcv", function (e) {
      this.display_primaries = [], this.display_primaries[0] = {}, this.display_primaries[0].x = e.readUint16(), this.display_primaries[0].y = e.readUint16(), this.display_primaries[1] = {}, this.display_primaries[1].x = e.readUint16(), this.display_primaries[1].y = e.readUint16(), this.display_primaries[2] = {}, this.display_primaries[2].x = e.readUint16(), this.display_primaries[2].y = e.readUint16(), this.white_point = {}, this.white_point.x = e.readUint16(), this.white_point.y = e.readUint16(), this.max_display_mastering_luminance = e.readUint32(), this.min_display_mastering_luminance = e.readUint32();
    }), c.createFullBoxCtor("mdhd", function (e) {
      1 == this.version ? (this.creation_time = e.readUint64(), this.modification_time = e.readUint64(), this.timescale = e.readUint32(), this.duration = e.readUint64()) : (this.creation_time = e.readUint32(), this.modification_time = e.readUint32(), this.timescale = e.readUint32(), this.duration = e.readUint32()), this.parseLanguage(e), e.readUint16();
    }), c.createFullBoxCtor("mehd", function (e) {
      1 & this.flags && (a.warn("BoxParser", "mehd box incorrectly uses flags set to 1, converting version to 1"), this.version = 1), 1 == this.version ? this.fragment_duration = e.readUint64() : this.fragment_duration = e.readUint32();
    }), c.createFullBoxCtor("meta", function (e) {
      this.boxes = [], c.ContainerBox.prototype.parse.call(this, e);
    }), c.createFullBoxCtor("mfhd", function (e) {
      this.sequence_number = e.readUint32();
    }), c.createFullBoxCtor("mfro", function (e) {
      this._size = e.readUint32();
    }), c.createFullBoxCtor("mvhd", function (e) {
      1 == this.version ? (this.creation_time = e.readUint64(), this.modification_time = e.readUint64(), this.timescale = e.readUint32(), this.duration = e.readUint64()) : (this.creation_time = e.readUint32(), this.modification_time = e.readUint32(), this.timescale = e.readUint32(), this.duration = e.readUint32()), this.rate = e.readUint32(), this.volume = e.readUint16() >> 8, e.readUint16(), e.readUint32Array(2), this.matrix = e.readUint32Array(9), e.readUint32Array(6), this.next_track_id = e.readUint32();
    }), c.createBoxCtor("npck", function (e) {
      this.packetssent = e.readUint32();
    }), c.createBoxCtor("nump", function (e) {
      this.packetssent = e.readUint64();
    }), c.createFullBoxCtor("padb", function (e) {
      var t = e.readUint32();
      this.padbits = [];

      for (var r = 0; r < Math.floor((t + 1) / 2); r++) {
        this.padbits = e.readUint8();
      }
    }), c.createBoxCtor("pasp", function (e) {
      this.hSpacing = e.readUint32(), this.vSpacing = e.readUint32();
    }), c.createBoxCtor("payl", function (e) {
      this.text = e.readString(this.size - this.hdr_size);
    }), c.createBoxCtor("payt", function (e) {
      this.payloadID = e.readUint32();
      var t = e.readUint8();
      this.rtpmap_string = e.readString(t);
    }), c.createFullBoxCtor("pdin", function (e) {
      var t = (this.size - this.hdr_size) / 8;
      this.rate = [], this.initial_delay = [];

      for (var r = 0; r < t; r++) {
        this.rate[r] = e.readUint32(), this.initial_delay[r] = e.readUint32();
      }
    }), c.createFullBoxCtor("pitm", function (e) {
      0 === this.version ? this.item_id = e.readUint16() : this.item_id = e.readUint32();
    }), c.createFullBoxCtor("pixi", function (e) {
      var t;

      for (this.num_channels = e.readUint8(), this.bits_per_channels = [], t = 0; t < this.num_channels; t++) {
        this.bits_per_channels[t] = e.readUint8();
      }
    }), c.createBoxCtor("pmax", function (e) {
      this.bytes = e.readUint32();
    }), c.createFullBoxCtor("prft", function (e) {
      this.ref_track_id = e.readUint32(), this.ntp_timestamp = e.readUint64(), 0 === this.version ? this.media_time = e.readUint32() : this.media_time = e.readUint64();
    }), c.createFullBoxCtor("pssh", function (e) {
      if (this.system_id = c.parseHex16(e), this.version > 0) {
        var t = e.readUint32();
        this.kid = [];

        for (var r = 0; r < t; r++) {
          this.kid[r] = c.parseHex16(e);
        }
      }

      var i = e.readUint32();
      i > 0 && (this.data = e.readUint8Array(i));
    }), c.createFullBoxCtor("clef", function (e) {
      this.width = e.readUint32(), this.height = e.readUint32();
    }), c.createFullBoxCtor("enof", function (e) {
      this.width = e.readUint32(), this.height = e.readUint32();
    }), c.createFullBoxCtor("prof", function (e) {
      this.width = e.readUint32(), this.height = e.readUint32();
    }), c.createContainerBoxCtor("tapt", null, ["clef", "prof", "enof"]), c.createBoxCtor("rtp ", function (e) {
      this.descriptionformat = e.readString(4), this.sdptext = e.readString(this.size - this.hdr_size - 4);
    }), c.createFullBoxCtor("saio", function (e) {
      1 & this.flags && (this.aux_info_type = e.readUint32(), this.aux_info_type_parameter = e.readUint32());
      var t = e.readUint32();
      this.offset = [];

      for (var r = 0; r < t; r++) {
        0 === this.version ? this.offset[r] = e.readUint32() : this.offset[r] = e.readUint64();
      }
    }), c.createFullBoxCtor("saiz", function (e) {
      1 & this.flags && (this.aux_info_type = e.readUint32(), this.aux_info_type_parameter = e.readUint32()), this.default_sample_info_size = e.readUint8();
      var t = e.readUint32();
      if (this.sample_info_size = [], 0 === this.default_sample_info_size) for (var r = 0; r < t; r++) {
        this.sample_info_size[r] = e.readUint8();
      }
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA, "mett", function (e) {
      this.parseHeader(e), this.content_encoding = e.readCString(), this.mime_format = e.readCString(), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA, "metx", function (e) {
      this.parseHeader(e), this.content_encoding = e.readCString(), this.namespace = e.readCString(), this.schema_location = e.readCString(), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE, "sbtt", function (e) {
      this.parseHeader(e), this.content_encoding = e.readCString(), this.mime_format = e.readCString(), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE, "stpp", function (e) {
      this.parseHeader(e), this.namespace = e.readCString(), this.schema_location = e.readCString(), this.auxiliary_mime_types = e.readCString(), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE, "stxt", function (e) {
      this.parseHeader(e), this.content_encoding = e.readCString(), this.mime_format = e.readCString(), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE, "tx3g", function (e) {
      this.parseHeader(e), this.displayFlags = e.readUint32(), this.horizontal_justification = e.readInt8(), this.vertical_justification = e.readInt8(), this.bg_color_rgba = e.readUint8Array(4), this.box_record = e.readInt16Array(4), this.style_record = e.readUint8Array(12), this.parseFooter(e);
    }), c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA, "wvtt", function (e) {
      this.parseHeader(e), this.parseFooter(e);
    }), c.createSampleGroupCtor("alst", function (e) {
      var t,
          r = e.readUint16();

      for (this.first_output_sample = e.readUint16(), this.sample_offset = [], t = 0; t < r; t++) {
        this.sample_offset[t] = e.readUint32();
      }

      var i = this.description_length - 4 - 4 * r;

      for (this.num_output_samples = [], this.num_total_samples = [], t = 0; t < i / 4; t++) {
        this.num_output_samples[t] = e.readUint16(), this.num_total_samples[t] = e.readUint16();
      }
    }), c.createSampleGroupCtor("avll", function (e) {
      this.layerNumber = e.readUint8(), this.accurateStatisticsFlag = e.readUint8(), this.avgBitRate = e.readUint16(), this.avgFrameRate = e.readUint16();
    }), c.createSampleGroupCtor("avss", function (e) {
      this.subSequenceIdentifier = e.readUint16(), this.layerNumber = e.readUint8();
      var t = e.readUint8();
      this.durationFlag = t >> 7, this.avgRateFlag = t >> 6 & 1, this.durationFlag && (this.duration = e.readUint32()), this.avgRateFlag && (this.accurateStatisticsFlag = e.readUint8(), this.avgBitRate = e.readUint16(), this.avgFrameRate = e.readUint16()), this.dependency = [];

      for (var r = e.readUint8(), i = 0; i < r; i++) {
        var n = {};
        this.dependency.push(n), n.subSeqDirectionFlag = e.readUint8(), n.layerNumber = e.readUint8(), n.subSequenceIdentifier = e.readUint16();
      }
    }), c.createSampleGroupCtor("dtrt", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("mvif", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("prol", function (e) {
      this.roll_distance = e.readInt16();
    }), c.createSampleGroupCtor("rap ", function (e) {
      var t = e.readUint8();
      this.num_leading_samples_known = t >> 7, this.num_leading_samples = 127 & t;
    }), c.createSampleGroupCtor("rash", function (e) {
      if (this.operation_point_count = e.readUint16(), this.description_length !== 2 + (1 === this.operation_point_count ? 2 : 6 * this.operation_point_count) + 9) a.warn("BoxParser", "Mismatch in " + this.grouping_type + " sample group length"), this.data = e.readUint8Array(this.description_length - 2);else {
        if (1 === this.operation_point_count) this.target_rate_share = e.readUint16();else {
          this.target_rate_share = [], this.available_bitrate = [];

          for (var t = 0; t < this.operation_point_count; t++) {
            this.available_bitrate[t] = e.readUint32(), this.target_rate_share[t] = e.readUint16();
          }
        }
        this.maximum_bitrate = e.readUint32(), this.minimum_bitrate = e.readUint32(), this.discard_priority = e.readUint8();
      }
    }), c.createSampleGroupCtor("roll", function (e) {
      this.roll_distance = e.readInt16();
    }), c.SampleGroupEntry.prototype.parse = function (e) {
      a.warn("BoxParser", "Unknown Sample Group type: " + this.grouping_type), this.data = e.readUint8Array(this.description_length);
    }, c.createSampleGroupCtor("scif", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("scnm", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("seig", function (e) {
      this.reserved = e.readUint8();
      var t = e.readUint8();
      this.crypt_byte_block = t >> 4, this.skip_byte_block = 15 & t, this.isProtected = e.readUint8(), this.Per_Sample_IV_Size = e.readUint8(), this.KID = c.parseHex16(e), this.constant_IV_size = 0, this.constant_IV = 0, 1 === this.isProtected && 0 === this.Per_Sample_IV_Size && (this.constant_IV_size = e.readUint8(), this.constant_IV = e.readUint8Array(this.constant_IV_size));
    }), c.createSampleGroupCtor("stsa", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("sync", function (e) {
      var t = e.readUint8();
      this.NAL_unit_type = 63 & t;
    }), c.createSampleGroupCtor("tele", function (e) {
      var t = e.readUint8();
      this.level_independently_decodable = t >> 7;
    }), c.createSampleGroupCtor("tsas", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("tscl", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createSampleGroupCtor("vipr", function (e) {
      a.warn("BoxParser", "Sample Group type: " + this.grouping_type + " not fully parsed");
    }), c.createFullBoxCtor("sbgp", function (e) {
      this.grouping_type = e.readString(4), 1 === this.version ? this.grouping_type_parameter = e.readUint32() : this.grouping_type_parameter = 0, this.entries = [];

      for (var t = e.readUint32(), r = 0; r < t; r++) {
        var i = {};
        this.entries.push(i), i.sample_count = e.readInt32(), i.group_description_index = e.readInt32();
      }
    }), c.createFullBoxCtor("schm", function (e) {
      this.scheme_type = e.readString(4), this.scheme_version = e.readUint32(), 1 & this.flags && (this.scheme_uri = e.readString(this.size - this.hdr_size - 8));
    }), c.createBoxCtor("sdp ", function (e) {
      this.sdptext = e.readString(this.size - this.hdr_size);
    }), c.createFullBoxCtor("sdtp", function (e) {
      var t,
          r = this.size - this.hdr_size;
      this.is_leading = [], this.sample_depends_on = [], this.sample_is_depended_on = [], this.sample_has_redundancy = [];

      for (var i = 0; i < r; i++) {
        t = e.readUint8(), this.is_leading[i] = t >> 6, this.sample_depends_on[i] = t >> 4 & 3, this.sample_is_depended_on[i] = t >> 2 & 3, this.sample_has_redundancy[i] = 3 & t;
      }
    }), c.createFullBoxCtor("senc"), c.createFullBoxCtor("sgpd", function (e) {
      this.grouping_type = e.readString(4), a.debug("BoxParser", "Found Sample Groups of type " + this.grouping_type), 1 === this.version ? this.default_length = e.readUint32() : this.default_length = 0, this.version >= 2 && (this.default_group_description_index = e.readUint32()), this.entries = [];

      for (var t = e.readUint32(), r = 0; r < t; r++) {
        var i;
        i = c[this.grouping_type + "SampleGroupEntry"] ? new c[this.grouping_type + "SampleGroupEntry"](this.grouping_type) : new c.SampleGroupEntry(this.grouping_type), this.entries.push(i), 1 === this.version && 0 === this.default_length ? i.description_length = e.readUint32() : i.description_length = this.default_length, i.write === c.SampleGroupEntry.prototype.write && (a.info("BoxParser", "SampleGroup for type " + this.grouping_type + " writing not yet implemented, keeping unparsed data in memory for later write"), i.data = e.readUint8Array(i.description_length), e.position -= i.description_length), i.parse(e);
      }
    }), c.createFullBoxCtor("sidx", function (e) {
      this.reference_ID = e.readUint32(), this.timescale = e.readUint32(), 0 === this.version ? (this.earliest_presentation_time = e.readUint32(), this.first_offset = e.readUint32()) : (this.earliest_presentation_time = e.readUint64(), this.first_offset = e.readUint64()), e.readUint16(), this.references = [];

      for (var t = e.readUint16(), r = 0; r < t; r++) {
        var i = {};
        this.references.push(i);
        var n = e.readUint32();
        i.reference_type = n >> 31 & 1, i.referenced_size = 2147483647 & n, i.subsegment_duration = e.readUint32(), n = e.readUint32(), i.starts_with_SAP = n >> 31 & 1, i.SAP_type = n >> 28 & 7, i.SAP_delta_time = 268435455 & n;
      }
    }), c.SingleItemTypeReferenceBox = function (e, t, r, i) {
      c.Box.call(this, e, t), this.hdr_size = r, this.start = i;
    }, c.SingleItemTypeReferenceBox.prototype = new c.Box(), c.SingleItemTypeReferenceBox.prototype.parse = function (e) {
      this.from_item_ID = e.readUint16();
      var t = e.readUint16();
      this.references = [];

      for (var r = 0; r < t; r++) {
        this.references[r] = e.readUint16();
      }
    }, c.SingleItemTypeReferenceBoxLarge = function (e, t, r, i) {
      c.Box.call(this, e, t), this.hdr_size = r, this.start = i;
    }, c.SingleItemTypeReferenceBoxLarge.prototype = new c.Box(), c.SingleItemTypeReferenceBoxLarge.prototype.parse = function (e) {
      this.from_item_ID = e.readUint32();
      var t = e.readUint16();
      this.references = [];

      for (var r = 0; r < t; r++) {
        this.references[r] = e.readUint32();
      }
    }, c.createFullBoxCtor("SmDm", function (e) {
      this.primaryRChromaticity_x = e.readUint16(), this.primaryRChromaticity_y = e.readUint16(), this.primaryGChromaticity_x = e.readUint16(), this.primaryGChromaticity_y = e.readUint16(), this.primaryBChromaticity_x = e.readUint16(), this.primaryBChromaticity_y = e.readUint16(), this.whitePointChromaticity_x = e.readUint16(), this.whitePointChromaticity_y = e.readUint16(), this.luminanceMax = e.readUint32(), this.luminanceMin = e.readUint32();
    }), c.createFullBoxCtor("smhd", function (e) {
      this.balance = e.readUint16(), e.readUint16();
    }), c.createFullBoxCtor("ssix", function (e) {
      this.subsegments = [];

      for (var t = e.readUint32(), r = 0; r < t; r++) {
        var i = {};
        this.subsegments.push(i), i.ranges = [];

        for (var n = e.readUint32(), a = 0; a < n; a++) {
          var s = {};
          i.ranges.push(s), s.level = e.readUint8(), s.range_size = e.readUint24();
        }
      }
    }), c.createFullBoxCtor("stco", function (e) {
      var t;
      if (t = e.readUint32(), this.chunk_offsets = [], 0 === this.version) for (var r = 0; r < t; r++) {
        this.chunk_offsets.push(e.readUint32());
      }
    }), c.createFullBoxCtor("stdp", function (e) {
      var t = (this.size - this.hdr_size) / 2;
      this.priority = [];

      for (var r = 0; r < t; r++) {
        this.priority[r] = e.readUint16();
      }
    }), c.createFullBoxCtor("sthd"), c.createFullBoxCtor("stri", function (e) {
      this.switch_group = e.readUint16(), this.alternate_group = e.readUint16(), this.sub_track_id = e.readUint32();
      var t = (this.size - this.hdr_size - 8) / 4;
      this.attribute_list = [];

      for (var r = 0; r < t; r++) {
        this.attribute_list[r] = e.readUint32();
      }
    }), c.createFullBoxCtor("stsc", function (e) {
      var t, r;
      if (t = e.readUint32(), this.first_chunk = [], this.samples_per_chunk = [], this.sample_description_index = [], 0 === this.version) for (r = 0; r < t; r++) {
        this.first_chunk.push(e.readUint32()), this.samples_per_chunk.push(e.readUint32()), this.sample_description_index.push(e.readUint32());
      }
    }), c.createFullBoxCtor("stsd", function (e) {
      var t, r, i, n;

      for (this.entries = [], i = e.readUint32(), t = 1; t <= i; t++) {
        if ((r = c.parseOneBox(e, !0, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        c[r.type + "SampleEntry"] ? ((n = new c[r.type + "SampleEntry"](r.size)).hdr_size = r.hdr_size, n.start = r.start) : (a.warn("BoxParser", "Unknown sample entry type: " + r.type), n = new c.SampleEntry(r.type, r.size, r.hdr_size, r.start)), n.write === c.SampleEntry.prototype.write && (a.info("BoxParser", "SampleEntry " + n.type + " box writing not yet implemented, keeping unparsed data in memory for later write"), n.parseDataAndRewind(e)), n.parse(e), this.entries.push(n);
      }
    }), c.createFullBoxCtor("stsg", function (e) {
      this.grouping_type = e.readUint32();
      var t = e.readUint16();
      this.group_description_index = [];

      for (var r = 0; r < t; r++) {
        this.group_description_index[r] = e.readUint32();
      }
    }), c.createFullBoxCtor("stsh", function (e) {
      var t, r;
      if (t = e.readUint32(), this.shadowed_sample_numbers = [], this.sync_sample_numbers = [], 0 === this.version) for (r = 0; r < t; r++) {
        this.shadowed_sample_numbers.push(e.readUint32()), this.sync_sample_numbers.push(e.readUint32());
      }
    }), c.createFullBoxCtor("stss", function (e) {
      var t, r;
      if (r = e.readUint32(), 0 === this.version) for (this.sample_numbers = [], t = 0; t < r; t++) {
        this.sample_numbers.push(e.readUint32());
      }
    }), c.createFullBoxCtor("stsz", function (e) {
      var t;
      if (this.sample_sizes = [], 0 === this.version) for (this.sample_size = e.readUint32(), this.sample_count = e.readUint32(), t = 0; t < this.sample_count; t++) {
        0 === this.sample_size ? this.sample_sizes.push(e.readUint32()) : this.sample_sizes[t] = this.sample_size;
      }
    }), c.createFullBoxCtor("stts", function (e) {
      var t, r, i;
      if (t = e.readUint32(), this.sample_counts = [], this.sample_deltas = [], 0 === this.version) for (r = 0; r < t; r++) {
        this.sample_counts.push(e.readUint32()), (i = e.readInt32()) < 0 && (a.warn("BoxParser", "File uses negative stts sample delta, using value 1 instead, sync may be lost!"), i = 1), this.sample_deltas.push(i);
      }
    }), c.createFullBoxCtor("stvi", function (e) {
      var t = e.readUint32();
      this.single_view_allowed = 3 & t, this.stereo_scheme = e.readUint32();
      var r,
          i,
          n = e.readUint32();

      for (this.stereo_indication_type = e.readString(n), this.boxes = []; e.getPosition() < this.start + this.size;) {
        if ((r = c.parseOneBox(e, !1, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        i = r.box, this.boxes.push(i), this[i.type] = i;
      }
    }), c.createBoxCtor("styp", function (e) {
      c.ftypBox.prototype.parse.call(this, e);
    }), c.createFullBoxCtor("stz2", function (e) {
      var t, r;
      if (this.sample_sizes = [], 0 === this.version) if (this.reserved = e.readUint24(), this.field_size = e.readUint8(), r = e.readUint32(), 4 === this.field_size) for (t = 0; t < r; t += 2) {
        var i = e.readUint8();
        this.sample_sizes[t] = i >> 4 & 15, this.sample_sizes[t + 1] = 15 & i;
      } else if (8 === this.field_size) for (t = 0; t < r; t++) {
        this.sample_sizes[t] = e.readUint8();
      } else if (16 === this.field_size) for (t = 0; t < r; t++) {
        this.sample_sizes[t] = e.readUint16();
      } else a.error("BoxParser", "Error in length field in stz2 box");
    }), c.createFullBoxCtor("subs", function (e) {
      var t, r, i, n;

      for (i = e.readUint32(), this.entries = [], t = 0; t < i; t++) {
        var a = {};
        if (this.entries[t] = a, a.sample_delta = e.readUint32(), a.subsamples = [], (n = e.readUint16()) > 0) for (r = 0; r < n; r++) {
          var s = {};
          a.subsamples.push(s), 1 == this.version ? s.size = e.readUint32() : s.size = e.readUint16(), s.priority = e.readUint8(), s.discardable = e.readUint8(), s.codec_specific_parameters = e.readUint32();
        }
      }
    }), c.createFullBoxCtor("tenc", function (e) {
      if (e.readUint8(), 0 === this.version) e.readUint8();else {
        var t = e.readUint8();
        this.default_crypt_byte_block = t >> 4 & 15, this.default_skip_byte_block = 15 & t;
      }
      this.default_isProtected = e.readUint8(), this.default_Per_Sample_IV_Size = e.readUint8(), this.default_KID = c.parseHex16(e), 1 === this.default_isProtected && 0 === this.default_Per_Sample_IV_Size && (this.default_constant_IV_size = e.readUint8(), this.default_constant_IV = e.readUint8Array(this.default_constant_IV_size));
    }), c.createFullBoxCtor("tfdt", function (e) {
      1 == this.version ? this.baseMediaDecodeTime = e.readUint64() : this.baseMediaDecodeTime = e.readUint32();
    }), c.createFullBoxCtor("tfhd", function (e) {
      var t = 0;
      this.track_id = e.readUint32(), this.size - this.hdr_size > t && this.flags & c.TFHD_FLAG_BASE_DATA_OFFSET ? (this.base_data_offset = e.readUint64(), t += 8) : this.base_data_offset = 0, this.size - this.hdr_size > t && this.flags & c.TFHD_FLAG_SAMPLE_DESC ? (this.default_sample_description_index = e.readUint32(), t += 4) : this.default_sample_description_index = 0, this.size - this.hdr_size > t && this.flags & c.TFHD_FLAG_SAMPLE_DUR ? (this.default_sample_duration = e.readUint32(), t += 4) : this.default_sample_duration = 0, this.size - this.hdr_size > t && this.flags & c.TFHD_FLAG_SAMPLE_SIZE ? (this.default_sample_size = e.readUint32(), t += 4) : this.default_sample_size = 0, this.size - this.hdr_size > t && this.flags & c.TFHD_FLAG_SAMPLE_FLAGS ? (this.default_sample_flags = e.readUint32(), t += 4) : this.default_sample_flags = 0;
    }), c.createFullBoxCtor("tfra", function (e) {
      this.track_ID = e.readUint32(), e.readUint24();
      var t = e.readUint8();
      this.length_size_of_traf_num = t >> 4 & 3, this.length_size_of_trun_num = t >> 2 & 3, this.length_size_of_sample_num = 3 & t, this.entries = [];

      for (var r = e.readUint32(), i = 0; i < r; i++) {
        1 === this.version ? (this.time = e.readUint64(), this.moof_offset = e.readUint64()) : (this.time = e.readUint32(), this.moof_offset = e.readUint32()), this.traf_number = e["readUint" + 8 * (this.length_size_of_traf_num + 1)](), this.trun_number = e["readUint" + 8 * (this.length_size_of_trun_num + 1)](), this.sample_number = e["readUint" + 8 * (this.length_size_of_sample_num + 1)]();
      }
    }), c.createFullBoxCtor("tkhd", function (e) {
      1 == this.version ? (this.creation_time = e.readUint64(), this.modification_time = e.readUint64(), this.track_id = e.readUint32(), e.readUint32(), this.duration = e.readUint64()) : (this.creation_time = e.readUint32(), this.modification_time = e.readUint32(), this.track_id = e.readUint32(), e.readUint32(), this.duration = e.readUint32()), e.readUint32Array(2), this.layer = e.readInt16(), this.alternate_group = e.readInt16(), this.volume = e.readInt16() >> 8, e.readUint16(), this.matrix = e.readInt32Array(9), this.width = e.readUint32(), this.height = e.readUint32();
    }), c.createBoxCtor("tmax", function (e) {
      this.time = e.readUint32();
    }), c.createBoxCtor("tmin", function (e) {
      this.time = e.readUint32();
    }), c.createBoxCtor("totl", function (e) {
      this.bytessent = e.readUint32();
    }), c.createBoxCtor("tpay", function (e) {
      this.bytessent = e.readUint32();
    }), c.createBoxCtor("tpyl", function (e) {
      this.bytessent = e.readUint64();
    }), c.TrackGroupTypeBox.prototype.parse = function (e) {
      this.parseFullHeader(e), this.track_group_id = e.readUint32();
    }, c.createTrackGroupCtor("msrc"), c.TrackReferenceTypeBox = function (e, t, r, i) {
      c.Box.call(this, e, t), this.hdr_size = r, this.start = i;
    }, c.TrackReferenceTypeBox.prototype = new c.Box(), c.TrackReferenceTypeBox.prototype.parse = function (e) {
      this.track_ids = e.readUint32Array((this.size - this.hdr_size) / 4);
    }, c.trefBox.prototype.parse = function (e) {
      for (var t, r; e.getPosition() < this.start + this.size;) {
        if ((t = c.parseOneBox(e, !0, this.size - (e.getPosition() - this.start))).code !== c.OK) return;
        (r = new c.TrackReferenceTypeBox(t.type, t.size, t.hdr_size, t.start)).write === c.Box.prototype.write && "mdat" !== r.type && (a.info("BoxParser", "TrackReference " + r.type + " box writing not yet implemented, keeping unparsed data in memory for later write"), r.parseDataAndRewind(e)), r.parse(e), this.boxes.push(r);
      }
    }, c.createFullBoxCtor("trep", function (e) {
      for (this.track_ID = e.readUint32(), this.boxes = []; e.getPosition() < this.start + this.size;) {
        if (ret = c.parseOneBox(e, !1, this.size - (e.getPosition() - this.start)), ret.code !== c.OK) return;
        box = ret.box, this.boxes.push(box);
      }
    }), c.createFullBoxCtor("trex", function (e) {
      this.track_id = e.readUint32(), this.default_sample_description_index = e.readUint32(), this.default_sample_duration = e.readUint32(), this.default_sample_size = e.readUint32(), this.default_sample_flags = e.readUint32();
    }), c.createBoxCtor("trpy", function (e) {
      this.bytessent = e.readUint64();
    }), c.createFullBoxCtor("trun", function (e) {
      var t = 0;
      if (this.sample_count = e.readUint32(), t += 4, this.size - this.hdr_size > t && this.flags & c.TRUN_FLAGS_DATA_OFFSET ? (this.data_offset = e.readInt32(), t += 4) : this.data_offset = 0, this.size - this.hdr_size > t && this.flags & c.TRUN_FLAGS_FIRST_FLAG ? (this.first_sample_flags = e.readUint32(), t += 4) : this.first_sample_flags = 0, this.sample_duration = [], this.sample_size = [], this.sample_flags = [], this.sample_composition_time_offset = [], this.size - this.hdr_size > t) for (var r = 0; r < this.sample_count; r++) {
        this.flags & c.TRUN_FLAGS_DURATION && (this.sample_duration[r] = e.readUint32()), this.flags & c.TRUN_FLAGS_SIZE && (this.sample_size[r] = e.readUint32()), this.flags & c.TRUN_FLAGS_FLAGS && (this.sample_flags[r] = e.readUint32()), this.flags & c.TRUN_FLAGS_CTS_OFFSET && (0 === this.version ? this.sample_composition_time_offset[r] = e.readUint32() : this.sample_composition_time_offset[r] = e.readInt32());
      }
    }), c.createFullBoxCtor("tsel", function (e) {
      this.switch_group = e.readUint32();
      var t = (this.size - this.hdr_size - 4) / 4;
      this.attribute_list = [];

      for (var r = 0; r < t; r++) {
        this.attribute_list[r] = e.readUint32();
      }
    }), c.createFullBoxCtor("txtC", function (e) {
      this.config = e.readCString();
    }), c.createFullBoxCtor("url ", function (e) {
      1 !== this.flags && (this.location = e.readCString());
    }), c.createFullBoxCtor("urn ", function (e) {
      this.name = e.readCString(), this.size - this.hdr_size - this.name.length - 1 > 0 && (this.location = e.readCString());
    }), c.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66", !0, !1, function (e) {
      this.LiveServerManifest = e.readString(this.size - this.hdr_size).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
    }), c.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3", !0, !1, function (e) {
      this.system_id = c.parseHex16(e);
      var t = e.readUint32();
      t > 0 && (this.data = e.readUint8Array(t));
    }), c.createUUIDBox("a2394f525a9b4f14a2446c427c648df4", !0, !1), c.createUUIDBox("8974dbce7be74c5184f97148f9882554", !0, !1, function (e) {
      this.default_AlgorithmID = e.readUint24(), this.default_IV_size = e.readUint8(), this.default_KID = c.parseHex16(e);
    }), c.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f", !0, !1, function (e) {
      this.fragment_count = e.readUint8(), this.entries = [];

      for (var t = 0; t < this.fragment_count; t++) {
        var r = {},
            i = 0,
            n = 0;
        1 === this.version ? (i = e.readUint64(), n = e.readUint64()) : (i = e.readUint32(), n = e.readUint32()), r.absolute_time = i, r.absolute_duration = n, this.entries.push(r);
      }
    }), c.createUUIDBox("6d1d9b0542d544e680e2141daff757b2", !0, !1, function (e) {
      1 === this.version ? (this.absolute_time = e.readUint64(), this.duration = e.readUint64()) : (this.absolute_time = e.readUint32(), this.duration = e.readUint32());
    }), c.createFullBoxCtor("vmhd", function (e) {
      this.graphicsmode = e.readUint16(), this.opcolor = e.readUint16Array(3);
    }), c.createFullBoxCtor("vpcC", function (e) {
      var t;
      1 === this.version ? (this.profile = e.readUint8(), this.level = e.readUint8(), t = e.readUint8(), this.bitDepth = t >> 4, this.chromaSubsampling = t >> 1 & 7, this.videoFullRangeFlag = 1 & t, this.colourPrimaries = e.readUint8(), this.transferCharacteristics = e.readUint8(), this.matrixCoefficients = e.readUint8(), this.codecIntializationDataSize = e.readUint16(), this.codecIntializationData = e.readUint8Array(this.codecIntializationDataSize)) : (this.profile = e.readUint8(), this.level = e.readUint8(), t = e.readUint8(), this.bitDepth = t >> 4 & 15, this.colorSpace = 15 & t, t = e.readUint8(), this.chromaSubsampling = t >> 4 & 15, this.transferFunction = t >> 1 & 7, this.videoFullRangeFlag = 1 & t, this.codecIntializationDataSize = e.readUint16(), this.codecIntializationData = e.readUint8Array(this.codecIntializationDataSize));
    }), c.createBoxCtor("vttC", function (e) {
      this.text = e.readString(this.size - this.hdr_size);
    }), c.SampleEntry.prototype.isVideo = function () {
      return !1;
    }, c.SampleEntry.prototype.isAudio = function () {
      return !1;
    }, c.SampleEntry.prototype.isSubtitle = function () {
      return !1;
    }, c.SampleEntry.prototype.isMetadata = function () {
      return !1;
    }, c.SampleEntry.prototype.isHint = function () {
      return !1;
    }, c.SampleEntry.prototype.getCodec = function () {
      return this.type.replace(".", "");
    }, c.SampleEntry.prototype.getWidth = function () {
      return "";
    }, c.SampleEntry.prototype.getHeight = function () {
      return "";
    }, c.SampleEntry.prototype.getChannelCount = function () {
      return "";
    }, c.SampleEntry.prototype.getSampleRate = function () {
      return "";
    }, c.SampleEntry.prototype.getSampleSize = function () {
      return "";
    }, c.VisualSampleEntry.prototype.isVideo = function () {
      return !0;
    }, c.VisualSampleEntry.prototype.getWidth = function () {
      return this.width;
    }, c.VisualSampleEntry.prototype.getHeight = function () {
      return this.height;
    }, c.AudioSampleEntry.prototype.isAudio = function () {
      return !0;
    }, c.AudioSampleEntry.prototype.getChannelCount = function () {
      return this.channel_count;
    }, c.AudioSampleEntry.prototype.getSampleRate = function () {
      return this.samplerate;
    }, c.AudioSampleEntry.prototype.getSampleSize = function () {
      return this.samplesize;
    }, c.SubtitleSampleEntry.prototype.isSubtitle = function () {
      return !0;
    }, c.MetadataSampleEntry.prototype.isMetadata = function () {
      return !0;
    }, c.decimalToHex = function (e, t) {
      var r = Number(e).toString(16);

      for (t = null == t ? t = 2 : t; r.length < t;) {
        r = "0" + r;
      }

      return r;
    }, c.avc1SampleEntry.prototype.getCodec = c.avc2SampleEntry.prototype.getCodec = c.avc3SampleEntry.prototype.getCodec = c.avc4SampleEntry.prototype.getCodec = function () {
      var e = c.SampleEntry.prototype.getCodec.call(this);
      return this.avcC ? e + "." + c.decimalToHex(this.avcC.AVCProfileIndication) + c.decimalToHex(this.avcC.profile_compatibility) + c.decimalToHex(this.avcC.AVCLevelIndication) : e;
    }, c.hev1SampleEntry.prototype.getCodec = c.hvc1SampleEntry.prototype.getCodec = function () {
      var e,
          t = c.SampleEntry.prototype.getCodec.call(this);

      if (this.hvcC) {
        switch (t += ".", this.hvcC.general_profile_space) {
          case 0:
            t += "";
            break;

          case 1:
            t += "A";
            break;

          case 2:
            t += "B";
            break;

          case 3:
            t += "C";
        }

        t += this.hvcC.general_profile_idc, t += ".";
        var r = this.hvcC.general_profile_compatibility,
            i = 0;

        for (e = 0; e < 32 && (i |= 1 & r, 31 != e); e++) {
          i <<= 1, r >>= 1;
        }

        t += c.decimalToHex(i, 0), t += ".", 0 === this.hvcC.general_tier_flag ? t += "L" : t += "H", t += this.hvcC.general_level_idc;
        var n = !1,
            a = "";

        for (e = 5; e >= 0; e--) {
          (this.hvcC.general_constraint_indicator[e] || n) && (a = "." + c.decimalToHex(this.hvcC.general_constraint_indicator[e], 0) + a, n = !0);
        }

        t += a;
      }

      return t;
    }, c.mp4aSampleEntry.prototype.getCodec = function () {
      var e = c.SampleEntry.prototype.getCodec.call(this);

      if (this.esds && this.esds.esd) {
        var t = this.esds.esd.getOTI(),
            r = this.esds.esd.getAudioConfig();
        return e + "." + c.decimalToHex(t) + (r ? "." + r : "");
      }

      return e;
    }, c.stxtSampleEntry.prototype.getCodec = function () {
      var e = c.SampleEntry.prototype.getCodec.call(this);
      return this.mime_format ? e + "." + this.mime_format : e;
    }, c.av01SampleEntry.prototype.getCodec = function () {
      var e,
          t = c.SampleEntry.prototype.getCodec.call(this);
      return 2 === this.av1C.seq_profile && 1 === this.av1C.high_bitdepth ? e = 1 === this.av1C.twelve_bit ? "12" : "10" : this.av1C.seq_profile <= 2 && (e = 1 === this.av1C.high_bitdepth ? "10" : "08"), t + "." + this.av1C.seq_profile + "." + this.av1C.seq_level_idx_0 + (this.av1C.seq_tier_0 ? "H" : "M") + "." + e;
    }, c.Box.prototype.writeHeader = function (e, t) {
      this.size += 8, this.size > f && (this.size += 8), "uuid" === this.type && (this.size += 16), a.debug("BoxWriter", "Writing box " + this.type + " of size: " + this.size + " at position " + e.getPosition() + (t || "")), this.size > f ? e.writeUint32(1) : (this.sizePosition = e.getPosition(), e.writeUint32(this.size)), e.writeString(this.type, null, 4), "uuid" === this.type && e.writeUint8Array(this.uuid), this.size > f && e.writeUint64(this.size);
    }, c.FullBox.prototype.writeHeader = function (e) {
      this.size += 4, c.Box.prototype.writeHeader.call(this, e, " v=" + this.version + " f=" + this.flags), e.writeUint8(this.version), e.writeUint24(this.flags);
    }, c.Box.prototype.write = function (e) {
      "mdat" === this.type ? this.data && (this.size = this.data.length, this.writeHeader(e), e.writeUint8Array(this.data)) : (this.size = this.data ? this.data.length : 0, this.writeHeader(e), this.data && e.writeUint8Array(this.data));
    }, c.ContainerBox.prototype.write = function (e) {
      this.size = 0, this.writeHeader(e);

      for (var t = 0; t < this.boxes.length; t++) {
        this.boxes[t] && (this.boxes[t].write(e), this.size += this.boxes[t].size);
      }

      a.debug("BoxWriter", "Adjusting box " + this.type + " with new size " + this.size), e.adjustUint32(this.sizePosition, this.size);
    }, c.TrackReferenceTypeBox.prototype.write = function (e) {
      this.size = 4 * this.track_ids.length, this.writeHeader(e), e.writeUint32Array(this.track_ids);
    }, c.avcCBox.prototype.write = function (e) {
      var t;

      for (this.size = 7, t = 0; t < this.SPS.length; t++) {
        this.size += 2 + this.SPS[t].length;
      }

      for (t = 0; t < this.PPS.length; t++) {
        this.size += 2 + this.PPS[t].length;
      }

      for (this.ext && (this.size += this.ext.length), this.writeHeader(e), e.writeUint8(this.configurationVersion), e.writeUint8(this.AVCProfileIndication), e.writeUint8(this.profile_compatibility), e.writeUint8(this.AVCLevelIndication), e.writeUint8(this.lengthSizeMinusOne + 252), e.writeUint8(this.SPS.length + 224), t = 0; t < this.SPS.length; t++) {
        e.writeUint16(this.SPS[t].length), e.writeUint8Array(this.SPS[t].nalu);
      }

      for (e.writeUint8(this.PPS.length), t = 0; t < this.PPS.length; t++) {
        e.writeUint16(this.PPS[t].length), e.writeUint8Array(this.PPS[t].nalu);
      }

      this.ext && e.writeUint8Array(this.ext);
    }, c.co64Box.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 4 + 8 * this.chunk_offsets.length, this.writeHeader(e), e.writeUint32(this.chunk_offsets.length), t = 0; t < this.chunk_offsets.length; t++) {
        e.writeUint64(this.chunk_offsets[t]);
      }
    }, c.cslgBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 20, this.writeHeader(e), e.writeInt32(this.compositionToDTSShift), e.writeInt32(this.leastDecodeToDisplayDelta), e.writeInt32(this.greatestDecodeToDisplayDelta), e.writeInt32(this.compositionStartTime), e.writeInt32(this.compositionEndTime);
    }, c.cttsBox.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 4 + 8 * this.sample_counts.length, this.writeHeader(e), e.writeUint32(this.sample_counts.length), t = 0; t < this.sample_counts.length; t++) {
        e.writeUint32(this.sample_counts[t]), 1 === this.version ? e.writeInt32(this.sample_offsets[t]) : e.writeUint32(this.sample_offsets[t]);
      }
    }, c.drefBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4, this.writeHeader(e), e.writeUint32(this.entries.length);

      for (var t = 0; t < this.entries.length; t++) {
        this.entries[t].write(e), this.size += this.entries[t].size;
      }

      a.debug("BoxWriter", "Adjusting box " + this.type + " with new size " + this.size), e.adjustUint32(this.sizePosition, this.size);
    }, c.elngBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = this.extended_language.length, this.writeHeader(e), e.writeString(this.extended_language);
    }, c.elstBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4 + 12 * this.entries.length, this.writeHeader(e), e.writeUint32(this.entries.length);

      for (var t = 0; t < this.entries.length; t++) {
        var r = this.entries[t];
        e.writeUint32(r.segment_duration), e.writeInt32(r.media_time), e.writeInt16(r.media_rate_integer), e.writeInt16(r.media_rate_fraction);
      }
    }, c.emsgBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 16 + this.message_data.length + (this.scheme_id_uri.length + 1) + (this.value.length + 1), this.writeHeader(e), e.writeCString(this.scheme_id_uri), e.writeCString(this.value), e.writeUint32(this.timescale), e.writeUint32(this.presentation_time_delta), e.writeUint32(this.event_duration), e.writeUint32(this.id), e.writeUint8Array(this.message_data);
    }, c.ftypBox.prototype.write = function (e) {
      this.size = 8 + 4 * this.compatible_brands.length, this.writeHeader(e), e.writeString(this.major_brand, null, 4), e.writeUint32(this.minor_version);

      for (var t = 0; t < this.compatible_brands.length; t++) {
        e.writeString(this.compatible_brands[t], null, 4);
      }
    }, c.hdlrBox.prototype.write = function (e) {
      this.size = 20 + this.name.length + 1, this.version = 0, this.flags = 0, this.writeHeader(e), e.writeUint32(0), e.writeString(this.handler, null, 4), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeCString(this.name);
    }, c.kindBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = this.schemeURI.length + 1 + (this.value.length + 1), this.writeHeader(e), e.writeCString(this.schemeURI), e.writeCString(this.value);
    }, c.mdhdBox.prototype.write = function (e) {
      this.size = 20, this.flags = 0, this.version = 0, this.writeHeader(e), e.writeUint32(this.creation_time), e.writeUint32(this.modification_time), e.writeUint32(this.timescale), e.writeUint32(this.duration), e.writeUint16(this.language), e.writeUint16(0);
    }, c.mehdBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4, this.writeHeader(e), e.writeUint32(this.fragment_duration);
    }, c.mfhdBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4, this.writeHeader(e), e.writeUint32(this.sequence_number);
    }, c.mvhdBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 96, this.writeHeader(e), e.writeUint32(this.creation_time), e.writeUint32(this.modification_time), e.writeUint32(this.timescale), e.writeUint32(this.duration), e.writeUint32(this.rate), e.writeUint16(this.volume << 8), e.writeUint16(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32Array(this.matrix), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32(this.next_track_id);
    }, c.SampleEntry.prototype.writeHeader = function (e) {
      this.size = 8, c.Box.prototype.writeHeader.call(this, e), e.writeUint8(0), e.writeUint8(0), e.writeUint8(0), e.writeUint8(0), e.writeUint8(0), e.writeUint8(0), e.writeUint16(this.data_reference_index);
    }, c.SampleEntry.prototype.writeFooter = function (e) {
      for (var t = 0; t < this.boxes.length; t++) {
        this.boxes[t].write(e), this.size += this.boxes[t].size;
      }

      a.debug("BoxWriter", "Adjusting box " + this.type + " with new size " + this.size), e.adjustUint32(this.sizePosition, this.size);
    }, c.SampleEntry.prototype.write = function (e) {
      this.writeHeader(e), e.writeUint8Array(this.data), this.size += this.data.length, a.debug("BoxWriter", "Adjusting box " + this.type + " with new size " + this.size), e.adjustUint32(this.sizePosition, this.size);
    }, c.VisualSampleEntry.prototype.write = function (e) {
      this.writeHeader(e), this.size += 70, e.writeUint16(0), e.writeUint16(0), e.writeUint32(0), e.writeUint32(0), e.writeUint32(0), e.writeUint16(this.width), e.writeUint16(this.height), e.writeUint32(this.horizresolution), e.writeUint32(this.vertresolution), e.writeUint32(0), e.writeUint16(this.frame_count), e.writeUint8(Math.min(31, this.compressorname.length)), e.writeString(this.compressorname, null, 31), e.writeUint16(this.depth), e.writeInt16(-1), this.writeFooter(e);
    }, c.AudioSampleEntry.prototype.write = function (e) {
      this.writeHeader(e), this.size += 20, e.writeUint32(0), e.writeUint32(0), e.writeUint16(this.channel_count), e.writeUint16(this.samplesize), e.writeUint16(0), e.writeUint16(0), e.writeUint32(this.samplerate << 16), this.writeFooter(e);
    }, c.stppSampleEntry.prototype.write = function (e) {
      this.writeHeader(e), this.size += this.namespace.length + 1 + this.schema_location.length + 1 + this.auxiliary_mime_types.length + 1, e.writeCString(this.namespace), e.writeCString(this.schema_location), e.writeCString(this.auxiliary_mime_types), this.writeFooter(e);
    }, c.SampleGroupEntry.prototype.write = function (e) {
      e.writeUint8Array(this.data);
    }, c.sbgpBox.prototype.write = function (e) {
      this.version = 1, this.flags = 0, this.size = 12 + 8 * this.entries.length, this.writeHeader(e), e.writeString(this.grouping_type, null, 4), e.writeUint32(this.grouping_type_parameter), e.writeUint32(this.entries.length);

      for (var t = 0; t < this.entries.length; t++) {
        var r = this.entries[t];
        e.writeInt32(r.sample_count), e.writeInt32(r.group_description_index);
      }
    }, c.sgpdBox.prototype.write = function (e) {
      var t, r;

      for (this.flags = 0, this.size = 12, t = 0; t < this.entries.length; t++) {
        r = this.entries[t], 1 === this.version && (0 === this.default_length && (this.size += 4), this.size += r.data.length);
      }

      for (this.writeHeader(e), e.writeString(this.grouping_type, null, 4), 1 === this.version && e.writeUint32(this.default_length), this.version >= 2 && e.writeUint32(this.default_sample_description_index), e.writeUint32(this.entries.length), t = 0; t < this.entries.length; t++) {
        r = this.entries[t], 1 === this.version && 0 === this.default_length && e.writeUint32(r.description_length), r.write(e);
      }
    }, c.sidxBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 20 + 12 * this.references.length, this.writeHeader(e), e.writeUint32(this.reference_ID), e.writeUint32(this.timescale), e.writeUint32(this.earliest_presentation_time), e.writeUint32(this.first_offset), e.writeUint16(0), e.writeUint16(this.references.length);

      for (var t = 0; t < this.references.length; t++) {
        var r = this.references[t];
        e.writeUint32(r.reference_type << 31 | r.referenced_size), e.writeUint32(r.subsegment_duration), e.writeUint32(r.starts_with_SAP << 31 | r.SAP_type << 28 | r.SAP_delta_time);
      }
    }, c.stcoBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4 + 4 * this.chunk_offsets.length, this.writeHeader(e), e.writeUint32(this.chunk_offsets.length), e.writeUint32Array(this.chunk_offsets);
    }, c.stscBox.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 4 + 12 * this.first_chunk.length, this.writeHeader(e), e.writeUint32(this.first_chunk.length), t = 0; t < this.first_chunk.length; t++) {
        e.writeUint32(this.first_chunk[t]), e.writeUint32(this.samples_per_chunk[t]), e.writeUint32(this.sample_description_index[t]);
      }
    }, c.stsdBox.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 0, this.writeHeader(e), e.writeUint32(this.entries.length), this.size += 4, t = 0; t < this.entries.length; t++) {
        this.entries[t].write(e), this.size += this.entries[t].size;
      }

      a.debug("BoxWriter", "Adjusting box " + this.type + " with new size " + this.size), e.adjustUint32(this.sizePosition, this.size);
    }, c.stshBox.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 4 + 8 * this.shadowed_sample_numbers.length, this.writeHeader(e), e.writeUint32(this.shadowed_sample_numbers.length), t = 0; t < this.shadowed_sample_numbers.length; t++) {
        e.writeUint32(this.shadowed_sample_numbers[t]), e.writeUint32(this.sync_sample_numbers[t]);
      }
    }, c.stssBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4 + 4 * this.sample_numbers.length, this.writeHeader(e), e.writeUint32(this.sample_numbers.length), e.writeUint32Array(this.sample_numbers);
    }, c.stszBox.prototype.write = function (e) {
      var t,
          r = !0;
      if (this.version = 0, this.flags = 0, this.sample_sizes.length > 0) for (t = 0; t + 1 < this.sample_sizes.length;) {
        if (this.sample_sizes[t + 1] !== this.sample_sizes[0]) {
          r = !1;
          break;
        }

        t++;
      } else r = !1;
      this.size = 8, r || (this.size += 4 * this.sample_sizes.length), this.writeHeader(e), r ? e.writeUint32(this.sample_sizes[0]) : e.writeUint32(0), e.writeUint32(this.sample_sizes.length), r || e.writeUint32Array(this.sample_sizes);
    }, c.sttsBox.prototype.write = function (e) {
      var t;

      for (this.version = 0, this.flags = 0, this.size = 4 + 8 * this.sample_counts.length, this.writeHeader(e), e.writeUint32(this.sample_counts.length), t = 0; t < this.sample_counts.length; t++) {
        e.writeUint32(this.sample_counts[t]), e.writeUint32(this.sample_deltas[t]);
      }
    }, c.tfdtBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 4, 1 === this.version && (this.size += 4), this.writeHeader(e), 1 === this.version ? e.writeUint64(this.baseMediaDecodeTime) : e.writeUint32(this.baseMediaDecodeTime);
    }, c.tfhdBox.prototype.write = function (e) {
      this.version = 0, this.size = 4, this.flags & c.TFHD_FLAG_BASE_DATA_OFFSET && (this.size += 8), this.flags & c.TFHD_FLAG_SAMPLE_DESC && (this.size += 4), this.flags & c.TFHD_FLAG_SAMPLE_DUR && (this.size += 4), this.flags & c.TFHD_FLAG_SAMPLE_SIZE && (this.size += 4), this.flags & c.TFHD_FLAG_SAMPLE_FLAGS && (this.size += 4), this.writeHeader(e), e.writeUint32(this.track_id), this.flags & c.TFHD_FLAG_BASE_DATA_OFFSET && e.writeUint64(this.base_data_offset), this.flags & c.TFHD_FLAG_SAMPLE_DESC && e.writeUint32(this.default_sample_description_index), this.flags & c.TFHD_FLAG_SAMPLE_DUR && e.writeUint32(this.default_sample_duration), this.flags & c.TFHD_FLAG_SAMPLE_SIZE && e.writeUint32(this.default_sample_size), this.flags & c.TFHD_FLAG_SAMPLE_FLAGS && e.writeUint32(this.default_sample_flags);
    }, c.tkhdBox.prototype.write = function (e) {
      this.version = 0, this.size = 80, this.writeHeader(e), e.writeUint32(this.creation_time), e.writeUint32(this.modification_time), e.writeUint32(this.track_id), e.writeUint32(0), e.writeUint32(this.duration), e.writeUint32(0), e.writeUint32(0), e.writeInt16(this.layer), e.writeInt16(this.alternate_group), e.writeInt16(this.volume << 8), e.writeUint16(0), e.writeInt32Array(this.matrix), e.writeUint32(this.width), e.writeUint32(this.height);
    }, c.trexBox.prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = 20, this.writeHeader(e), e.writeUint32(this.track_id), e.writeUint32(this.default_sample_description_index), e.writeUint32(this.default_sample_duration), e.writeUint32(this.default_sample_size), e.writeUint32(this.default_sample_flags);
    }, c.trunBox.prototype.write = function (e) {
      this.version = 0, this.size = 4, this.flags & c.TRUN_FLAGS_DATA_OFFSET && (this.size += 4), this.flags & c.TRUN_FLAGS_FIRST_FLAG && (this.size += 4), this.flags & c.TRUN_FLAGS_DURATION && (this.size += 4 * this.sample_duration.length), this.flags & c.TRUN_FLAGS_SIZE && (this.size += 4 * this.sample_size.length), this.flags & c.TRUN_FLAGS_FLAGS && (this.size += 4 * this.sample_flags.length), this.flags & c.TRUN_FLAGS_CTS_OFFSET && (this.size += 4 * this.sample_composition_time_offset.length), this.writeHeader(e), e.writeUint32(this.sample_count), this.flags & c.TRUN_FLAGS_DATA_OFFSET && (this.data_offset_position = e.getPosition(), e.writeInt32(this.data_offset)), this.flags & c.TRUN_FLAGS_FIRST_FLAG && e.writeUint32(this.first_sample_flags);

      for (var t = 0; t < this.sample_count; t++) {
        this.flags & c.TRUN_FLAGS_DURATION && e.writeUint32(this.sample_duration[t]), this.flags & c.TRUN_FLAGS_SIZE && e.writeUint32(this.sample_size[t]), this.flags & c.TRUN_FLAGS_FLAGS && e.writeUint32(this.sample_flags[t]), this.flags & c.TRUN_FLAGS_CTS_OFFSET && (0 === this.version ? e.writeUint32(this.sample_composition_time_offset[t]) : e.writeInt32(this.sample_composition_time_offset[t]));
      }
    }, c["url Box"].prototype.write = function (e) {
      this.version = 0, this.location ? (this.flags = 0, this.size = this.location.length + 1) : (this.flags = 1, this.size = 0), this.writeHeader(e), this.location && e.writeCString(this.location);
    }, c["urn Box"].prototype.write = function (e) {
      this.version = 0, this.flags = 0, this.size = this.name.length + 1 + (this.location ? this.location.length + 1 : 0), this.writeHeader(e), e.writeCString(this.name), this.location && e.writeCString(this.location);
    }, c.vmhdBox.prototype.write = function (e) {
      this.version = 0, this.flags = 1, this.size = 8, this.writeHeader(e), e.writeUint16(this.graphicsmode), e.writeUint16Array(this.opcolor);
    }, c.cttsBox.prototype.unpack = function (e) {
      var t, r, i;

      for (i = 0, t = 0; t < this.sample_counts.length; t++) {
        for (r = 0; r < this.sample_counts[t]; r++) {
          e[i].pts = e[i].dts + this.sample_offsets[t], i++;
        }
      }
    }, c.sttsBox.prototype.unpack = function (e) {
      var t, r, i;

      for (i = 0, t = 0; t < this.sample_counts.length; t++) {
        for (r = 0; r < this.sample_counts[t]; r++) {
          e[i].dts = 0 === i ? 0 : e[i - 1].dts + this.sample_deltas[t], i++;
        }
      }
    }, c.stcoBox.prototype.unpack = function (e) {
      var t;

      for (t = 0; t < this.chunk_offsets.length; t++) {
        e[t].offset = this.chunk_offsets[t];
      }
    }, c.stscBox.prototype.unpack = function (e) {
      var t, r, i, n, a;

      for (n = 0, a = 0, t = 0; t < this.first_chunk.length; t++) {
        for (r = 0; r < (t + 1 < this.first_chunk.length ? this.first_chunk[t + 1] : 1 / 0); r++) {
          for (a++, i = 0; i < this.samples_per_chunk[t]; i++) {
            if (!e[n]) return;
            e[n].description_index = this.sample_description_index[t], e[n].chunk_index = a, n++;
          }
        }
      }
    }, c.stszBox.prototype.unpack = function (e) {
      var t;

      for (t = 0; t < this.sample_sizes.length; t++) {
        e[t].size = this.sample_sizes[t];
      }
    }, c.DIFF_BOXES_PROP_NAMES = ["boxes", "entries", "references", "subsamples", "items", "item_infos", "extents", "associations", "subsegments", "ranges", "seekLists", "seekPoints", "esd", "levels"], c.DIFF_PRIMITIVE_ARRAY_PROP_NAMES = ["compatible_brands", "matrix", "opcolor", "sample_counts", "sample_counts", "sample_deltas", "first_chunk", "samples_per_chunk", "sample_sizes", "chunk_offsets", "sample_offsets", "sample_description_index", "sample_duration"], c.boxEqualFields = function (e, t) {
      if (e && !t) return !1;
      var r;

      for (r in e) {
        if (!(c.DIFF_BOXES_PROP_NAMES.indexOf(r) > -1 || e[r] instanceof c.Box || t[r] instanceof c.Box || void 0 === e[r] || void 0 === t[r] || "function" == typeof e[r] || "function" == typeof t[r] || e.subBoxNames && e.subBoxNames.indexOf(r.slice(0, 4)) > -1 || t.subBoxNames && t.subBoxNames.indexOf(r.slice(0, 4)) > -1 || "data" === r || "start" === r || "size" === r || "creation_time" === r || "modification_time" === r || c.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(r) > -1 || e[r] === t[r])) return !1;
      }

      return !0;
    }, c.boxEqual = function (e, t) {
      if (!c.boxEqualFields(e, t)) return !1;

      for (var r = 0; r < c.DIFF_BOXES_PROP_NAMES.length; r++) {
        var i = c.DIFF_BOXES_PROP_NAMES[r];
        if (e[i] && t[i] && !c.boxEqual(e[i], t[i])) return !1;
      }

      return !0;
    };

    var d = function d() {};

    d.prototype.parseSample = function (e) {
      var t,
          r,
          i = new s(e.buffer);

      for (t = []; !i.isEos();) {
        (r = c.parseOneBox(i, !1)).code === c.OK && "vttc" === r.box.type && t.push(r.box);
      }

      return t;
    }, d.prototype.getText = function (e, t, r) {
      function i(e, t, r) {
        return r = r || "0", (e += "").length >= t ? e : new Array(t - e.length + 1).join(r) + e;
      }

      function n(e) {
        var t = Math.floor(e / 3600),
            r = Math.floor((e - 3600 * t) / 60),
            n = Math.floor(e - 3600 * t - 60 * r),
            a = Math.floor(1e3 * (e - 3600 * t - 60 * r - n));
        return i(t, 2) + ":" + i(r, 2) + ":" + i(n, 2) + "." + i(a, 3);
      }

      for (var a = this.parseSample(r), s = "", o = 0; o < a.length; o++) {
        var f = a[o];
        s += n(e) + " --\x3e " + n(t) + "\r\n", s += f.payl.text;
      }

      return s;
    };

    var l = function l() {};

    l.prototype.parseSample = function (e) {
      var t,
          r = {};
      r.resources = [];
      var i = new s(e.data.buffer);

      if (e.subsamples && 0 !== e.subsamples.length) {
        if (r.documentString = i.readString(e.subsamples[0].size), e.subsamples.length > 1) for (t = 1; t < e.subsamples.length; t++) {
          r.resources[t] = i.readUint8Array(e.subsamples[t].size);
        }
      } else r.documentString = i.readString(e.data.length);

      return "undefined" != typeof DOMParser && (r.document = new DOMParser().parseFromString(r.documentString, "application/xml")), r;
    };

    var p = function p() {};

    p.prototype.parseSample = function (e) {
      return new s(e.data.buffer).readString(e.data.length);
    }, p.prototype.parseConfig = function (e) {
      var t = new s(e.buffer);
      return t.readUint32(), t.readCString();
    }, void 0 !== r && (r.XMLSubtitlein4Parser = l, r.Textin4Parser = p);

    var m = function m(e) {
      this.stream = e || new u(), this.boxes = [], this.mdats = [], this.moofs = [], this.isProgressive = !1, this.moovStartFound = !1, this.onMoovStart = null, this.moovStartSent = !1, this.onReady = null, this.readySent = !1, this.onSegment = null, this.onSamples = null, this.onError = null, this.sampleListBuilt = !1, this.fragmentedTracks = [], this.extractedTracks = [], this.isFragmentationInitialized = !1, this.sampleProcessingStarted = !1, this.nextMoofNumber = 0, this.itemListBuilt = !1, this.onSidx = null, this.sidxSent = !1;
    };

    m.prototype.setSegmentOptions = function (e, t, r) {
      var i = this.getTrackById(e);

      if (i) {
        var n = {};
        this.fragmentedTracks.push(n), n.id = e, n.user = t, n.trak = i, i.nextSample = 0, n.segmentStream = null, n.nb_samples = 1e3, n.rapAlignement = !0, r && (r.nbSamples && (n.nb_samples = r.nbSamples), r.rapAlignement && (n.rapAlignement = r.rapAlignement));
      }
    }, m.prototype.unsetSegmentOptions = function (e) {
      for (var t = -1, r = 0; r < this.fragmentedTracks.length; r++) {
        this.fragmentedTracks[r].id == e && (t = r);
      }

      t > -1 && this.fragmentedTracks.splice(t, 1);
    }, m.prototype.setExtractionOptions = function (e, t, r) {
      var i = this.getTrackById(e);

      if (i) {
        var n = {};
        this.extractedTracks.push(n), n.id = e, n.user = t, n.trak = i, i.nextSample = 0, n.nb_samples = 1e3, n.samples = [], r && r.nbSamples && (n.nb_samples = r.nbSamples);
      }
    }, m.prototype.unsetExtractionOptions = function (e) {
      for (var t = -1, r = 0; r < this.extractedTracks.length; r++) {
        this.extractedTracks[r].id == e && (t = r);
      }

      t > -1 && this.extractedTracks.splice(t, 1);
    }, m.prototype.parse = function () {
      var e, t;
      if (!this.restoreParsePosition || this.restoreParsePosition()) for (;;) {
        if (this.hasIncompleteMdat && this.hasIncompleteMdat()) {
          if (this.processIncompleteMdat()) continue;
          return;
        }

        if (this.saveParsePosition && this.saveParsePosition(), (e = c.parseOneBox(this.stream, !1)).code === c.ERR_NOT_ENOUGH_DATA) {
          if (this.processIncompleteBox) {
            if (this.processIncompleteBox(e)) continue;
            return;
          }

          return;
        }

        var r;

        switch (r = "uuid" !== (t = e.box).type ? t.type : t.uuid, this.boxes.push(t), r) {
          case "mdat":
            this.mdats.push(t);
            break;

          case "moof":
            this.moofs.push(t);
            break;

          case "moov":
            this.moovStartFound = !0, 0 === this.mdats.length && (this.isProgressive = !0);

          default:
            void 0 !== this[r] && a.warn("ISOFile", "Duplicate Box of type: " + r + ", overriding previous occurrence"), this[r] = t;
        }

        this.updateUsedBytes && this.updateUsedBytes(t, e);
      }
    }, m.prototype.checkBuffer = function (e) {
      if (null == e) throw "Buffer must be defined and non empty";
      if (void 0 === e.fileStart) throw "Buffer must have a fileStart property";
      return 0 === e.byteLength ? (a.warn("ISOFile", "Ignoring empty buffer (fileStart: " + e.fileStart + ")"), this.stream.logBufferLevel(), !1) : (a.info("ISOFile", "Processing buffer (fileStart: " + e.fileStart + ")"), e.usedBytes = 0, this.stream.insertBuffer(e), this.stream.logBufferLevel(), !!this.stream.initialized() || (a.warn("ISOFile", "Not ready to start parsing"), !1));
    }, m.prototype.appendBuffer = function (e, t) {
      var r;
      if (this.checkBuffer(e)) return this.parse(), this.moovStartFound && !this.moovStartSent && (this.moovStartSent = !0, this.onMoovStart && this.onMoovStart()), this.moov ? (this.sampleListBuilt || (this.buildSampleLists(), this.sampleListBuilt = !0), this.updateSampleLists(), this.onReady && !this.readySent && (this.readySent = !0, this.onReady(this.getInfo())), this.processSamples(t), this.nextSeekPosition ? (r = this.nextSeekPosition, this.nextSeekPosition = void 0) : r = this.nextParsePosition, this.stream.getEndFilePositionAfter && (r = this.stream.getEndFilePositionAfter(r))) : r = this.nextParsePosition ? this.nextParsePosition : 0, this.sidx && this.onSidx && !this.sidxSent && (this.onSidx(this.sidx), this.sidxSent = !0), this.meta && (this.flattenItemInfo && !this.itemListBuilt && (this.flattenItemInfo(), this.itemListBuilt = !0), this.processItems && this.processItems(this.onItem)), this.stream.cleanBuffers && (a.info("ISOFile", "Done processing buffer (fileStart: " + e.fileStart + ") - next buffer to fetch should have a fileStart position of " + r), this.stream.logBufferLevel(), this.stream.cleanBuffers(), this.stream.logBufferLevel(!0), a.info("ISOFile", "Sample data size in memory: " + this.getAllocatedSampleDataSize())), r;
    }, m.prototype.getInfo = function () {
      var e,
          t,
          r,
          i,
          n,
          a = {},
          s = new Date("1904-01-01T00:00:00Z").getTime();
      if (this.moov) for (a.hasMoov = !0, a.duration = this.moov.mvhd.duration, a.timescale = this.moov.mvhd.timescale, a.isFragmented = null != this.moov.mvex, a.isFragmented && this.moov.mvex.mehd && (a.fragment_duration = this.moov.mvex.mehd.fragment_duration), a.isProgressive = this.isProgressive, a.hasIOD = null != this.moov.iods, a.brands = [], a.brands.push(this.ftyp.major_brand), a.brands = a.brands.concat(this.ftyp.compatible_brands), a.created = new Date(s + 1e3 * this.moov.mvhd.creation_time), a.modified = new Date(s + 1e3 * this.moov.mvhd.modification_time), a.tracks = [], a.audioTracks = [], a.videoTracks = [], a.subtitleTracks = [], a.metadataTracks = [], a.hintTracks = [], a.otherTracks = [], e = 0; e < this.moov.traks.length; e++) {
        if (n = (r = this.moov.traks[e]).mdia.minf.stbl.stsd.entries[0], i = {}, a.tracks.push(i), i.id = r.tkhd.track_id, i.name = r.mdia.hdlr.name, i.references = [], r.tref) for (t = 0; t < r.tref.boxes.length; t++) {
          ref = {}, i.references.push(ref), ref.type = r.tref.boxes[t].type, ref.track_ids = r.tref.boxes[t].track_ids;
        }
        r.edts && (i.edits = r.edts.elst.entries), i.created = new Date(s + 1e3 * r.tkhd.creation_time), i.modified = new Date(s + 1e3 * r.tkhd.modification_time), i.movie_duration = r.tkhd.duration, i.movie_timescale = a.timescale, i.layer = r.tkhd.layer, i.alternate_group = r.tkhd.alternate_group, i.volume = r.tkhd.volume, i.matrix = r.tkhd.matrix, i.track_width = r.tkhd.width / 65536, i.track_height = r.tkhd.height / 65536, i.timescale = r.mdia.mdhd.timescale, i.cts_shift = r.mdia.minf.stbl.cslg, i.duration = r.mdia.mdhd.duration, i.samples_duration = r.samples_duration, i.codec = n.getCodec(), i.kind = r.udta && r.udta.kinds.length ? r.udta.kinds[0] : {
          schemeURI: "",
          value: ""
        }, i.language = r.mdia.elng ? r.mdia.elng.extended_language : r.mdia.mdhd.languageString, i.nb_samples = r.samples.length, i.size = r.samples_size, i.bitrate = 8 * i.size * i.timescale / i.samples_duration, n.isAudio() ? (i.type = "audio", a.audioTracks.push(i), i.audio = {}, i.audio.sample_rate = n.getSampleRate(), i.audio.channel_count = n.getChannelCount(), i.audio.sample_size = n.getSampleSize()) : n.isVideo() ? (i.type = "video", a.videoTracks.push(i), i.video = {}, i.video.width = n.getWidth(), i.video.height = n.getHeight()) : n.isSubtitle() ? (i.type = "subtitles", a.subtitleTracks.push(i)) : n.isHint() ? (i.type = "metadata", a.hintTracks.push(i)) : n.isMetadata() ? (i.type = "metadata", a.metadataTracks.push(i)) : (i.type = "metadata", a.otherTracks.push(i));
      } else a.hasMoov = !1;

      if (a.mime = "", a.hasMoov && a.tracks) {
        for (a.videoTracks && a.videoTracks.length > 0 ? a.mime += 'video/mp4; codecs="' : a.audioTracks && a.audioTracks.length > 0 ? a.mime += 'audio/mp4; codecs="' : a.mime += 'application/mp4; codecs="', e = 0; e < a.tracks.length; e++) {
          0 !== e && (a.mime += ","), a.mime += a.tracks[e].codec;
        }

        a.mime += '"; profiles="', a.mime += this.ftyp.compatible_brands.join(), a.mime += '"';
      }

      return a;
    }, m.prototype.processSamples = function (e) {
      var t, r;

      if (this.sampleProcessingStarted) {
        if (this.isFragmentationInitialized && null !== this.onSegment) for (t = 0; t < this.fragmentedTracks.length; t++) {
          var i = this.fragmentedTracks[t];

          for (r = i.trak; r.nextSample < r.samples.length && this.sampleProcessingStarted;) {
            a.debug("ISOFile", "Creating media fragment on track #" + i.id + " for sample " + r.nextSample);
            var n = this.createFragment(i.id, r.nextSample, i.segmentStream);
            if (!n) break;
            if (i.segmentStream = n, r.nextSample++, (r.nextSample % i.nb_samples == 0 || e || r.nextSample >= r.samples.length) && (a.info("ISOFile", "Sending fragmented data on track #" + i.id + " for samples [" + Math.max(0, r.nextSample - i.nb_samples) + "," + (r.nextSample - 1) + "]"), a.info("ISOFile", "Sample data size in memory: " + this.getAllocatedSampleDataSize()), this.onSegment && this.onSegment(i.id, i.user, i.segmentStream.buffer, r.nextSample, e || r.nextSample >= r.samples.length), i.segmentStream = null, i !== this.fragmentedTracks[t])) break;
          }
        }
        if (null !== this.onSamples) for (t = 0; t < this.extractedTracks.length; t++) {
          var s = this.extractedTracks[t];

          for (r = s.trak; r.nextSample < r.samples.length && this.sampleProcessingStarted;) {
            a.debug("ISOFile", "Exporting on track #" + s.id + " sample #" + r.nextSample);
            var o = this.getSample(r, r.nextSample);
            if (!o) break;
            if (r.nextSample++, s.samples.push(o), (r.nextSample % s.nb_samples == 0 || r.nextSample >= r.samples.length) && (a.debug("ISOFile", "Sending samples on track #" + s.id + " for sample " + r.nextSample), this.onSamples && this.onSamples(s.id, s.user, s.samples), s.samples = [], s !== this.extractedTracks[t])) break;
          }
        }
      }
    }, m.prototype.getBox = function (e) {
      var t = this.getBoxes(e, !0);
      return t.length ? t[0] : null;
    }, m.prototype.getBoxes = function (e, t) {
      var r = [];
      return m._sweep.call(this, e, r, t), r;
    }, m._sweep = function (e, t, r) {
      for (var i in this.type && this.type == e && t.push(this), this.boxes) {
        if (t.length && r) return;

        m._sweep.call(this.boxes[i], e, t, r);
      }
    }, m.prototype.getTrackSamplesInfo = function (e) {
      var t = this.getTrackById(e);
      return t ? t.samples : void 0;
    }, m.prototype.getTrackSample = function (e, t) {
      var r = this.getTrackById(e);
      return this.getSample(r, t);
    }, m.prototype.releaseUsedSamples = function (e, t) {
      var r = 0,
          i = this.getTrackById(e);
      i.lastValidSample || (i.lastValidSample = 0);

      for (var n = i.lastValidSample; n < t; n++) {
        r += this.releaseSample(i, n);
      }

      a.info("ISOFile", "Track #" + e + " released samples up to " + t + " (released size: " + r + ", remaining: " + this.samplesDataSize + ")"), i.lastValidSample = t;
    }, m.prototype.start = function () {
      this.sampleProcessingStarted = !0, this.processSamples(!1);
    }, m.prototype.stop = function () {
      this.sampleProcessingStarted = !1;
    }, m.prototype.flush = function () {
      a.info("ISOFile", "Flushing remaining samples"), this.updateSampleLists(), this.processSamples(!0), this.stream.cleanBuffers(), this.stream.logBufferLevel(!0);
    }, m.prototype.seekTrack = function (e, t, r) {
      var i,
          n,
          s,
          o,
          f = 0,
          u = 0;
      if (0 === r.samples.length) return a.info("ISOFile", "No sample in track, cannot seek! Using time " + a.getDurationString(0, 1) + " and offset: 0"), {
        offset: 0,
        time: 0
      };

      for (i = 0; i < r.samples.length; i++) {
        if (n = r.samples[i], 0 === i) u = 0, o = n.timescale;else if (n.cts > e * n.timescale) {
          u = i - 1;
          break;
        }
        t && n.is_sync && (f = i);
      }

      for (t && (u = f), e = r.samples[u].cts, r.nextSample = u; r.samples[u].alreadyRead === r.samples[u].size && r.samples[u + 1];) {
        u++;
      }

      return s = r.samples[u].offset + r.samples[u].alreadyRead, a.info("ISOFile", "Seeking to " + (t ? "RAP" : "") + " sample #" + r.nextSample + " on track " + r.tkhd.track_id + ", time " + a.getDurationString(e, o) + " and offset: " + s), {
        offset: s,
        time: e / o
      };
    }, m.prototype.seek = function (e, t) {
      var r,
          i,
          n,
          s = this.moov,
          o = {
        offset: 1 / 0,
        time: 1 / 0
      };

      if (this.moov) {
        for (n = 0; n < s.traks.length; n++) {
          r = s.traks[n], (i = this.seekTrack(e, t, r)).offset < o.offset && (o.offset = i.offset), i.time < o.time && (o.time = i.time);
        }

        return a.info("ISOFile", "Seeking at time " + a.getDurationString(o.time, 1) + " needs a buffer with a fileStart position of " + o.offset), o.offset === 1 / 0 ? o = {
          offset: this.nextParsePosition,
          time: 0
        } : o.offset = this.stream.getEndFilePositionAfter(o.offset), a.info("ISOFile", "Adjusted seek position (after checking data already in buffer): " + o.offset), o;
      }

      throw "Cannot seek: moov not received!";
    }, m.prototype.equal = function (e) {
      for (var t = 0; t < this.boxes.length && t < e.boxes.length;) {
        var r = this.boxes[t],
            i = e.boxes[t];
        if (!c.boxEqual(r, i)) return !1;
        t++;
      }

      return !0;
    }, void 0 !== r && (r.ISOFile = m), m.prototype.lastBoxStartPosition = 0, m.prototype.parsingMdat = null, m.prototype.nextParsePosition = 0, m.prototype.discardMdatData = !1, m.prototype.processIncompleteBox = function (e) {
      var t;
      return "mdat" === e.type ? (t = new c[e.type + "Box"](e.size), this.parsingMdat = t, this.boxes.push(t), this.mdats.push(t), t.start = e.start, t.hdr_size = e.hdr_size, this.stream.addUsedBytes(t.hdr_size), this.lastBoxStartPosition = t.start + t.size, this.stream.seek(t.start + t.size, !1, this.discardMdatData) ? (this.parsingMdat = null, !0) : (this.moovStartFound ? this.nextParsePosition = this.stream.findEndContiguousBuf() : this.nextParsePosition = t.start + t.size, !1)) : ("moov" === e.type && (this.moovStartFound = !0, 0 === this.mdats.length && (this.isProgressive = !0)), !!this.stream.mergeNextBuffer && this.stream.mergeNextBuffer() ? (this.nextParsePosition = this.stream.getEndPosition(), !0) : (e.type ? this.moovStartFound ? this.nextParsePosition = this.stream.getEndPosition() : this.nextParsePosition = this.stream.getPosition() + e.size : this.nextParsePosition = this.stream.getEndPosition(), !1));
    }, m.prototype.hasIncompleteMdat = function () {
      return null !== this.parsingMdat;
    }, m.prototype.processIncompleteMdat = function () {
      var e;
      return e = this.parsingMdat, this.stream.seek(e.start + e.size, !1, this.discardMdatData) ? (a.debug("ISOFile", "Found 'mdat' end in buffered data"), this.parsingMdat = null, !0) : (this.nextParsePosition = this.stream.findEndContiguousBuf(), !1);
    }, m.prototype.restoreParsePosition = function () {
      return this.stream.seek(this.lastBoxStartPosition, !0, this.discardMdatData);
    }, m.prototype.saveParsePosition = function () {
      this.lastBoxStartPosition = this.stream.getPosition();
    }, m.prototype.updateUsedBytes = function (e, t) {
      this.stream.addUsedBytes && ("mdat" === e.type ? (this.stream.addUsedBytes(e.hdr_size), this.discardMdatData && this.stream.addUsedBytes(e.size - e.hdr_size)) : this.stream.addUsedBytes(e.size));
    }, m.prototype.add = c.Box.prototype.add, m.prototype.addBox = c.Box.prototype.addBox, m.prototype.init = function (e) {
      var t = e || {},
          r = (this.add("ftyp").set("major_brand", t.brands && t.brands[0] || "iso4").set("minor_version", 0).set("compatible_brands", t.brands || ["iso4"]), this.add("moov"));
      return r.add("mvhd").set("timescale", t.timescale || 600).set("rate", t.rate || 1).set("creation_time", 0).set("modification_time", 0).set("duration", t.duration || 0).set("volume", 1).set("matrix", [0, 0, 0, 0, 0, 0, 0, 0, 0]).set("next_track_id", 1), r.add("mvex"), this;
    }, m.prototype.addTrack = function (e) {
      this.moov || this.init(e);
      var t = e || {};
      t.width = t.width || 320, t.height = t.height || 320, t.id = t.id || this.moov.mvhd.next_track_id, t.type = t.type || "avc1";
      var r = this.moov.add("trak");
      this.moov.mvhd.next_track_id = t.id + 1, r.add("tkhd").set("flags", c.TKHD_FLAG_ENABLED | c.TKHD_FLAG_IN_MOVIE | c.TKHD_FLAG_IN_PREVIEW).set("creation_time", 0).set("modification_time", 0).set("track_id", t.id).set("duration", t.duration || 0).set("layer", t.layer || 0).set("alternate_group", 0).set("volume", 1).set("matrix", [0, 0, 0, 0, 0, 0, 0, 0, 0]).set("width", t.width).set("height", t.height);
      var i = r.add("mdia");
      i.add("mdhd").set("creation_time", 0).set("modification_time", 0).set("timescale", t.timescale || 1).set("duration", t.media_duration || 0).set("language", t.language || 0), i.add("hdlr").set("handler", t.hdlr || "vide").set("name", t.name || "Track created with MP4Box.js"), i.add("elng").set("extended_language", t.language || "fr-FR");
      var n = i.add("minf");

      if (void 0 !== c[t.type + "SampleEntry"]) {
        var a = new c[t.type + "SampleEntry"]();
        a.data_reference_index = 1;
        var s = "";

        for (var o in c.sampleEntryCodes) {
          for (var f = c.sampleEntryCodes[o], u = 0; u < f.length; u++) {
            if (f.indexOf(t.type) > -1) {
              s = o;
              break;
            }
          }
        }

        switch (s) {
          case "Visual":
            n.add("vmhd").set("graphicsmode", 0).set("opcolor", [0, 0, 0]), a.set("width", t.width).set("height", t.height).set("horizresolution", 72 << 16).set("vertresolution", 72 << 16).set("frame_count", 1).set("compressorname", t.type + " Compressor").set("depth", 24);
            break;

          case "Audio":
            n.add("smhd").set("balance", t.balance || 0), a.set("channel_count", t.channel_count || 2).set("samplesize", t.samplesize || 16).set("samplerate", t.samplerate || 65536);
            break;

          case "Hint":
            n.add("hmhd");
            break;

          case "Subtitle":
            switch (n.add("sthd"), t.type) {
              case "stpp":
                a.set("namespace", t.namespace || "nonamespace").set("schema_location", t.schema_location || "").set("auxiliary_mime_types", t.auxiliary_mime_types || "");
            }

            break;

          case "Metadata":
          case "System":
          default:
            n.add("nmhd");
        }

        t.description && a.addBox(t.description), t.description_boxes && t.description_boxes.forEach(function (e) {
          a.addBox(e);
        }), n.add("dinf").add("dref").addEntry(new c["url Box"]().set("flags", 1));
        var h = n.add("stbl");
        return h.add("stsd").addEntry(a), h.add("stts").set("sample_counts", []).set("sample_deltas", []), h.add("stsc").set("first_chunk", []).set("samples_per_chunk", []).set("sample_description_index", []), h.add("stco").set("chunk_offsets", []), h.add("stsz").set("sample_sizes", []), this.moov.mvex.add("trex").set("track_id", t.id).set("default_sample_description_index", t.default_sample_description_index || 1).set("default_sample_duration", t.default_sample_duration || 0).set("default_sample_size", t.default_sample_size || 0).set("default_sample_flags", t.default_sample_flags || 0), this.buildTrakSampleLists(r), t.id;
      }
    }, c.Box.prototype.computeSize = function (e) {
      var t = e || new o();
      t.endianness = o.BIG_ENDIAN, this.write(t);
    }, m.prototype.addSample = function (e, t, r) {
      var i = r || {},
          n = {},
          a = this.getTrackById(e);

      if (null !== a) {
        n.number = a.samples.length, n.track_id = a.tkhd.track_id, n.timescale = a.mdia.mdhd.timescale, n.description_index = i.sample_description_index ? i.sample_description_index - 1 : 0, n.description = a.mdia.minf.stbl.stsd.entries[n.description_index], n.data = t, n.size = t.length, n.alreadyRead = n.size, n.duration = i.duration || 1, n.cts = i.cts || 0, n.dts = i.dts || 0, n.is_sync = i.is_sync || !1, n.is_leading = i.is_leading || 0, n.depends_on = i.depends_on || 0, n.is_depended_on = i.is_depended_on || 0, n.has_redundancy = i.has_redundancy || 0, n.degradation_priority = i.degradation_priority || 0, n.offset = 0, n.subsamples = i.subsamples, a.samples.push(n), a.samples_size += n.size, a.samples_duration += n.duration, this.processSamples();
        var s = m.createSingleSampleMoof(n);
        return this.addBox(s), s.computeSize(), s.trafs[0].truns[0].data_offset = s.size + 8, this.add("mdat").data = t, n;
      }
    }, m.createSingleSampleMoof = function (e) {
      var t = new c.moofBox();
      t.add("mfhd").set("sequence_number", this.nextMoofNumber), this.nextMoofNumber++;
      var r = t.add("traf");
      return r.add("tfhd").set("track_id", e.track_id).set("flags", c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF), r.add("tfdt").set("baseMediaDecodeTime", e.dts), r.add("trun").set("flags", c.TRUN_FLAGS_DATA_OFFSET | c.TRUN_FLAGS_DURATION | c.TRUN_FLAGS_SIZE | c.TRUN_FLAGS_FLAGS | c.TRUN_FLAGS_CTS_OFFSET).set("data_offset", 0).set("first_sample_flags", 0).set("sample_count", 1).set("sample_duration", [e.duration]).set("sample_size", [e.size]).set("sample_flags", [0]).set("sample_composition_time_offset", [e.cts - e.dts]), t;
    }, m.prototype.lastMoofIndex = 0, m.prototype.samplesDataSize = 0, m.prototype.resetTables = function () {
      var e, t, r, i, n, a;

      for (this.initial_duration = this.moov.mvhd.duration, this.moov.mvhd.duration = 0, e = 0; e < this.moov.traks.length; e++) {
        (t = this.moov.traks[e]).tkhd.duration = 0, t.mdia.mdhd.duration = 0, (t.mdia.minf.stbl.stco || t.mdia.minf.stbl.co64).chunk_offsets = [], (r = t.mdia.minf.stbl.stsc).first_chunk = [], r.samples_per_chunk = [], r.sample_description_index = [], (t.mdia.minf.stbl.stsz || t.mdia.minf.stbl.stz2).sample_sizes = [], (i = t.mdia.minf.stbl.stts).sample_counts = [], i.sample_deltas = [], (n = t.mdia.minf.stbl.ctts) && (n.sample_counts = [], n.sample_offsets = []), a = t.mdia.minf.stbl.stss;
        var s = t.mdia.minf.stbl.boxes.indexOf(a);
        -1 != s && (t.mdia.minf.stbl.boxes[s] = null);
      }
    }, m.initSampleGroups = function (e, t, r, i, n) {
      var a, s, o, f;

      function u(e, t, r) {
        this.grouping_type = e, this.grouping_type_parameter = t, this.sbgp = r, this.last_sample_in_run = -1, this.entry_index = -1;
      }

      for (t && (t.sample_groups_info = []), e.sample_groups_info || (e.sample_groups_info = []), s = 0; s < r.length; s++) {
        for (f = r[s].grouping_type + "/" + r[s].grouping_type_parameter, o = new u(r[s].grouping_type, r[s].grouping_type_parameter, r[s]), t && (t.sample_groups_info[f] = o), e.sample_groups_info[f] || (e.sample_groups_info[f] = o), a = 0; a < i.length; a++) {
          i[a].grouping_type === r[s].grouping_type && (o.description = i[a], o.description.used = !0);
        }

        if (n) for (a = 0; a < n.length; a++) {
          n[a].grouping_type === r[s].grouping_type && (o.fragment_description = n[a], o.fragment_description.used = !0, o.is_fragment = !0);
        }
      }

      if (t) {
        if (n) for (s = 0; s < n.length; s++) {
          !n[s].used && n[s].version >= 2 && (f = n[s].grouping_type + "/0", (o = new u(n[s].grouping_type, 0)).is_fragment = !0, t.sample_groups_info[f] || (t.sample_groups_info[f] = o));
        }
      } else for (s = 0; s < i.length; s++) {
        !i[s].used && i[s].version >= 2 && (f = i[s].grouping_type + "/0", o = new u(i[s].grouping_type, 0), e.sample_groups_info[f] || (e.sample_groups_info[f] = o));
      }
    }, m.setSampleGroupProperties = function (e, t, r, i) {
      var n, a;

      for (n in t.sample_groups = [], i) {
        var s;
        if (t.sample_groups[n] = {}, t.sample_groups[n].grouping_type = i[n].grouping_type, t.sample_groups[n].grouping_type_parameter = i[n].grouping_type_parameter, r >= i[n].last_sample_in_run && (i[n].last_sample_in_run < 0 && (i[n].last_sample_in_run = 0), i[n].entry_index++, i[n].entry_index <= i[n].sbgp.entries.length - 1 && (i[n].last_sample_in_run += i[n].sbgp.entries[i[n].entry_index].sample_count)), i[n].entry_index <= i[n].sbgp.entries.length - 1 ? t.sample_groups[n].group_description_index = i[n].sbgp.entries[i[n].entry_index].group_description_index : t.sample_groups[n].group_description_index = -1, 0 !== t.sample_groups[n].group_description_index) s = i[n].fragment_description ? i[n].fragment_description : i[n].description, t.sample_groups[n].group_description_index > 0 ? (a = t.sample_groups[n].group_description_index > 65535 ? (t.sample_groups[n].group_description_index >> 16) - 1 : t.sample_groups[n].group_description_index - 1, s && a >= 0 && (t.sample_groups[n].description = s.entries[a])) : s && s.version >= 2 && s.default_group_description_index > 0 && (t.sample_groups[n].description = s.entries[s.default_group_description_index - 1]);
      }
    }, m.process_sdtp = function (e, t, r) {
      t && (e ? (t.is_leading = e.is_leading[r], t.depends_on = e.sample_depends_on[r], t.is_depended_on = e.sample_is_depended_on[r], t.has_redundancy = e.sample_has_redundancy[r]) : (t.is_leading = 0, t.depends_on = 0, t.is_depended_on = 0, t.has_redundancy = 0));
    }, m.prototype.buildSampleLists = function () {
      var e, t;

      for (e = 0; e < this.moov.traks.length; e++) {
        t = this.moov.traks[e], this.buildTrakSampleLists(t);
      }
    }, m.prototype.buildTrakSampleLists = function (e) {
      var t, r, i, n, a, s, o, f, u, h, c, d, l, p, b, y, g, _, v, w, E, S, A, x;

      if (e.samples = [], e.samples_duration = 0, e.samples_size = 0, r = e.mdia.minf.stbl.stco || e.mdia.minf.stbl.co64, i = e.mdia.minf.stbl.stsc, n = e.mdia.minf.stbl.stsz || e.mdia.minf.stbl.stz2, a = e.mdia.minf.stbl.stts, s = e.mdia.minf.stbl.ctts, o = e.mdia.minf.stbl.stss, f = e.mdia.minf.stbl.stsd, u = e.mdia.minf.stbl.subs, d = e.mdia.minf.stbl.stdp, h = e.mdia.minf.stbl.sbgps, c = e.mdia.minf.stbl.sgpds, _ = -1, v = -1, w = -1, E = -1, S = 0, A = 0, x = 0, m.initSampleGroups(e, null, h, c), void 0 !== n) {
        for (t = 0; t < n.sample_sizes.length; t++) {
          var M = {};
          M.number = t, M.track_id = e.tkhd.track_id, M.timescale = e.mdia.mdhd.timescale, M.alreadyRead = 0, e.samples[t] = M, M.size = n.sample_sizes[t], e.samples_size += M.size, 0 === t ? (p = 1, l = 0, M.chunk_index = p, M.chunk_run_index = l, g = i.samples_per_chunk[l], y = 0, b = l + 1 < i.first_chunk.length ? i.first_chunk[l + 1] - 1 : 1 / 0) : t < g ? (M.chunk_index = p, M.chunk_run_index = l) : (p++, M.chunk_index = p, y = 0, p <= b || (b = ++l + 1 < i.first_chunk.length ? i.first_chunk[l + 1] - 1 : 1 / 0), M.chunk_run_index = l, g += i.samples_per_chunk[l]), M.description_index = i.sample_description_index[M.chunk_run_index] - 1, M.description = f.entries[M.description_index], M.offset = r.chunk_offsets[M.chunk_index - 1] + y, y += M.size, t > _ && (v++, _ < 0 && (_ = 0), _ += a.sample_counts[v]), t > 0 ? (e.samples[t - 1].duration = a.sample_deltas[v], e.samples_duration += e.samples[t - 1].duration, M.dts = e.samples[t - 1].dts + e.samples[t - 1].duration) : M.dts = 0, s ? (t >= w && (E++, w < 0 && (w = 0), w += s.sample_counts[E]), M.cts = e.samples[t].dts + s.sample_offsets[E]) : M.cts = M.dts, o ? (t == o.sample_numbers[S] - 1 ? (M.is_sync = !0, S++) : (M.is_sync = !1, M.degradation_priority = 0), u && u.entries[A].sample_delta + x == t + 1 && (M.subsamples = u.entries[A].subsamples, x += u.entries[A].sample_delta, A++)) : M.is_sync = !0, m.process_sdtp(e.mdia.minf.stbl.sdtp, M, M.number), M.degradation_priority = d ? d.priority[t] : 0, u && u.entries[A].sample_delta + x == t && (M.subsamples = u.entries[A].subsamples, x += u.entries[A].sample_delta), (h.length > 0 || c.length > 0) && m.setSampleGroupProperties(e, M, t, e.sample_groups_info);
        }

        t > 0 && (e.samples[t - 1].duration = Math.max(e.mdia.mdhd.duration - e.samples[t - 1].dts, 0), e.samples_duration += e.samples[t - 1].duration);
      }
    }, m.prototype.updateSampleLists = function () {
      var e, t, r, i, n, a, s, o, f, u, h, d, l, p, b;
      if (void 0 !== this.moov) for (; this.lastMoofIndex < this.moofs.length;) {
        if (f = this.moofs[this.lastMoofIndex], this.lastMoofIndex++, "moof" == f.type) for (u = f, e = 0; e < u.trafs.length; e++) {
          for (h = u.trafs[e], d = this.getTrackById(h.tfhd.track_id), l = this.getTrexById(h.tfhd.track_id), i = h.tfhd.flags & c.TFHD_FLAG_SAMPLE_DESC ? h.tfhd.default_sample_description_index : l ? l.default_sample_description_index : 1, n = h.tfhd.flags & c.TFHD_FLAG_SAMPLE_DUR ? h.tfhd.default_sample_duration : l ? l.default_sample_duration : 0, a = h.tfhd.flags & c.TFHD_FLAG_SAMPLE_SIZE ? h.tfhd.default_sample_size : l ? l.default_sample_size : 0, s = h.tfhd.flags & c.TFHD_FLAG_SAMPLE_FLAGS ? h.tfhd.default_sample_flags : l ? l.default_sample_flags : 0, h.sample_number = 0, h.sbgps.length > 0 && m.initSampleGroups(d, h, h.sbgps, d.mdia.minf.stbl.sgpds, h.sgpds), t = 0; t < h.truns.length; t++) {
            var y = h.truns[t];

            for (r = 0; r < y.sample_count; r++) {
              (p = {}).moof_number = this.lastMoofIndex, p.number_in_traf = h.sample_number, h.sample_number++, p.number = d.samples.length, h.first_sample_index = d.samples.length, d.samples.push(p), p.track_id = d.tkhd.track_id, p.timescale = d.mdia.mdhd.timescale, p.description_index = i - 1, p.description = d.mdia.minf.stbl.stsd.entries[p.description_index], p.size = a, y.flags & c.TRUN_FLAGS_SIZE && (p.size = y.sample_size[r]), d.samples_size += p.size, p.duration = n, y.flags & c.TRUN_FLAGS_DURATION && (p.duration = y.sample_duration[r]), d.samples_duration += p.duration, d.first_traf_merged || r > 0 ? p.dts = d.samples[d.samples.length - 2].dts + d.samples[d.samples.length - 2].duration : (h.tfdt ? p.dts = h.tfdt.baseMediaDecodeTime : p.dts = 0, d.first_traf_merged = !0), p.cts = p.dts, y.flags & c.TRUN_FLAGS_CTS_OFFSET && (p.cts = p.dts + y.sample_composition_time_offset[r]), b = s, y.flags & c.TRUN_FLAGS_FLAGS ? b = y.sample_flags[r] : 0 === r && y.flags & c.TRUN_FLAGS_FIRST_FLAG && (b = y.first_sample_flags), p.is_sync = !(b >> 16 & 1), p.is_leading = b >> 26 & 3, p.depends_on = b >> 24 & 3, p.is_depended_on = b >> 22 & 3, p.has_redundancy = b >> 20 & 3, p.degradation_priority = 65535 & b;

              var g = !!(h.tfhd.flags & c.TFHD_FLAG_BASE_DATA_OFFSET),
                  _ = !!(h.tfhd.flags & c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),
                  v = !!(y.flags & c.TRUN_FLAGS_DATA_OFFSET),
                  w = 0;

              w = g ? h.tfhd.base_data_offset : _ || 0 === t ? u.start : o, p.offset = 0 === t && 0 === r ? v ? w + y.data_offset : w : o, o = p.offset + p.size, (h.sbgps.length > 0 || h.sgpds.length > 0 || d.mdia.minf.stbl.sbgps.length > 0 || d.mdia.minf.stbl.sgpds.length > 0) && m.setSampleGroupProperties(d, p, p.number_in_traf, h.sample_groups_info);
            }
          }

          if (h.subs) {
            d.has_fragment_subsamples = !0;
            var E = h.first_sample_index;

            for (t = 0; t < h.subs.entries.length; t++) {
              E += h.subs.entries[t].sample_delta, (p = d.samples[E - 1]).subsamples = h.subs.entries[t].subsamples;
            }
          }
        }
      }
    }, m.prototype.getSample = function (e, t) {
      var r,
          i = e.samples[t];
      if (!this.moov) return null;

      if (i.data) {
        if (i.alreadyRead == i.size) return i;
      } else i.data = new Uint8Array(i.size), i.alreadyRead = 0, this.samplesDataSize += i.size, a.debug("ISOFile", "Allocating sample #" + t + " on track #" + e.tkhd.track_id + " of size " + i.size + " (total: " + this.samplesDataSize + ")");

      for (;;) {
        var n = this.stream.findPosition(!0, i.offset + i.alreadyRead, !1);
        if (!(n > -1)) return null;
        var s = (r = this.stream.buffers[n]).byteLength - (i.offset + i.alreadyRead - r.fileStart);
        if (i.size - i.alreadyRead <= s) return a.debug("ISOFile", "Getting sample #" + t + " data (alreadyRead: " + i.alreadyRead + " offset: " + (i.offset + i.alreadyRead - r.fileStart) + " read size: " + (i.size - i.alreadyRead) + " full size: " + i.size + ")"), o.memcpy(i.data.buffer, i.alreadyRead, r, i.offset + i.alreadyRead - r.fileStart, i.size - i.alreadyRead), r.usedBytes += i.size - i.alreadyRead, this.stream.logBufferLevel(), i.alreadyRead = i.size, i;
        if (0 === s) return null;
        a.debug("ISOFile", "Getting sample #" + t + " partial data (alreadyRead: " + i.alreadyRead + " offset: " + (i.offset + i.alreadyRead - r.fileStart) + " read size: " + s + " full size: " + i.size + ")"), o.memcpy(i.data.buffer, i.alreadyRead, r, i.offset + i.alreadyRead - r.fileStart, s), i.alreadyRead += s, r.usedBytes += s, this.stream.logBufferLevel();
      }
    }, m.prototype.releaseSample = function (e, t) {
      var r = e.samples[t];
      return r.data ? (this.samplesDataSize -= r.size, r.data = null, r.alreadyRead = 0, r.size) : 0;
    }, m.prototype.getAllocatedSampleDataSize = function () {
      return this.samplesDataSize;
    }, m.prototype.getCodecs = function () {
      var e,
          t = "";

      for (e = 0; e < this.moov.traks.length; e++) {
        e > 0 && (t += ","), t += this.moov.traks[e].mdia.minf.stbl.stsd.entries[0].getCodec();
      }

      return t;
    }, m.prototype.getTrexById = function (e) {
      var t;
      if (!this.moov || !this.moov.mvex) return null;

      for (t = 0; t < this.moov.mvex.trexs.length; t++) {
        var r = this.moov.mvex.trexs[t];
        if (r.track_id == e) return r;
      }

      return null;
    }, m.prototype.getTrackById = function (e) {
      if (void 0 === this.moov) return null;

      for (var t = 0; t < this.moov.traks.length; t++) {
        var r = this.moov.traks[t];
        if (r.tkhd.track_id == e) return r;
      }

      return null;
    }, m.prototype.items = [], m.prototype.itemsDataSize = 0, m.prototype.flattenItemInfo = function () {
      var e,
          t,
          r,
          i = this.items,
          n = this.meta;

      if (null != n && void 0 !== n.hdlr && void 0 !== n.iinf) {
        for (e = 0; e < n.iinf.item_infos.length; e++) {
          (r = {}).id = n.iinf.item_infos[e].item_ID, i[r.id] = r, r.ref_to = [], r.name = n.iinf.item_infos[e].item_name, n.iinf.item_infos[e].protection_index > 0 && (r.protection = n.ipro.protections[n.iinf.item_infos[e].protection_index - 1]), n.iinf.item_infos[e].item_type ? r.type = n.iinf.item_infos[e].item_type : r.type = "mime", r.content_type = n.iinf.item_infos[e].content_type, r.content_encoding = n.iinf.item_infos[e].content_encoding;
        }

        if (n.iloc) for (e = 0; e < n.iloc.items.length; e++) {
          var s = n.iloc.items[e];

          switch (r = i[s.item_ID], 0 !== s.data_reference_index && (a.warn("Item storage with reference to other files: not supported"), r.source = n.dinf.boxes[s.data_reference_index - 1]), s.construction_method) {
            case 0:
              break;

            case 1:
            case 2:
              a.warn("Item storage with construction_method : not supported");
          }

          for (r.extents = [], r.size = 0, t = 0; t < s.extents.length; t++) {
            r.extents[t] = {}, r.extents[t].offset = s.extents[t].extent_offset + s.base_offset, r.extents[t].length = s.extents[t].extent_length, r.extents[t].alreadyRead = 0, r.size += r.extents[t].length;
          }
        }
        if (n.pitm && (i[n.pitm.item_id].primary = !0), n.iref) for (e = 0; e < n.iref.references.length; e++) {
          var o = n.iref.references[e];

          for (t = 0; t < o.references.length; t++) {
            i[o.from_item_ID].ref_to.push({
              type: o.type,
              id: o.references[t]
            });
          }
        }
        if (n.iprp) for (var f = 0; f < n.iprp.ipmas.length; f++) {
          var u = n.iprp.ipmas[f];

          for (e = 0; e < u.associations.length; e++) {
            var h = u.associations[e];

            for (void 0 === (r = i[h.id]).properties && (r.properties = {}, r.properties.boxes = []), t = 0; t < h.props.length; t++) {
              var c = h.props[t];

              if (c.property_index > 0) {
                var d = n.iprp.ipco.boxes[c.property_index - 1];
                r.properties[d.type] = d, r.properties.boxes.push(d);
              }
            }
          }
        }
      }
    }, m.prototype.getItem = function (e) {
      var t, r;
      if (!this.meta) return null;
      if (!(r = this.items[e]).data && r.size) r.data = new Uint8Array(r.size), r.alreadyRead = 0, this.itemsDataSize += r.size, a.debug("ISOFile", "Allocating item #" + e + " of size " + r.size + " (total: " + this.itemsDataSize + ")");else if (r.alreadyRead === r.size) return r;

      for (var i = 0; i < r.extents.length; i++) {
        var n = r.extents[i];

        if (n.alreadyRead !== n.length) {
          var s = this.stream.findPosition(!0, n.offset + n.alreadyRead, !1);
          if (!(s > -1)) return null;
          var f = (t = this.stream.buffers[s]).byteLength - (n.offset + n.alreadyRead - t.fileStart);
          if (!(n.length - n.alreadyRead <= f)) return a.debug("ISOFile", "Getting item #" + e + " extent #" + i + " partial data (alreadyRead: " + n.alreadyRead + " offset: " + (n.offset + n.alreadyRead - t.fileStart) + " read size: " + f + " full extent size: " + n.length + " full item size: " + r.size + ")"), o.memcpy(r.data.buffer, r.alreadyRead, t, n.offset + n.alreadyRead - t.fileStart, f), n.alreadyRead += f, r.alreadyRead += f, t.usedBytes += f, this.stream.logBufferLevel(), null;
          a.debug("ISOFile", "Getting item #" + e + " extent #" + i + " data (alreadyRead: " + n.alreadyRead + " offset: " + (n.offset + n.alreadyRead - t.fileStart) + " read size: " + (n.length - n.alreadyRead) + " full extent size: " + n.length + " full item size: " + r.size + ")"), o.memcpy(r.data.buffer, r.alreadyRead, t, n.offset + n.alreadyRead - t.fileStart, n.length - n.alreadyRead), t.usedBytes += n.length - n.alreadyRead, this.stream.logBufferLevel(), r.alreadyRead += n.length - n.alreadyRead, n.alreadyRead = n.length;
        }
      }

      return r.alreadyRead === r.size ? r : null;
    }, m.prototype.releaseItem = function (e) {
      var t = this.items[e];

      if (t.data) {
        this.itemsDataSize -= t.size, t.data = null, t.alreadyRead = 0;

        for (var r = 0; r < t.extents.length; r++) {
          t.extents[r].alreadyRead = 0;
        }

        return t.size;
      }

      return 0;
    }, m.prototype.processItems = function (e) {
      for (var t in this.items) {
        var r = this.items[t];
        this.getItem(r.id), e && !r.sent && (e(r), r.sent = !0, r.data = null);
      }
    }, m.prototype.hasItem = function (e) {
      for (var t in this.items) {
        var r = this.items[t];
        if (r.name === e) return r.id;
      }

      return -1;
    }, m.prototype.getMetaHandler = function () {
      return this.meta ? this.meta.hdlr.handler : null;
    }, m.prototype.getPrimaryItem = function () {
      return this.meta && this.meta.pitm ? this.getItem(this.meta.pitm.item_id) : null;
    }, m.prototype.itemToFragmentedTrackFile = function (e) {
      var t = e || {},
          r = null;
      if (null == (r = t.itemId ? this.getItem(t.itemId) : this.getPrimaryItem())) return null;
      var i = new m();
      i.discardMdatData = !1;
      var n = {
        type: r.type,
        description_boxes: r.properties.boxes
      };
      r.properties.ispe && (n.width = r.properties.ispe.image_width, n.height = r.properties.ispe.image_height);
      var a = i.addTrack(n);
      return a ? (i.addSample(a, r.data), i) : null;
    }, m.prototype.write = function (e) {
      for (var t = 0; t < this.boxes.length; t++) {
        this.boxes[t].write(e);
      }
    }, m.prototype.createFragment = function (e, t, r) {
      var i = this.getTrackById(e),
          n = this.getSample(i, t);
      if (null == n) return n = i.samples[t], this.nextSeekPosition ? this.nextSeekPosition = Math.min(n.offset + n.alreadyRead, this.nextSeekPosition) : this.nextSeekPosition = i.samples[t].offset + n.alreadyRead, null;
      var s = r || new o();
      s.endianness = o.BIG_ENDIAN;
      var f = m.createSingleSampleMoof(n);
      f.write(s), f.trafs[0].truns[0].data_offset = f.size + 8, a.debug("MP4Box", "Adjusting data_offset with new value " + f.trafs[0].truns[0].data_offset), s.adjustUint32(f.trafs[0].truns[0].data_offset_position, f.trafs[0].truns[0].data_offset);
      var u = new c.mdatBox();
      return u.data = n.data, u.write(s), s;
    }, m.writeInitializationSegment = function (e, t, r, i) {
      var n;
      a.debug("ISOFile", "Generating initialization segment");
      var s = new o();
      s.endianness = o.BIG_ENDIAN, e.write(s);
      var f = t.add("mvex");

      for (r && f.add("mehd").set("fragment_duration", r), n = 0; n < t.traks.length; n++) {
        f.add("trex").set("track_id", t.traks[n].tkhd.track_id).set("default_sample_description_index", 1).set("default_sample_duration", i).set("default_sample_size", 0).set("default_sample_flags", 65536);
      }

      return t.write(s), s.buffer;
    }, m.prototype.save = function (e) {
      var t = new o();
      t.endianness = o.BIG_ENDIAN, this.write(t), t.save(e);
    }, m.prototype.getBuffer = function () {
      var e = new o();
      return e.endianness = o.BIG_ENDIAN, this.write(e), e.buffer;
    }, m.prototype.initializeSegmentation = function () {
      var e, t, r, i;

      for (null === this.onSegment && a.warn("MP4Box", "No segmentation callback set!"), this.isFragmentationInitialized || (this.isFragmentationInitialized = !0, this.nextMoofNumber = 0, this.resetTables()), t = [], e = 0; e < this.fragmentedTracks.length; e++) {
        var n = new c.moovBox();
        n.mvhd = this.moov.mvhd, n.boxes.push(n.mvhd), r = this.getTrackById(this.fragmentedTracks[e].id), n.boxes.push(r), n.traks.push(r), (i = {}).id = r.tkhd.track_id, i.user = this.fragmentedTracks[e].user, i.buffer = m.writeInitializationSegment(this.ftyp, n, this.moov.mvex && this.moov.mvex.mehd ? this.moov.mvex.mehd.fragment_duration : void 0, this.moov.traks[e].samples.length > 0 ? this.moov.traks[e].samples[0].duration : 0), t.push(i);
      }

      return t;
    }, c.Box.prototype.printHeader = function (e) {
      this.size += 8, this.size > f && (this.size += 8), "uuid" === this.type && (this.size += 16), e.log(e.indent + "size:" + this.size), e.log(e.indent + "type:" + this.type);
    }, c.FullBox.prototype.printHeader = function (e) {
      this.size += 4, c.Box.prototype.printHeader.call(this, e), e.log(e.indent + "version:" + this.version), e.log(e.indent + "flags:" + this.flags);
    }, c.Box.prototype.print = function (e) {
      this.printHeader(e);
    }, c.ContainerBox.prototype.print = function (e) {
      this.printHeader(e);

      for (var t = 0; t < this.boxes.length; t++) {
        if (this.boxes[t]) {
          var r = e.indent;
          e.indent += " ", this.boxes[t].print(e), e.indent = r;
        }
      }
    }, m.prototype.print = function (e) {
      e.indent = "";

      for (var t = 0; t < this.boxes.length; t++) {
        this.boxes[t] && this.boxes[t].print(e);
      }
    }, c.mvhdBox.prototype.print = function (e) {
      c.FullBox.prototype.printHeader.call(this, e), e.log(e.indent + "creation_time: " + this.creation_time), e.log(e.indent + "modification_time: " + this.modification_time), e.log(e.indent + "timescale: " + this.timescale), e.log(e.indent + "duration: " + this.duration), e.log(e.indent + "rate: " + this.rate), e.log(e.indent + "volume: " + (this.volume >> 8)), e.log(e.indent + "matrix: " + this.matrix.join(", ")), e.log(e.indent + "next_track_id: " + this.next_track_id);
    }, c.tkhdBox.prototype.print = function (e) {
      c.FullBox.prototype.printHeader.call(this, e), e.log(e.indent + "creation_time: " + this.creation_time), e.log(e.indent + "modification_time: " + this.modification_time), e.log(e.indent + "track_id: " + this.track_id), e.log(e.indent + "duration: " + this.duration), e.log(e.indent + "volume: " + (this.volume >> 8)), e.log(e.indent + "matrix: " + this.matrix.join(", ")), e.log(e.indent + "layer: " + this.layer), e.log(e.indent + "alternate_group: " + this.alternate_group), e.log(e.indent + "width: " + this.width), e.log(e.indent + "height: " + this.height);
    };
    var b = {
      createFile: function createFile(e, t) {
        var r = void 0 === e || e,
            i = new m(t);
        return i.discardMdatData = !r, i;
      }
    };
    void 0 !== r && (r.createFile = b.createFile);
  }, {}],
  144: [function (e, t, r) {
    t.exports = {
      "2.16.840.1.101.3.4.1.1": "aes-128-ecb",
      "2.16.840.1.101.3.4.1.2": "aes-128-cbc",
      "2.16.840.1.101.3.4.1.3": "aes-128-ofb",
      "2.16.840.1.101.3.4.1.4": "aes-128-cfb",
      "2.16.840.1.101.3.4.1.21": "aes-192-ecb",
      "2.16.840.1.101.3.4.1.22": "aes-192-cbc",
      "2.16.840.1.101.3.4.1.23": "aes-192-ofb",
      "2.16.840.1.101.3.4.1.24": "aes-192-cfb",
      "2.16.840.1.101.3.4.1.41": "aes-256-ecb",
      "2.16.840.1.101.3.4.1.42": "aes-256-cbc",
      "2.16.840.1.101.3.4.1.43": "aes-256-ofb",
      "2.16.840.1.101.3.4.1.44": "aes-256-cfb"
    };
  }, {}],
  145: [function (e, t, r) {
    "use strict";

    var i = e("asn1.js");
    r.certificate = e("./certificate");
    var n = i.define("RSAPrivateKey", function () {
      this.seq().obj(this.key("version")["int"](), this.key("modulus")["int"](), this.key("publicExponent")["int"](), this.key("privateExponent")["int"](), this.key("prime1")["int"](), this.key("prime2")["int"](), this.key("exponent1")["int"](), this.key("exponent2")["int"](), this.key("coefficient")["int"]());
    });
    r.RSAPrivateKey = n;
    var a = i.define("RSAPublicKey", function () {
      this.seq().obj(this.key("modulus")["int"](), this.key("publicExponent")["int"]());
    });
    r.RSAPublicKey = a;
    var s = i.define("SubjectPublicKeyInfo", function () {
      this.seq().obj(this.key("algorithm").use(o), this.key("subjectPublicKey").bitstr());
    });
    r.PublicKey = s;
    var o = i.define("AlgorithmIdentifier", function () {
      this.seq().obj(this.key("algorithm").objid(), this.key("none").null_().optional(), this.key("curve").objid().optional(), this.key("params").seq().obj(this.key("p")["int"](), this.key("q")["int"](), this.key("g")["int"]()).optional());
    }),
        f = i.define("PrivateKeyInfo", function () {
      this.seq().obj(this.key("version")["int"](), this.key("algorithm").use(o), this.key("subjectPrivateKey").octstr());
    });
    r.PrivateKey = f;
    var u = i.define("EncryptedPrivateKeyInfo", function () {
      this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(), this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(), this.key("kdeparams").seq().obj(this.key("salt").octstr(), this.key("iters")["int"]())), this.key("cipher").seq().obj(this.key("algo").objid(), this.key("iv").octstr()))), this.key("subjectPrivateKey").octstr());
    });
    r.EncryptedPrivateKey = u;
    var h = i.define("DSAPrivateKey", function () {
      this.seq().obj(this.key("version")["int"](), this.key("p")["int"](), this.key("q")["int"](), this.key("g")["int"](), this.key("pub_key")["int"](), this.key("priv_key")["int"]());
    });
    r.DSAPrivateKey = h, r.DSAparam = i.define("DSAparam", function () {
      this["int"]();
    });
    var c = i.define("ECPrivateKey", function () {
      this.seq().obj(this.key("version")["int"](), this.key("privateKey").octstr(), this.key("parameters").optional().explicit(0).use(d), this.key("publicKey").optional().explicit(1).bitstr());
    });
    r.ECPrivateKey = c;
    var d = i.define("ECParameters", function () {
      this.choice({
        namedCurve: this.objid()
      });
    });
    r.signature = i.define("signature", function () {
      this.seq().obj(this.key("r")["int"](), this.key("s")["int"]());
    });
  }, {
    "./certificate": 146,
    "asn1.js": 1
  }],
  146: [function (e, t, r) {
    "use strict";

    var i = e("asn1.js"),
        n = i.define("Time", function () {
      this.choice({
        utcTime: this.utctime(),
        generalTime: this.gentime()
      });
    }),
        a = i.define("AttributeTypeValue", function () {
      this.seq().obj(this.key("type").objid(), this.key("value").any());
    }),
        s = i.define("AlgorithmIdentifier", function () {
      this.seq().obj(this.key("algorithm").objid(), this.key("parameters").optional(), this.key("curve").objid().optional());
    }),
        o = i.define("SubjectPublicKeyInfo", function () {
      this.seq().obj(this.key("algorithm").use(s), this.key("subjectPublicKey").bitstr());
    }),
        f = i.define("RelativeDistinguishedName", function () {
      this.setof(a);
    }),
        u = i.define("RDNSequence", function () {
      this.seqof(f);
    }),
        h = i.define("Name", function () {
      this.choice({
        rdnSequence: this.use(u)
      });
    }),
        c = i.define("Validity", function () {
      this.seq().obj(this.key("notBefore").use(n), this.key("notAfter").use(n));
    }),
        d = i.define("Extension", function () {
      this.seq().obj(this.key("extnID").objid(), this.key("critical").bool().def(!1), this.key("extnValue").octstr());
    }),
        l = i.define("TBSCertificate", function () {
      this.seq().obj(this.key("version").explicit(0)["int"]().optional(), this.key("serialNumber")["int"](), this.key("signature").use(s), this.key("issuer").use(h), this.key("validity").use(c), this.key("subject").use(h), this.key("subjectPublicKeyInfo").use(o), this.key("issuerUniqueID").implicit(1).bitstr().optional(), this.key("subjectUniqueID").implicit(2).bitstr().optional(), this.key("extensions").explicit(3).seqof(d).optional());
    }),
        p = i.define("X509Certificate", function () {
      this.seq().obj(this.key("tbsCertificate").use(l), this.key("signatureAlgorithm").use(s), this.key("signatureValue").bitstr());
    });
    t.exports = p;
  }, {
    "asn1.js": 1
  }],
  147: [function (e, t, r) {
    var i = /Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,
        n = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,
        a = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,
        s = e("evp_bytestokey"),
        o = e("browserify-aes"),
        f = e("safe-buffer").Buffer;

    t.exports = function (e, t) {
      var r,
          u = e.toString(),
          h = u.match(i);

      if (h) {
        var c = "aes" + h[1],
            d = f.from(h[2], "hex"),
            l = f.from(h[3].replace(/[\r\n]/g, ""), "base64"),
            p = s(t, d.slice(0, 8), parseInt(h[1], 10)).key,
            m = [],
            b = o.createDecipheriv(c, p, d);
        m.push(b.update(l)), m.push(b["final"]()), r = f.concat(m);
      } else {
        var y = u.match(a);
        r = f.from(y[2].replace(/[\r\n]/g, ""), "base64");
      }

      return {
        tag: u.match(n)[1],
        data: r
      };
    };
  }, {
    "browserify-aes": 22,
    evp_bytestokey: 104,
    "safe-buffer": 183
  }],
  148: [function (e, t, r) {
    var i = e("./asn1"),
        n = e("./aesid.json"),
        a = e("./fixProc"),
        s = e("browserify-aes"),
        o = e("pbkdf2"),
        f = e("safe-buffer").Buffer;

    function u(e) {
      var t;
      "object" != _typeof(e) || f.isBuffer(e) || (t = e.passphrase, e = e.key), "string" == typeof e && (e = f.from(e));
      var r,
          u,
          h = a(e, t),
          c = h.tag,
          d = h.data;

      switch (c) {
        case "CERTIFICATE":
          u = i.certificate.decode(d, "der").tbsCertificate.subjectPublicKeyInfo;

        case "PUBLIC KEY":
          switch (u || (u = i.PublicKey.decode(d, "der")), r = u.algorithm.algorithm.join(".")) {
            case "1.2.840.113549.1.1.1":
              return i.RSAPublicKey.decode(u.subjectPublicKey.data, "der");

            case "1.2.840.10045.2.1":
              return u.subjectPrivateKey = u.subjectPublicKey, {
                type: "ec",
                data: u
              };

            case "1.2.840.10040.4.1":
              return u.algorithm.params.pub_key = i.DSAparam.decode(u.subjectPublicKey.data, "der"), {
                type: "dsa",
                data: u.algorithm.params
              };

            default:
              throw new Error("unknown key id " + r);
          }

        case "ENCRYPTED PRIVATE KEY":
          d = function (e, t) {
            var r = e.algorithm.decrypt.kde.kdeparams.salt,
                i = parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(), 10),
                a = n[e.algorithm.decrypt.cipher.algo.join(".")],
                u = e.algorithm.decrypt.cipher.iv,
                h = e.subjectPrivateKey,
                c = parseInt(a.split("-")[1], 10) / 8,
                d = o.pbkdf2Sync(t, r, i, c, "sha1"),
                l = s.createDecipheriv(a, d, u),
                p = [];
            return p.push(l.update(h)), p.push(l["final"]()), f.concat(p);
          }(d = i.EncryptedPrivateKey.decode(d, "der"), t);

        case "PRIVATE KEY":
          switch (r = (u = i.PrivateKey.decode(d, "der")).algorithm.algorithm.join(".")) {
            case "1.2.840.113549.1.1.1":
              return i.RSAPrivateKey.decode(u.subjectPrivateKey, "der");

            case "1.2.840.10045.2.1":
              return {
                curve: u.algorithm.curve,
                privateKey: i.ECPrivateKey.decode(u.subjectPrivateKey, "der").privateKey
              };

            case "1.2.840.10040.4.1":
              return u.algorithm.params.priv_key = i.DSAparam.decode(u.subjectPrivateKey, "der"), {
                type: "dsa",
                params: u.algorithm.params
              };

            default:
              throw new Error("unknown key id " + r);
          }

        case "RSA PUBLIC KEY":
          return i.RSAPublicKey.decode(d, "der");

        case "RSA PRIVATE KEY":
          return i.RSAPrivateKey.decode(d, "der");

        case "DSA PRIVATE KEY":
          return {
            type: "dsa",
            params: i.DSAPrivateKey.decode(d, "der")
          };

        case "EC PRIVATE KEY":
          return {
            curve: (d = i.ECPrivateKey.decode(d, "der")).parameters.value,
            privateKey: d.privateKey
          };

        default:
          throw new Error("unknown key type " + c);
      }
    }

    t.exports = u, u.signature = i.signature;
  }, {
    "./aesid.json": 144,
    "./asn1": 145,
    "./fixProc": 147,
    "browserify-aes": 22,
    pbkdf2: 150,
    "safe-buffer": 183
  }],
  149: [function (e, t, r) {
    (function (e) {
      function t(e, t) {
        for (var r = 0, i = e.length - 1; i >= 0; i--) {
          var n = e[i];
          "." === n ? e.splice(i, 1) : ".." === n ? (e.splice(i, 1), r++) : r && (e.splice(i, 1), r--);
        }

        if (t) for (; r--; r) {
          e.unshift("..");
        }
        return e;
      }

      function i(e, t) {
        if (e.filter) return e.filter(t);

        for (var r = [], i = 0; i < e.length; i++) {
          t(e[i], i, e) && r.push(e[i]);
        }

        return r;
      }

      r.resolve = function () {
        for (var r = "", n = !1, a = arguments.length - 1; a >= -1 && !n; a--) {
          var s = a >= 0 ? arguments[a] : e.cwd();
          if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings");
          s && (r = s + "/" + r, n = "/" === s.charAt(0));
        }

        return (n ? "/" : "") + (r = t(i(r.split("/"), function (e) {
          return !!e;
        }), !n).join("/")) || ".";
      }, r.normalize = function (e) {
        var a = r.isAbsolute(e),
            s = "/" === n(e, -1);
        return (e = t(i(e.split("/"), function (e) {
          return !!e;
        }), !a).join("/")) || a || (e = "."), e && s && (e += "/"), (a ? "/" : "") + e;
      }, r.isAbsolute = function (e) {
        return "/" === e.charAt(0);
      }, r.join = function () {
        var e = Array.prototype.slice.call(arguments, 0);
        return r.normalize(i(e, function (e, t) {
          if ("string" != typeof e) throw new TypeError("Arguments to path.join must be strings");
          return e;
        }).join("/"));
      }, r.relative = function (e, t) {
        function i(e) {
          for (var t = 0; t < e.length && "" === e[t]; t++) {
            ;
          }

          for (var r = e.length - 1; r >= 0 && "" === e[r]; r--) {
            ;
          }

          return t > r ? [] : e.slice(t, r - t + 1);
        }

        e = r.resolve(e).substr(1), t = r.resolve(t).substr(1);

        for (var n = i(e.split("/")), a = i(t.split("/")), s = Math.min(n.length, a.length), o = s, f = 0; f < s; f++) {
          if (n[f] !== a[f]) {
            o = f;
            break;
          }
        }

        var u = [];

        for (f = o; f < n.length; f++) {
          u.push("..");
        }

        return (u = u.concat(a.slice(o))).join("/");
      }, r.sep = "/", r.delimiter = ":", r.dirname = function (e) {
        if ("string" != typeof e && (e += ""), 0 === e.length) return ".";

        for (var t = e.charCodeAt(0), r = 47 === t, i = -1, n = !0, a = e.length - 1; a >= 1; --a) {
          if (47 === (t = e.charCodeAt(a))) {
            if (!n) {
              i = a;
              break;
            }
          } else n = !1;
        }

        return -1 === i ? r ? "/" : "." : r && 1 === i ? "/" : e.slice(0, i);
      }, r.basename = function (e, t) {
        var r = function (e) {
          "string" != typeof e && (e += "");
          var t,
              r = 0,
              i = -1,
              n = !0;

          for (t = e.length - 1; t >= 0; --t) {
            if (47 === e.charCodeAt(t)) {
              if (!n) {
                r = t + 1;
                break;
              }
            } else -1 === i && (n = !1, i = t + 1);
          }

          return -1 === i ? "" : e.slice(r, i);
        }(e);

        return t && r.substr(-1 * t.length) === t && (r = r.substr(0, r.length - t.length)), r;
      }, r.extname = function (e) {
        "string" != typeof e && (e += "");

        for (var t = -1, r = 0, i = -1, n = !0, a = 0, s = e.length - 1; s >= 0; --s) {
          var o = e.charCodeAt(s);
          if (47 !== o) -1 === i && (n = !1, i = s + 1), 46 === o ? -1 === t ? t = s : 1 !== a && (a = 1) : -1 !== t && (a = -1);else if (!n) {
            r = s + 1;
            break;
          }
        }

        return -1 === t || -1 === i || 0 === a || 1 === a && t === i - 1 && t === r + 1 ? "" : e.slice(t, i);
      };
      var n = "b" === "ab".substr(-1) ? function (e, t, r) {
        return e.substr(t, r);
      } : function (e, t, r) {
        return t < 0 && (t = e.length + t), e.substr(t, r);
      };
    }).call(this, e("_process"));
  }, {
    _process: 157
  }],
  150: [function (e, t, r) {
    r.pbkdf2 = e("./lib/async"), r.pbkdf2Sync = e("./lib/sync");
  }, {
    "./lib/async": 151,
    "./lib/sync": 154
  }],
  151: [function (e, t, r) {
    (function (r, i) {
      var n,
          a = e("safe-buffer").Buffer,
          s = e("./precondition"),
          o = e("./default-encoding"),
          f = e("./sync"),
          u = e("./to-buffer"),
          h = i.crypto && i.crypto.subtle,
          c = {
        sha: "SHA-1",
        "sha-1": "SHA-1",
        sha1: "SHA-1",
        sha256: "SHA-256",
        "sha-256": "SHA-256",
        sha384: "SHA-384",
        "sha-384": "SHA-384",
        "sha-512": "SHA-512",
        sha512: "SHA-512"
      },
          d = [];

      function l(e, t, r, i, n) {
        return h.importKey("raw", e, {
          name: "PBKDF2"
        }, !1, ["deriveBits"]).then(function (e) {
          return h.deriveBits({
            name: "PBKDF2",
            salt: t,
            iterations: r,
            hash: {
              name: n
            }
          }, e, i << 3);
        }).then(function (e) {
          return a.from(e);
        });
      }

      t.exports = function (e, t, p, m, b, y) {
        "function" == typeof b && (y = b, b = void 0);
        var g = c[(b = b || "sha1").toLowerCase()];
        if (!g || "function" != typeof i.Promise) return r.nextTick(function () {
          var r;

          try {
            r = f(e, t, p, m, b);
          } catch (e) {
            return y(e);
          }

          y(null, r);
        });
        if (s(p, m), e = u(e, o, "Password"), t = u(t, o, "Salt"), "function" != typeof y) throw new Error("No callback provided to pbkdf2");
        !function (e, t) {
          e.then(function (e) {
            r.nextTick(function () {
              t(null, e);
            });
          }, function (e) {
            r.nextTick(function () {
              t(e);
            });
          });
        }(function (e) {
          if (i.process && !i.process.browser) return Promise.resolve(!1);
          if (!h || !h.importKey || !h.deriveBits) return Promise.resolve(!1);
          if (void 0 !== d[e]) return d[e];
          var t = l(n = n || a.alloc(8), n, 10, 128, e).then(function () {
            return !0;
          })["catch"](function () {
            return !1;
          });
          return d[e] = t, t;
        }(g).then(function (r) {
          return r ? l(e, t, p, m, g) : f(e, t, p, m, b);
        }), y);
      };
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "./default-encoding": 152,
    "./precondition": 153,
    "./sync": 154,
    "./to-buffer": 155,
    _process: 157,
    "safe-buffer": 183
  }],
  152: [function (e, t, r) {
    (function (e) {
      var r;
      if (e.browser) r = "utf-8";else if (e.version) {
        r = parseInt(e.version.split(".")[0].slice(1), 10) >= 6 ? "utf-8" : "binary";
      } else r = "utf-8";
      t.exports = r;
    }).call(this, e("_process"));
  }, {
    _process: 157
  }],
  153: [function (e, t, r) {
    var i = Math.pow(2, 30) - 1;

    t.exports = function (e, t) {
      if ("number" != typeof e) throw new TypeError("Iterations not a number");
      if (e < 0) throw new TypeError("Bad iterations");
      if ("number" != typeof t) throw new TypeError("Key length not a number");
      if (t < 0 || t > i || t != t) throw new TypeError("Bad key length");
    };
  }, {}],
  154: [function (e, t, r) {
    var i = e("create-hash/md5"),
        n = e("ripemd160"),
        a = e("sha.js"),
        s = e("safe-buffer").Buffer,
        o = e("./precondition"),
        f = e("./default-encoding"),
        u = e("./to-buffer"),
        h = s.alloc(128),
        c = {
      md5: 16,
      sha1: 20,
      sha224: 28,
      sha256: 32,
      sha384: 48,
      sha512: 64,
      rmd160: 20,
      ripemd160: 20
    };

    function d(e, t, r) {
      var o = function (e) {
        function t(t) {
          return a(e).update(t).digest();
        }

        return "rmd160" === e || "ripemd160" === e ? function (e) {
          return new n().update(e).digest();
        } : "md5" === e ? i : t;
      }(e),
          f = "sha512" === e || "sha384" === e ? 128 : 64;

      t.length > f ? t = o(t) : t.length < f && (t = s.concat([t, h], f));

      for (var u = s.allocUnsafe(f + c[e]), d = s.allocUnsafe(f + c[e]), l = 0; l < f; l++) {
        u[l] = 54 ^ t[l], d[l] = 92 ^ t[l];
      }

      var p = s.allocUnsafe(f + r + 4);
      u.copy(p, 0, 0, f), this.ipad1 = p, this.ipad2 = u, this.opad = d, this.alg = e, this.blocksize = f, this.hash = o, this.size = c[e];
    }

    d.prototype.run = function (e, t) {
      return e.copy(t, this.blocksize), this.hash(t).copy(this.opad, this.blocksize), this.hash(this.opad);
    }, t.exports = function (e, t, r, i, n) {
      o(r, i);
      var a = new d(n = n || "sha1", e = u(e, f, "Password"), (t = u(t, f, "Salt")).length),
          h = s.allocUnsafe(i),
          l = s.allocUnsafe(t.length + 4);
      t.copy(l, 0, 0, t.length);

      for (var p = 0, m = c[n], b = Math.ceil(i / m), y = 1; y <= b; y++) {
        l.writeUInt32BE(y, t.length);

        for (var g = a.run(l, a.ipad1), _ = g, v = 1; v < r; v++) {
          _ = a.run(_, a.ipad2);

          for (var w = 0; w < m; w++) {
            g[w] ^= _[w];
          }
        }

        g.copy(h, p), p += m;
      }

      return h;
    };
  }, {
    "./default-encoding": 152,
    "./precondition": 153,
    "./to-buffer": 155,
    "create-hash/md5": 71,
    ripemd160: 182,
    "safe-buffer": 183,
    "sha.js": 186
  }],
  155: [function (e, t, r) {
    var i = e("safe-buffer").Buffer;

    t.exports = function (e, t, r) {
      if (i.isBuffer(e)) return e;
      if ("string" == typeof e) return i.from(e, t);
      if (ArrayBuffer.isView(e)) return i.from(e.buffer);
      throw new TypeError(r + " must be a string, a Buffer, a typed array or a DataView");
    };
  }, {
    "safe-buffer": 183
  }],
  156: [function (e, t, r) {
    (function (e) {
      "use strict";

      void 0 === e || !e.version || 0 === e.version.indexOf("v0.") || 0 === e.version.indexOf("v1.") && 0 !== e.version.indexOf("v1.8.") ? t.exports = {
        nextTick: function nextTick(t, r, i, n) {
          if ("function" != typeof t) throw new TypeError('"callback" argument must be a function');
          var a,
              s,
              o = arguments.length;

          switch (o) {
            case 0:
            case 1:
              return e.nextTick(t);

            case 2:
              return e.nextTick(function () {
                t.call(null, r);
              });

            case 3:
              return e.nextTick(function () {
                t.call(null, r, i);
              });

            case 4:
              return e.nextTick(function () {
                t.call(null, r, i, n);
              });

            default:
              for (a = new Array(o - 1), s = 0; s < a.length;) {
                a[s++] = arguments[s];
              }

              return e.nextTick(function () {
                t.apply(null, a);
              });
          }
        }
      } : t.exports = e;
    }).call(this, e("_process"));
  }, {
    _process: 157
  }],
  157: [function (e, t, r) {
    var i,
        n,
        a = t.exports = {};

    function s() {
      throw new Error("setTimeout has not been defined");
    }

    function o() {
      throw new Error("clearTimeout has not been defined");
    }

    function f(e) {
      if (i === setTimeout) return setTimeout(e, 0);
      if ((i === s || !i) && setTimeout) return i = setTimeout, setTimeout(e, 0);

      try {
        return i(e, 0);
      } catch (t) {
        try {
          return i.call(null, e, 0);
        } catch (t) {
          return i.call(this, e, 0);
        }
      }
    }

    !function () {
      try {
        i = "function" == typeof setTimeout ? setTimeout : s;
      } catch (e) {
        i = s;
      }

      try {
        n = "function" == typeof clearTimeout ? clearTimeout : o;
      } catch (e) {
        n = o;
      }
    }();
    var u,
        h = [],
        c = !1,
        d = -1;

    function l() {
      c && u && (c = !1, u.length ? h = u.concat(h) : d = -1, h.length && p());
    }

    function p() {
      if (!c) {
        var e = f(l);
        c = !0;

        for (var t = h.length; t;) {
          for (u = h, h = []; ++d < t;) {
            u && u[d].run();
          }

          d = -1, t = h.length;
        }

        u = null, c = !1, function (e) {
          if (n === clearTimeout) return clearTimeout(e);
          if ((n === o || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e);

          try {
            n(e);
          } catch (t) {
            try {
              return n.call(null, e);
            } catch (t) {
              return n.call(this, e);
            }
          }
        }(e);
      }
    }

    function m(e, t) {
      this.fun = e, this.array = t;
    }

    function b() {}

    a.nextTick = function (e) {
      var t = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) {
        t[r - 1] = arguments[r];
      }
      h.push(new m(e, t)), 1 !== h.length || c || f(p);
    }, m.prototype.run = function () {
      this.fun.apply(null, this.array);
    }, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = b, a.addListener = b, a.once = b, a.off = b, a.removeListener = b, a.removeAllListeners = b, a.emit = b, a.prependListener = b, a.prependOnceListener = b, a.listeners = function (e) {
      return [];
    }, a.binding = function (e) {
      throw new Error("process.binding is not supported");
    }, a.cwd = function () {
      return "/";
    }, a.chdir = function (e) {
      throw new Error("process.chdir is not supported");
    }, a.umask = function () {
      return 0;
    };
  }, {}],
  158: [function (e, t, r) {
    r.publicEncrypt = e("./publicEncrypt"), r.privateDecrypt = e("./privateDecrypt"), r.privateEncrypt = function (e, t) {
      return r.publicEncrypt(e, t, !0);
    }, r.publicDecrypt = function (e, t) {
      return r.privateDecrypt(e, t, !0);
    };
  }, {
    "./privateDecrypt": 161,
    "./publicEncrypt": 162
  }],
  159: [function (e, t, r) {
    var i = e("create-hash"),
        n = e("safe-buffer").Buffer;

    function a(e) {
      var t = n.allocUnsafe(4);
      return t.writeUInt32BE(e, 0), t;
    }

    t.exports = function (e, t) {
      for (var r, s = n.alloc(0), o = 0; s.length < t;) {
        r = a(o++), s = n.concat([s, i("sha1").update(e).update(r).digest()]);
      }

      return s.slice(0, t);
    };
  }, {
    "create-hash": 70,
    "safe-buffer": 183
  }],
  160: [function (e, t, r) {
    arguments[4][15][0].apply(r, arguments);
  }, {
    buffer: 19,
    dup: 15
  }],
  161: [function (e, t, r) {
    var i = e("parse-asn1"),
        n = e("./mgf"),
        a = e("./xor"),
        s = e("bn.js"),
        o = e("browserify-rsa"),
        f = e("create-hash"),
        u = e("./withPublic"),
        h = e("safe-buffer").Buffer;

    t.exports = function (e, t, r) {
      var c;
      c = e.padding ? e.padding : r ? 1 : 4;
      var d,
          l = i(e),
          p = l.modulus.byteLength();
      if (t.length > p || new s(t).cmp(l.modulus) >= 0) throw new Error("decryption error");
      d = r ? u(new s(t), l) : o(t, l);
      var m = h.alloc(p - d.length);
      if (d = h.concat([m, d], p), 4 === c) return function (e, t) {
        var r = e.modulus.byteLength(),
            i = f("sha1").update(h.alloc(0)).digest(),
            s = i.length;
        if (0 !== t[0]) throw new Error("decryption error");
        var o = t.slice(1, s + 1),
            u = t.slice(s + 1),
            c = a(o, n(u, s)),
            d = a(u, n(c, r - s - 1));
        if (function (e, t) {
          e = h.from(e), t = h.from(t);
          var r = 0,
              i = e.length;
          e.length !== t.length && (r++, i = Math.min(e.length, t.length));
          var n = -1;

          for (; ++n < i;) {
            r += e[n] ^ t[n];
          }

          return r;
        }(i, d.slice(0, s))) throw new Error("decryption error");
        var l = s;

        for (; 0 === d[l];) {
          l++;
        }

        if (1 !== d[l++]) throw new Error("decryption error");
        return d.slice(l);
      }(l, d);
      if (1 === c) return function (e, t, r) {
        var i = t.slice(0, 2),
            n = 2,
            a = 0;

        for (; 0 !== t[n++];) {
          if (n >= t.length) {
            a++;
            break;
          }
        }

        var s = t.slice(2, n - 1);
        ("0002" !== i.toString("hex") && !r || "0001" !== i.toString("hex") && r) && a++;
        s.length < 8 && a++;
        if (a) throw new Error("decryption error");
        return t.slice(n);
      }(0, d, r);
      if (3 === c) return d;
      throw new Error("unknown padding");
    };
  }, {
    "./mgf": 159,
    "./withPublic": 163,
    "./xor": 164,
    "bn.js": 160,
    "browserify-rsa": 40,
    "create-hash": 70,
    "parse-asn1": 148,
    "safe-buffer": 183
  }],
  162: [function (e, t, r) {
    var i = e("parse-asn1"),
        n = e("randombytes"),
        a = e("create-hash"),
        s = e("./mgf"),
        o = e("./xor"),
        f = e("bn.js"),
        u = e("./withPublic"),
        h = e("browserify-rsa"),
        c = e("safe-buffer").Buffer;

    t.exports = function (e, t, r) {
      var d;
      d = e.padding ? e.padding : r ? 1 : 4;
      var l,
          p = i(e);
      if (4 === d) l = function (e, t) {
        var r = e.modulus.byteLength(),
            i = t.length,
            u = a("sha1").update(c.alloc(0)).digest(),
            h = u.length,
            d = 2 * h;
        if (i > r - d - 2) throw new Error("message too long");
        var l = c.alloc(r - i - d - 2),
            p = r - h - 1,
            m = n(h),
            b = o(c.concat([u, l, c.alloc(1, 1), t], p), s(m, p)),
            y = o(m, s(b, h));
        return new f(c.concat([c.alloc(1), y, b], r));
      }(p, t);else if (1 === d) l = function (e, t, r) {
        var i,
            a = t.length,
            s = e.modulus.byteLength();
        if (a > s - 11) throw new Error("message too long");
        i = r ? c.alloc(s - a - 3, 255) : function (e) {
          var t,
              r = c.allocUnsafe(e),
              i = 0,
              a = n(2 * e),
              s = 0;

          for (; i < e;) {
            s === a.length && (a = n(2 * e), s = 0), (t = a[s++]) && (r[i++] = t);
          }

          return r;
        }(s - a - 3);
        return new f(c.concat([c.from([0, r ? 1 : 2]), i, c.alloc(1), t], s));
      }(p, t, r);else {
        if (3 !== d) throw new Error("unknown padding");
        if ((l = new f(t)).cmp(p.modulus) >= 0) throw new Error("data too long for modulus");
      }
      return r ? h(l, p) : u(l, p);
    };
  }, {
    "./mgf": 159,
    "./withPublic": 163,
    "./xor": 164,
    "bn.js": 160,
    "browserify-rsa": 40,
    "create-hash": 70,
    "parse-asn1": 148,
    randombytes: 165,
    "safe-buffer": 183
  }],
  163: [function (e, t, r) {
    var i = e("bn.js"),
        n = e("safe-buffer").Buffer;

    t.exports = function (e, t) {
      return n.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray());
    };
  }, {
    "bn.js": 160,
    "safe-buffer": 183
  }],
  164: [function (e, t, r) {
    t.exports = function (e, t) {
      for (var r = e.length, i = -1; ++i < r;) {
        e[i] ^= t[i];
      }

      return e;
    };
  }, {}],
  165: [function (e, t, r) {
    (function (r, i) {
      "use strict";

      var n = e("safe-buffer").Buffer,
          a = i.crypto || i.msCrypto;
      a && a.getRandomValues ? t.exports = function (e, t) {
        if (e > 4294967295) throw new RangeError("requested too many random bytes");
        var i = n.allocUnsafe(e);
        if (e > 0) if (e > 65536) for (var s = 0; s < e; s += 65536) {
          a.getRandomValues(i.slice(s, s + 65536));
        } else a.getRandomValues(i);
        if ("function" == typeof t) return r.nextTick(function () {
          t(null, i);
        });
        return i;
      } : t.exports = function () {
        throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11");
      };
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    _process: 157,
    "safe-buffer": 183
  }],
  166: [function (e, t, r) {
    (function (t, i) {
      "use strict";

      function n() {
        throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11");
      }

      var a = e("safe-buffer"),
          s = e("randombytes"),
          o = a.Buffer,
          f = a.kMaxLength,
          u = i.crypto || i.msCrypto,
          h = Math.pow(2, 32) - 1;

      function c(e, t) {
        if ("number" != typeof e || e != e) throw new TypeError("offset must be a number");
        if (e > h || e < 0) throw new TypeError("offset must be a uint32");
        if (e > f || e > t) throw new RangeError("offset out of range");
      }

      function d(e, t, r) {
        if ("number" != typeof e || e != e) throw new TypeError("size must be a number");
        if (e > h || e < 0) throw new TypeError("size must be a uint32");
        if (e + t > r || e > f) throw new RangeError("buffer too small");
      }

      function l(e, r, i, n) {
        if (t.browser) {
          var a = e.buffer,
              o = new Uint8Array(a, r, i);
          return u.getRandomValues(o), n ? void t.nextTick(function () {
            n(null, e);
          }) : e;
        }

        if (!n) return s(i).copy(e, r), e;
        s(i, function (t, i) {
          if (t) return n(t);
          i.copy(e, r), n(null, e);
        });
      }

      u && u.getRandomValues || !t.browser ? (r.randomFill = function (e, t, r, n) {
        if (!(o.isBuffer(e) || e instanceof i.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
        if ("function" == typeof t) n = t, t = 0, r = e.length;else if ("function" == typeof r) n = r, r = e.length - t;else if ("function" != typeof n) throw new TypeError('"cb" argument must be a function');
        return c(t, e.length), d(r, t, e.length), l(e, t, r, n);
      }, r.randomFillSync = function (e, t, r) {
        void 0 === t && (t = 0);
        if (!(o.isBuffer(e) || e instanceof i.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
        c(t, e.length), void 0 === r && (r = e.length - t);
        return d(r, t, e.length), l(e, t, r);
      }) : (r.randomFill = n, r.randomFillSync = n);
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    _process: 157,
    randombytes: 165,
    "safe-buffer": 183
  }],
  167: [function (e, t, r) {
    t.exports = e("./lib/_stream_duplex.js");
  }, {
    "./lib/_stream_duplex.js": 168
  }],
  168: [function (e, t, r) {
    "use strict";

    var i = e("process-nextick-args"),
        n = Object.keys || function (e) {
      var t = [];

      for (var r in e) {
        t.push(r);
      }

      return t;
    };

    t.exports = c;
    var a = Object.create(e("core-util-is"));
    a.inherits = e("inherits");
    var s = e("./_stream_readable"),
        o = e("./_stream_writable");
    a.inherits(c, s);

    for (var f = n(o.prototype), u = 0; u < f.length; u++) {
      var h = f[u];
      c.prototype[h] || (c.prototype[h] = o.prototype[h]);
    }

    function c(e) {
      if (!(this instanceof c)) return new c(e);
      s.call(this, e), o.call(this, e), e && !1 === e.readable && (this.readable = !1), e && !1 === e.writable && (this.writable = !1), this.allowHalfOpen = !0, e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1), this.once("end", d);
    }

    function d() {
      this.allowHalfOpen || this._writableState.ended || i.nextTick(l, this);
    }

    function l(e) {
      e.end();
    }

    Object.defineProperty(c.prototype, "writableHighWaterMark", {
      enumerable: !1,
      get: function get() {
        return this._writableState.highWaterMark;
      }
    }), Object.defineProperty(c.prototype, "destroyed", {
      get: function get() {
        return void 0 !== this._readableState && void 0 !== this._writableState && this._readableState.destroyed && this._writableState.destroyed;
      },
      set: function set(e) {
        void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e, this._writableState.destroyed = e);
      }
    }), c.prototype._destroy = function (e, t) {
      this.push(null), this.end(), i.nextTick(t, e);
    };
  }, {
    "./_stream_readable": 170,
    "./_stream_writable": 172,
    "core-util-is": 67,
    inherits: 135,
    "process-nextick-args": 156
  }],
  169: [function (e, t, r) {
    "use strict";

    t.exports = a;
    var i = e("./_stream_transform"),
        n = Object.create(e("core-util-is"));

    function a(e) {
      if (!(this instanceof a)) return new a(e);
      i.call(this, e);
    }

    n.inherits = e("inherits"), n.inherits(a, i), a.prototype._transform = function (e, t, r) {
      r(null, e);
    };
  }, {
    "./_stream_transform": 171,
    "core-util-is": 67,
    inherits: 135
  }],
  170: [function (e, t, r) {
    (function (r, i) {
      "use strict";

      var n = e("process-nextick-args");
      t.exports = _;
      var a,
          s = e("isarray");
      _.ReadableState = g;
      e("events").EventEmitter;

      var o = function o(e, t) {
        return e.listeners(t).length;
      },
          f = e("./internal/streams/stream"),
          u = e("safe-buffer").Buffer,
          h = i.Uint8Array || function () {};

      var c = Object.create(e("core-util-is"));
      c.inherits = e("inherits");
      var d = e("util"),
          l = void 0;
      l = d && d.debuglog ? d.debuglog("stream") : function () {};
      var p,
          m = e("./internal/streams/BufferList"),
          b = e("./internal/streams/destroy");
      c.inherits(_, f);
      var y = ["error", "close", "destroy", "pause", "resume"];

      function g(t, r) {
        t = t || {};
        var i = r instanceof (a = a || e("./_stream_duplex"));
        this.objectMode = !!t.objectMode, i && (this.objectMode = this.objectMode || !!t.readableObjectMode);
        var n = t.highWaterMark,
            s = t.readableHighWaterMark,
            o = this.objectMode ? 16 : 16384;
        this.highWaterMark = n || 0 === n ? n : i && (s || 0 === s) ? s : o, this.highWaterMark = Math.floor(this.highWaterMark), this.buffer = new m(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (p || (p = e("string_decoder/").StringDecoder), this.decoder = new p(t.encoding), this.encoding = t.encoding);
      }

      function _(t) {
        if (a = a || e("./_stream_duplex"), !(this instanceof _)) return new _(t);
        this._readableState = new g(t, this), this.readable = !0, t && ("function" == typeof t.read && (this._read = t.read), "function" == typeof t.destroy && (this._destroy = t.destroy)), f.call(this);
      }

      function v(e, t, r, i, n) {
        var a,
            s = e._readableState;
        null === t ? (s.reading = !1, function (e, t) {
          if (t.ended) return;

          if (t.decoder) {
            var r = t.decoder.end();
            r && r.length && (t.buffer.push(r), t.length += t.objectMode ? 1 : r.length);
          }

          t.ended = !0, S(e);
        }(e, s)) : (n || (a = function (e, t) {
          var r;
          i = t, u.isBuffer(i) || i instanceof h || "string" == typeof t || void 0 === t || e.objectMode || (r = new TypeError("Invalid non-string/buffer chunk"));
          var i;
          return r;
        }(s, t)), a ? e.emit("error", a) : s.objectMode || t && t.length > 0 ? ("string" == typeof t || s.objectMode || Object.getPrototypeOf(t) === u.prototype || (t = function (e) {
          return u.from(e);
        }(t)), i ? s.endEmitted ? e.emit("error", new Error("stream.unshift() after end event")) : w(e, s, t, !0) : s.ended ? e.emit("error", new Error("stream.push() after EOF")) : (s.reading = !1, s.decoder && !r ? (t = s.decoder.write(t), s.objectMode || 0 !== t.length ? w(e, s, t, !1) : x(e, s)) : w(e, s, t, !1))) : i || (s.reading = !1));
        return function (e) {
          return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length);
        }(s);
      }

      function w(e, t, r, i) {
        t.flowing && 0 === t.length && !t.sync ? (e.emit("data", r), e.read(0)) : (t.length += t.objectMode ? 1 : r.length, i ? t.buffer.unshift(r) : t.buffer.push(r), t.needReadable && S(e)), x(e, t);
      }

      Object.defineProperty(_.prototype, "destroyed", {
        get: function get() {
          return void 0 !== this._readableState && this._readableState.destroyed;
        },
        set: function set(e) {
          this._readableState && (this._readableState.destroyed = e);
        }
      }), _.prototype.destroy = b.destroy, _.prototype._undestroy = b.undestroy, _.prototype._destroy = function (e, t) {
        this.push(null), t(e);
      }, _.prototype.push = function (e, t) {
        var r,
            i = this._readableState;
        return i.objectMode ? r = !0 : "string" == typeof e && ((t = t || i.defaultEncoding) !== i.encoding && (e = u.from(e, t), t = ""), r = !0), v(this, e, t, !1, r);
      }, _.prototype.unshift = function (e) {
        return v(this, e, null, !0, !1);
      }, _.prototype.isPaused = function () {
        return !1 === this._readableState.flowing;
      }, _.prototype.setEncoding = function (t) {
        return p || (p = e("string_decoder/").StringDecoder), this._readableState.decoder = new p(t), this._readableState.encoding = t, this;
      };

      function E(e, t) {
        return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function (e) {
          return e >= 8388608 ? e = 8388608 : (e--, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e;
        }(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0));
      }

      function S(e) {
        var t = e._readableState;
        t.needReadable = !1, t.emittedReadable || (l("emitReadable", t.flowing), t.emittedReadable = !0, t.sync ? n.nextTick(A, e) : A(e));
      }

      function A(e) {
        l("emit readable"), e.emit("readable"), P(e);
      }

      function x(e, t) {
        t.readingMore || (t.readingMore = !0, n.nextTick(M, e, t));
      }

      function M(e, t) {
        for (var r = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (l("maybeReadMore read 0"), e.read(0), r !== t.length);) {
          r = t.length;
        }

        t.readingMore = !1;
      }

      function T(e) {
        l("readable nexttick read 0"), e.read(0);
      }

      function k(e, t) {
        t.reading || (l("resume read 0"), e.read(0)), t.resumeScheduled = !1, t.awaitDrain = 0, e.emit("resume"), P(e), t.flowing && !t.reading && e.read(0);
      }

      function P(e) {
        var t = e._readableState;

        for (l("flow", t.flowing); t.flowing && null !== e.read();) {
          ;
        }
      }

      function U(e, t) {
        return 0 === t.length ? null : (t.objectMode ? r = t.buffer.shift() : !e || e >= t.length ? (r = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length), t.buffer.clear()) : r = function (e, t, r) {
          var i;
          e < t.head.data.length ? (i = t.head.data.slice(0, e), t.head.data = t.head.data.slice(e)) : i = e === t.head.data.length ? t.shift() : r ? function (e, t) {
            var r = t.head,
                i = 1,
                n = r.data;
            e -= n.length;

            for (; r = r.next;) {
              var a = r.data,
                  s = e > a.length ? a.length : e;

              if (s === a.length ? n += a : n += a.slice(0, e), 0 === (e -= s)) {
                s === a.length ? (++i, r.next ? t.head = r.next : t.head = t.tail = null) : (t.head = r, r.data = a.slice(s));
                break;
              }

              ++i;
            }

            return t.length -= i, n;
          }(e, t) : function (e, t) {
            var r = u.allocUnsafe(e),
                i = t.head,
                n = 1;
            i.data.copy(r), e -= i.data.length;

            for (; i = i.next;) {
              var a = i.data,
                  s = e > a.length ? a.length : e;

              if (a.copy(r, r.length - e, 0, s), 0 === (e -= s)) {
                s === a.length ? (++n, i.next ? t.head = i.next : t.head = t.tail = null) : (t.head = i, i.data = a.slice(s));
                break;
              }

              ++n;
            }

            return t.length -= n, r;
          }(e, t);
          return i;
        }(e, t.buffer, t.decoder), r);
        var r;
      }

      function I(e) {
        var t = e._readableState;
        if (t.length > 0) throw new Error('"endReadable()" called on non-empty stream');
        t.endEmitted || (t.ended = !0, n.nextTick(C, t, e));
      }

      function C(e, t) {
        e.endEmitted || 0 !== e.length || (e.endEmitted = !0, t.readable = !1, t.emit("end"));
      }

      function R(e, t) {
        for (var r = 0, i = e.length; r < i; r++) {
          if (e[r] === t) return r;
        }

        return -1;
      }

      _.prototype.read = function (e) {
        l("read", e), e = parseInt(e, 10);
        var t = this._readableState,
            r = e;
        if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended)) return l("read: emitReadable", t.length, t.ended), 0 === t.length && t.ended ? I(this) : S(this), null;
        if (0 === (e = E(e, t)) && t.ended) return 0 === t.length && I(this), null;
        var i,
            n = t.needReadable;
        return l("need readable", n), (0 === t.length || t.length - e < t.highWaterMark) && l("length less than watermark", n = !0), t.ended || t.reading ? l("reading or ended", n = !1) : n && (l("do read"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = E(r, t))), null === (i = e > 0 ? U(e, t) : null) ? (t.needReadable = !0, e = 0) : t.length -= e, 0 === t.length && (t.ended || (t.needReadable = !0), r !== e && t.ended && I(this)), null !== i && this.emit("data", i), i;
      }, _.prototype._read = function (e) {
        this.emit("error", new Error("_read() is not implemented"));
      }, _.prototype.pipe = function (e, t) {
        var i = this,
            a = this._readableState;

        switch (a.pipesCount) {
          case 0:
            a.pipes = e;
            break;

          case 1:
            a.pipes = [a.pipes, e];
            break;

          default:
            a.pipes.push(e);
        }

        a.pipesCount += 1, l("pipe count=%d opts=%j", a.pipesCount, t);
        var f = (!t || !1 !== t.end) && e !== r.stdout && e !== r.stderr ? h : _;

        function u(t, r) {
          l("onunpipe"), t === i && r && !1 === r.hasUnpiped && (r.hasUnpiped = !0, l("cleanup"), e.removeListener("close", y), e.removeListener("finish", g), e.removeListener("drain", c), e.removeListener("error", b), e.removeListener("unpipe", u), i.removeListener("end", h), i.removeListener("end", _), i.removeListener("data", m), d = !0, !a.awaitDrain || e._writableState && !e._writableState.needDrain || c());
        }

        function h() {
          l("onend"), e.end();
        }

        a.endEmitted ? n.nextTick(f) : i.once("end", f), e.on("unpipe", u);

        var c = function (e) {
          return function () {
            var t = e._readableState;
            l("pipeOnDrain", t.awaitDrain), t.awaitDrain && t.awaitDrain--, 0 === t.awaitDrain && o(e, "data") && (t.flowing = !0, P(e));
          };
        }(i);

        e.on("drain", c);
        var d = !1;
        var p = !1;

        function m(t) {
          l("ondata"), p = !1, !1 !== e.write(t) || p || ((1 === a.pipesCount && a.pipes === e || a.pipesCount > 1 && -1 !== R(a.pipes, e)) && !d && (l("false write response, pause", i._readableState.awaitDrain), i._readableState.awaitDrain++, p = !0), i.pause());
        }

        function b(t) {
          l("onerror", t), _(), e.removeListener("error", b), 0 === o(e, "error") && e.emit("error", t);
        }

        function y() {
          e.removeListener("finish", g), _();
        }

        function g() {
          l("onfinish"), e.removeListener("close", y), _();
        }

        function _() {
          l("unpipe"), i.unpipe(e);
        }

        return i.on("data", m), function (e, t, r) {
          if ("function" == typeof e.prependListener) return e.prependListener(t, r);
          e._events && e._events[t] ? s(e._events[t]) ? e._events[t].unshift(r) : e._events[t] = [r, e._events[t]] : e.on(t, r);
        }(e, "error", b), e.once("close", y), e.once("finish", g), e.emit("pipe", i), a.flowing || (l("pipe resume"), i.resume()), e;
      }, _.prototype.unpipe = function (e) {
        var t = this._readableState,
            r = {
          hasUnpiped: !1
        };
        if (0 === t.pipesCount) return this;
        if (1 === t.pipesCount) return e && e !== t.pipes || (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit("unpipe", this, r)), this;

        if (!e) {
          var i = t.pipes,
              n = t.pipesCount;
          t.pipes = null, t.pipesCount = 0, t.flowing = !1;

          for (var a = 0; a < n; a++) {
            i[a].emit("unpipe", this, r);
          }

          return this;
        }

        var s = R(t.pipes, e);
        return -1 === s || (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit("unpipe", this, r)), this;
      }, _.prototype.on = function (e, t) {
        var r = f.prototype.on.call(this, e, t);
        if ("data" === e) !1 !== this._readableState.flowing && this.resume();else if ("readable" === e) {
          var i = this._readableState;
          i.endEmitted || i.readableListening || (i.readableListening = i.needReadable = !0, i.emittedReadable = !1, i.reading ? i.length && S(this) : n.nextTick(T, this));
        }
        return r;
      }, _.prototype.addListener = _.prototype.on, _.prototype.resume = function () {
        var e = this._readableState;
        return e.flowing || (l("resume"), e.flowing = !0, function (e, t) {
          t.resumeScheduled || (t.resumeScheduled = !0, n.nextTick(k, e, t));
        }(this, e)), this;
      }, _.prototype.pause = function () {
        return l("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (l("pause"), this._readableState.flowing = !1, this.emit("pause")), this;
      }, _.prototype.wrap = function (e) {
        var t = this,
            r = this._readableState,
            i = !1;

        for (var n in e.on("end", function () {
          if (l("wrapped end"), r.decoder && !r.ended) {
            var e = r.decoder.end();
            e && e.length && t.push(e);
          }

          t.push(null);
        }), e.on("data", function (n) {
          (l("wrapped data"), r.decoder && (n = r.decoder.write(n)), r.objectMode && null == n) || (r.objectMode || n && n.length) && (t.push(n) || (i = !0, e.pause()));
        }), e) {
          void 0 === this[n] && "function" == typeof e[n] && (this[n] = function (t) {
            return function () {
              return e[t].apply(e, arguments);
            };
          }(n));
        }

        for (var a = 0; a < y.length; a++) {
          e.on(y[a], this.emit.bind(this, y[a]));
        }

        return this._read = function (t) {
          l("wrapped _read", t), i && (i = !1, e.resume());
        }, this;
      }, Object.defineProperty(_.prototype, "readableHighWaterMark", {
        enumerable: !1,
        get: function get() {
          return this._readableState.highWaterMark;
        }
      }), _._fromList = U;
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "./_stream_duplex": 168,
    "./internal/streams/BufferList": 173,
    "./internal/streams/destroy": 174,
    "./internal/streams/stream": 175,
    _process: 157,
    "core-util-is": 67,
    events: 103,
    inherits: 135,
    isarray: 137,
    "process-nextick-args": 156,
    "safe-buffer": 176,
    "string_decoder/": 177,
    util: 19
  }],
  171: [function (e, t, r) {
    "use strict";

    t.exports = s;
    var i = e("./_stream_duplex"),
        n = Object.create(e("core-util-is"));

    function a(e, t) {
      var r = this._transformState;
      r.transforming = !1;
      var i = r.writecb;
      if (!i) return this.emit("error", new Error("write callback called multiple times"));
      r.writechunk = null, r.writecb = null, null != t && this.push(t), i(e);
      var n = this._readableState;
      n.reading = !1, (n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
    }

    function s(e) {
      if (!(this instanceof s)) return new s(e);
      i.call(this, e), this._transformState = {
        afterTransform: a.bind(this),
        needTransform: !1,
        transforming: !1,
        writecb: null,
        writechunk: null,
        writeencoding: null
      }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && ("function" == typeof e.transform && (this._transform = e.transform), "function" == typeof e.flush && (this._flush = e.flush)), this.on("prefinish", o);
    }

    function o() {
      var e = this;
      "function" == typeof this._flush ? this._flush(function (t, r) {
        f(e, t, r);
      }) : f(this, null, null);
    }

    function f(e, t, r) {
      if (t) return e.emit("error", t);
      if (null != r && e.push(r), e._writableState.length) throw new Error("Calling transform done when ws.length != 0");
      if (e._transformState.transforming) throw new Error("Calling transform done when still transforming");
      return e.push(null);
    }

    n.inherits = e("inherits"), n.inherits(s, i), s.prototype.push = function (e, t) {
      return this._transformState.needTransform = !1, i.prototype.push.call(this, e, t);
    }, s.prototype._transform = function (e, t, r) {
      throw new Error("_transform() is not implemented");
    }, s.prototype._write = function (e, t, r) {
      var i = this._transformState;

      if (i.writecb = r, i.writechunk = e, i.writeencoding = t, !i.transforming) {
        var n = this._readableState;
        (i.needTransform || n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
      }
    }, s.prototype._read = function (e) {
      var t = this._transformState;
      null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0;
    }, s.prototype._destroy = function (e, t) {
      var r = this;

      i.prototype._destroy.call(this, e, function (e) {
        t(e), r.emit("close");
      });
    };
  }, {
    "./_stream_duplex": 168,
    "core-util-is": 67,
    inherits: 135
  }],
  172: [function (e, t, r) {
    (function (r, i, n) {
      "use strict";

      var a = e("process-nextick-args");

      function s(e) {
        var t = this;
        this.next = null, this.entry = null, this.finish = function () {
          !function (e, t, r) {
            var i = e.entry;
            e.entry = null;

            for (; i;) {
              var n = i.callback;
              t.pendingcb--, n(r), i = i.next;
            }

            t.corkedRequestsFree ? t.corkedRequestsFree.next = e : t.corkedRequestsFree = e;
          }(t, e);
        };
      }

      t.exports = g;
      var o,
          f = !r.browser && ["v0.10", "v0.9."].indexOf(r.version.slice(0, 5)) > -1 ? n : a.nextTick;
      g.WritableState = y;
      var u = Object.create(e("core-util-is"));
      u.inherits = e("inherits");

      var h = {
        deprecate: e("util-deprecate")
      },
          c = e("./internal/streams/stream"),
          d = e("safe-buffer").Buffer,
          l = i.Uint8Array || function () {};

      var p,
          m = e("./internal/streams/destroy");

      function b() {}

      function y(t, r) {
        o = o || e("./_stream_duplex"), t = t || {};
        var i = r instanceof o;
        this.objectMode = !!t.objectMode, i && (this.objectMode = this.objectMode || !!t.writableObjectMode);
        var n = t.highWaterMark,
            u = t.writableHighWaterMark,
            h = this.objectMode ? 16 : 16384;
        this.highWaterMark = n || 0 === n ? n : i && (u || 0 === u) ? u : h, this.highWaterMark = Math.floor(this.highWaterMark), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
        var c = !1 === t.decodeStrings;
        this.decodeStrings = !c, this.defaultEncoding = t.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) {
          !function (e, t) {
            var r = e._writableState,
                i = r.sync,
                n = r.writecb;
            if (function (e) {
              e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0;
            }(r), t) !function (e, t, r, i, n) {
              --t.pendingcb, r ? (a.nextTick(n, i), a.nextTick(A, e, t), e._writableState.errorEmitted = !0, e.emit("error", i)) : (n(i), e._writableState.errorEmitted = !0, e.emit("error", i), A(e, t));
            }(e, r, i, t, n);else {
              var s = E(r);
              s || r.corked || r.bufferProcessing || !r.bufferedRequest || w(e, r), i ? f(v, e, r, s, n) : v(e, r, s, n);
            }
          }(r, e);
        }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new s(this);
      }

      function g(t) {
        if (o = o || e("./_stream_duplex"), !(p.call(g, this) || this instanceof o)) return new g(t);
        this._writableState = new y(t, this), this.writable = !0, t && ("function" == typeof t.write && (this._write = t.write), "function" == typeof t.writev && (this._writev = t.writev), "function" == typeof t.destroy && (this._destroy = t.destroy), "function" == typeof t["final"] && (this._final = t["final"])), c.call(this);
      }

      function _(e, t, r, i, n, a, s) {
        t.writelen = i, t.writecb = s, t.writing = !0, t.sync = !0, r ? e._writev(n, t.onwrite) : e._write(n, a, t.onwrite), t.sync = !1;
      }

      function v(e, t, r, i) {
        r || function (e, t) {
          0 === t.length && t.needDrain && (t.needDrain = !1, e.emit("drain"));
        }(e, t), t.pendingcb--, i(), A(e, t);
      }

      function w(e, t) {
        t.bufferProcessing = !0;
        var r = t.bufferedRequest;

        if (e._writev && r && r.next) {
          var i = t.bufferedRequestCount,
              n = new Array(i),
              a = t.corkedRequestsFree;
          a.entry = r;

          for (var o = 0, f = !0; r;) {
            n[o] = r, r.isBuf || (f = !1), r = r.next, o += 1;
          }

          n.allBuffers = f, _(e, t, !0, t.length, n, "", a.finish), t.pendingcb++, t.lastBufferedRequest = null, a.next ? (t.corkedRequestsFree = a.next, a.next = null) : t.corkedRequestsFree = new s(t), t.bufferedRequestCount = 0;
        } else {
          for (; r;) {
            var u = r.chunk,
                h = r.encoding,
                c = r.callback;
            if (_(e, t, !1, t.objectMode ? 1 : u.length, u, h, c), r = r.next, t.bufferedRequestCount--, t.writing) break;
          }

          null === r && (t.lastBufferedRequest = null);
        }

        t.bufferedRequest = r, t.bufferProcessing = !1;
      }

      function E(e) {
        return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing;
      }

      function S(e, t) {
        e._final(function (r) {
          t.pendingcb--, r && e.emit("error", r), t.prefinished = !0, e.emit("prefinish"), A(e, t);
        });
      }

      function A(e, t) {
        var r = E(t);
        return r && (!function (e, t) {
          t.prefinished || t.finalCalled || ("function" == typeof e._final ? (t.pendingcb++, t.finalCalled = !0, a.nextTick(S, e, t)) : (t.prefinished = !0, e.emit("prefinish")));
        }(e, t), 0 === t.pendingcb && (t.finished = !0, e.emit("finish"))), r;
      }

      u.inherits(g, c), y.prototype.getBuffer = function () {
        for (var e = this.bufferedRequest, t = []; e;) {
          t.push(e), e = e.next;
        }

        return t;
      }, function () {
        try {
          Object.defineProperty(y.prototype, "buffer", {
            get: h.deprecate(function () {
              return this.getBuffer();
            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
          });
        } catch (e) {}
      }(), "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (p = Function.prototype[Symbol.hasInstance], Object.defineProperty(g, Symbol.hasInstance, {
        value: function value(e) {
          return !!p.call(this, e) || this === g && e && e._writableState instanceof y;
        }
      })) : p = function p(e) {
        return e instanceof this;
      }, g.prototype.pipe = function () {
        this.emit("error", new Error("Cannot pipe, not readable"));
      }, g.prototype.write = function (e, t, r) {
        var i,
            n = this._writableState,
            s = !1,
            o = !n.objectMode && (i = e, d.isBuffer(i) || i instanceof l);
        return o && !d.isBuffer(e) && (e = function (e) {
          return d.from(e);
        }(e)), "function" == typeof t && (r = t, t = null), o ? t = "buffer" : t || (t = n.defaultEncoding), "function" != typeof r && (r = b), n.ended ? function (e, t) {
          var r = new Error("write after end");
          e.emit("error", r), a.nextTick(t, r);
        }(this, r) : (o || function (e, t, r, i) {
          var n = !0,
              s = !1;
          return null === r ? s = new TypeError("May not write null values to stream") : "string" == typeof r || void 0 === r || t.objectMode || (s = new TypeError("Invalid non-string/buffer chunk")), s && (e.emit("error", s), a.nextTick(i, s), n = !1), n;
        }(this, n, e, r)) && (n.pendingcb++, s = function (e, t, r, i, n, a) {
          if (!r) {
            var s = function (e, t, r) {
              e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = d.from(t, r));
              return t;
            }(t, i, n);

            i !== s && (r = !0, n = "buffer", i = s);
          }

          var o = t.objectMode ? 1 : i.length;
          t.length += o;
          var f = t.length < t.highWaterMark;
          f || (t.needDrain = !0);

          if (t.writing || t.corked) {
            var u = t.lastBufferedRequest;
            t.lastBufferedRequest = {
              chunk: i,
              encoding: n,
              isBuf: r,
              callback: a,
              next: null
            }, u ? u.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1;
          } else _(e, t, !1, o, i, n, a);

          return f;
        }(this, n, o, e, t, r)), s;
      }, g.prototype.cork = function () {
        this._writableState.corked++;
      }, g.prototype.uncork = function () {
        var e = this._writableState;
        e.corked && (e.corked--, e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || w(this, e));
      }, g.prototype.setDefaultEncoding = function (e) {
        if ("string" == typeof e && (e = e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + e);
        return this._writableState.defaultEncoding = e, this;
      }, Object.defineProperty(g.prototype, "writableHighWaterMark", {
        enumerable: !1,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      }), g.prototype._write = function (e, t, r) {
        r(new Error("_write() is not implemented"));
      }, g.prototype._writev = null, g.prototype.end = function (e, t, r) {
        var i = this._writableState;
        "function" == typeof e ? (r = e, e = null, t = null) : "function" == typeof t && (r = t, t = null), null != e && this.write(e, t), i.corked && (i.corked = 1, this.uncork()), i.ending || i.finished || function (e, t, r) {
          t.ending = !0, A(e, t), r && (t.finished ? a.nextTick(r) : e.once("finish", r));
          t.ended = !0, e.writable = !1;
        }(this, i, r);
      }, Object.defineProperty(g.prototype, "destroyed", {
        get: function get() {
          return void 0 !== this._writableState && this._writableState.destroyed;
        },
        set: function set(e) {
          this._writableState && (this._writableState.destroyed = e);
        }
      }), g.prototype.destroy = m.destroy, g.prototype._undestroy = m.undestroy, g.prototype._destroy = function (e, t) {
        this.end(), t(e);
      };
    }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("timers").setImmediate);
  }, {
    "./_stream_duplex": 168,
    "./internal/streams/destroy": 174,
    "./internal/streams/stream": 175,
    _process: 157,
    "core-util-is": 67,
    inherits: 135,
    "process-nextick-args": 156,
    "safe-buffer": 176,
    timers: 195,
    "util-deprecate": 196
  }],
  173: [function (e, t, r) {
    "use strict";

    var i = e("safe-buffer").Buffer,
        n = e("util");
    t.exports = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.head = null, this.tail = null, this.length = 0;
      }

      return e.prototype.push = function (e) {
        var t = {
          data: e,
          next: null
        };
        this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length;
      }, e.prototype.unshift = function (e) {
        var t = {
          data: e,
          next: this.head
        };
        0 === this.length && (this.tail = t), this.head = t, ++this.length;
      }, e.prototype.shift = function () {
        if (0 !== this.length) {
          var e = this.head.data;
          return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e;
        }
      }, e.prototype.clear = function () {
        this.head = this.tail = null, this.length = 0;
      }, e.prototype.join = function (e) {
        if (0 === this.length) return "";

        for (var t = this.head, r = "" + t.data; t = t.next;) {
          r += e + t.data;
        }

        return r;
      }, e.prototype.concat = function (e) {
        if (0 === this.length) return i.alloc(0);
        if (1 === this.length) return this.head.data;

        for (var t, r, n, a = i.allocUnsafe(e >>> 0), s = this.head, o = 0; s;) {
          t = s.data, r = a, n = o, t.copy(r, n), o += s.data.length, s = s.next;
        }

        return a;
      }, e;
    }(), n && n.inspect && n.inspect.custom && (t.exports.prototype[n.inspect.custom] = function () {
      var e = n.inspect({
        length: this.length
      });
      return this.constructor.name + " " + e;
    });
  }, {
    "safe-buffer": 176,
    util: 19
  }],
  174: [function (e, t, r) {
    "use strict";

    var i = e("process-nextick-args");

    function n(e, t) {
      e.emit("error", t);
    }

    t.exports = {
      destroy: function destroy(e, t) {
        var r = this,
            a = this._readableState && this._readableState.destroyed,
            s = this._writableState && this._writableState.destroyed;
        return a || s ? (t ? t(e) : !e || this._writableState && this._writableState.errorEmitted || i.nextTick(n, this, e), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(e || null, function (e) {
          !t && e ? (i.nextTick(n, r, e), r._writableState && (r._writableState.errorEmitted = !0)) : t && t(e);
        }), this);
      },
      undestroy: function undestroy() {
        this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
      }
    };
  }, {
    "process-nextick-args": 156
  }],
  175: [function (e, t, r) {
    arguments[4][61][0].apply(r, arguments);
  }, {
    dup: 61,
    events: 103
  }],
  176: [function (e, t, r) {
    var i = e("buffer"),
        n = i.Buffer;

    function a(e, t) {
      for (var r in e) {
        t[r] = e[r];
      }
    }

    function s(e, t, r) {
      return n(e, t, r);
    }

    n.from && n.alloc && n.allocUnsafe && n.allocUnsafeSlow ? t.exports = i : (a(i, r), r.Buffer = s), a(n, s), s.from = function (e, t, r) {
      if ("number" == typeof e) throw new TypeError("Argument must not be a number");
      return n(e, t, r);
    }, s.alloc = function (e, t, r) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      var i = n(e);
      return void 0 !== t ? "string" == typeof r ? i.fill(t, r) : i.fill(t) : i.fill(0), i;
    }, s.allocUnsafe = function (e) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      return n(e);
    }, s.allocUnsafeSlow = function (e) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      return i.SlowBuffer(e);
    };
  }, {
    buffer: 65
  }],
  177: [function (e, t, r) {
    "use strict";

    var i = e("safe-buffer").Buffer,
        n = i.isEncoding || function (e) {
      switch ((e = "" + e) && e.toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
        case "raw":
          return !0;

        default:
          return !1;
      }
    };

    function a(e) {
      var t;

      switch (this.encoding = function (e) {
        var t = function (e) {
          if (!e) return "utf8";

          for (var t;;) {
            switch (e) {
              case "utf8":
              case "utf-8":
                return "utf8";

              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return "utf16le";

              case "latin1":
              case "binary":
                return "latin1";

              case "base64":
              case "ascii":
              case "hex":
                return e;

              default:
                if (t) return;
                e = ("" + e).toLowerCase(), t = !0;
            }
          }
        }(e);

        if ("string" != typeof t && (i.isEncoding === n || !n(e))) throw new Error("Unknown encoding: " + e);
        return t || e;
      }(e), this.encoding) {
        case "utf16le":
          this.text = f, this.end = u, t = 4;
          break;

        case "utf8":
          this.fillLast = o, t = 4;
          break;

        case "base64":
          this.text = h, this.end = c, t = 3;
          break;

        default:
          return this.write = d, void (this.end = l);
      }

      this.lastNeed = 0, this.lastTotal = 0, this.lastChar = i.allocUnsafe(t);
    }

    function s(e) {
      return e <= 127 ? 0 : e >> 5 == 6 ? 2 : e >> 4 == 14 ? 3 : e >> 3 == 30 ? 4 : e >> 6 == 2 ? -1 : -2;
    }

    function o(e) {
      var t = this.lastTotal - this.lastNeed,
          r = function (e, t, r) {
        if (128 != (192 & t[0])) return e.lastNeed = 0, "�";

        if (e.lastNeed > 1 && t.length > 1) {
          if (128 != (192 & t[1])) return e.lastNeed = 1, "�";
          if (e.lastNeed > 2 && t.length > 2 && 128 != (192 & t[2])) return e.lastNeed = 2, "�";
        }
      }(this, e);

      return void 0 !== r ? r : this.lastNeed <= e.length ? (e.copy(this.lastChar, t, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e.copy(this.lastChar, t, 0, e.length), void (this.lastNeed -= e.length));
    }

    function f(e, t) {
      if ((e.length - t) % 2 == 0) {
        var r = e.toString("utf16le", t);

        if (r) {
          var i = r.charCodeAt(r.length - 1);
          if (i >= 55296 && i <= 56319) return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1], r.slice(0, -1);
        }

        return r;
      }

      return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e[e.length - 1], e.toString("utf16le", t, e.length - 1);
    }

    function u(e) {
      var t = e && e.length ? this.write(e) : "";

      if (this.lastNeed) {
        var r = this.lastTotal - this.lastNeed;
        return t + this.lastChar.toString("utf16le", 0, r);
      }

      return t;
    }

    function h(e, t) {
      var r = (e.length - t) % 3;
      return 0 === r ? e.toString("base64", t) : (this.lastNeed = 3 - r, this.lastTotal = 3, 1 === r ? this.lastChar[0] = e[e.length - 1] : (this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1]), e.toString("base64", t, e.length - r));
    }

    function c(e) {
      var t = e && e.length ? this.write(e) : "";
      return this.lastNeed ? t + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t;
    }

    function d(e) {
      return e.toString(this.encoding);
    }

    function l(e) {
      return e && e.length ? this.write(e) : "";
    }

    r.StringDecoder = a, a.prototype.write = function (e) {
      if (0 === e.length) return "";
      var t, r;

      if (this.lastNeed) {
        if (void 0 === (t = this.fillLast(e))) return "";
        r = this.lastNeed, this.lastNeed = 0;
      } else r = 0;

      return r < e.length ? t ? t + this.text(e, r) : this.text(e, r) : t || "";
    }, a.prototype.end = function (e) {
      var t = e && e.length ? this.write(e) : "";
      return this.lastNeed ? t + "�" : t;
    }, a.prototype.text = function (e, t) {
      var r = function (e, t, r) {
        var i = t.length - 1;
        if (i < r) return 0;
        var n = s(t[i]);
        if (n >= 0) return n > 0 && (e.lastNeed = n - 1), n;
        if (--i < r || -2 === n) return 0;
        if ((n = s(t[i])) >= 0) return n > 0 && (e.lastNeed = n - 2), n;
        if (--i < r || -2 === n) return 0;
        if ((n = s(t[i])) >= 0) return n > 0 && (2 === n ? n = 0 : e.lastNeed = n - 3), n;
        return 0;
      }(this, e, t);

      if (!this.lastNeed) return e.toString("utf8", t);
      this.lastTotal = r;
      var i = e.length - (r - this.lastNeed);
      return e.copy(this.lastChar, 0, i), e.toString("utf8", t, i);
    }, a.prototype.fillLast = function (e) {
      if (this.lastNeed <= e.length) return e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
      e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e.length), this.lastNeed -= e.length;
    };
  }, {
    "safe-buffer": 176
  }],
  178: [function (e, t, r) {
    t.exports = e("./readable").PassThrough;
  }, {
    "./readable": 179
  }],
  179: [function (e, t, r) {
    (r = t.exports = e("./lib/_stream_readable.js")).Stream = r, r.Readable = r, r.Writable = e("./lib/_stream_writable.js"), r.Duplex = e("./lib/_stream_duplex.js"), r.Transform = e("./lib/_stream_transform.js"), r.PassThrough = e("./lib/_stream_passthrough.js");
  }, {
    "./lib/_stream_duplex.js": 168,
    "./lib/_stream_passthrough.js": 169,
    "./lib/_stream_readable.js": 170,
    "./lib/_stream_transform.js": 171,
    "./lib/_stream_writable.js": 172
  }],
  180: [function (e, t, r) {
    t.exports = e("./readable").Transform;
  }, {
    "./readable": 179
  }],
  181: [function (e, t, r) {
    t.exports = e("./lib/_stream_writable.js");
  }, {
    "./lib/_stream_writable.js": 172
  }],
  182: [function (e, t, r) {
    "use strict";

    var i = e("buffer").Buffer,
        n = e("inherits"),
        a = e("hash-base"),
        s = new Array(16),
        o = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13],
        f = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11],
        u = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6],
        h = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11],
        c = [0, 1518500249, 1859775393, 2400959708, 2840853838],
        d = [1352829926, 1548603684, 1836072691, 2053994217, 0];

    function l() {
      a.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520;
    }

    function p(e, t) {
      return e << t | e >>> 32 - t;
    }

    function m(e, t, r, i, n, a, s, o) {
      return p(e + (t ^ r ^ i) + a + s | 0, o) + n | 0;
    }

    function b(e, t, r, i, n, a, s, o) {
      return p(e + (t & r | ~t & i) + a + s | 0, o) + n | 0;
    }

    function y(e, t, r, i, n, a, s, o) {
      return p(e + ((t | ~r) ^ i) + a + s | 0, o) + n | 0;
    }

    function g(e, t, r, i, n, a, s, o) {
      return p(e + (t & i | r & ~i) + a + s | 0, o) + n | 0;
    }

    function _(e, t, r, i, n, a, s, o) {
      return p(e + (t ^ (r | ~i)) + a + s | 0, o) + n | 0;
    }

    n(l, a), l.prototype._update = function () {
      for (var e = s, t = 0; t < 16; ++t) {
        e[t] = this._block.readInt32LE(4 * t);
      }

      for (var r = 0 | this._a, i = 0 | this._b, n = 0 | this._c, a = 0 | this._d, l = 0 | this._e, v = 0 | this._a, w = 0 | this._b, E = 0 | this._c, S = 0 | this._d, A = 0 | this._e, x = 0; x < 80; x += 1) {
        var M, T;
        x < 16 ? (M = m(r, i, n, a, l, e[o[x]], c[0], u[x]), T = _(v, w, E, S, A, e[f[x]], d[0], h[x])) : x < 32 ? (M = b(r, i, n, a, l, e[o[x]], c[1], u[x]), T = g(v, w, E, S, A, e[f[x]], d[1], h[x])) : x < 48 ? (M = y(r, i, n, a, l, e[o[x]], c[2], u[x]), T = y(v, w, E, S, A, e[f[x]], d[2], h[x])) : x < 64 ? (M = g(r, i, n, a, l, e[o[x]], c[3], u[x]), T = b(v, w, E, S, A, e[f[x]], d[3], h[x])) : (M = _(r, i, n, a, l, e[o[x]], c[4], u[x]), T = m(v, w, E, S, A, e[f[x]], d[4], h[x])), r = l, l = a, a = p(n, 10), n = i, i = M, v = A, A = S, S = p(E, 10), E = w, w = T;
      }

      var k = this._b + n + S | 0;
      this._b = this._c + a + A | 0, this._c = this._d + l + v | 0, this._d = this._e + r + w | 0, this._e = this._a + i + E | 0, this._a = k;
    }, l.prototype._digest = function () {
      this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update();
      var e = i.alloc ? i.alloc(20) : new i(20);
      return e.writeInt32LE(this._a, 0), e.writeInt32LE(this._b, 4), e.writeInt32LE(this._c, 8), e.writeInt32LE(this._d, 12), e.writeInt32LE(this._e, 16), e;
    }, t.exports = l;
  }, {
    buffer: 65,
    "hash-base": 105,
    inherits: 135
  }],
  183: [function (e, t, r) {
    /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
    var i = e("buffer"),
        n = i.Buffer;

    function a(e, t) {
      for (var r in e) {
        t[r] = e[r];
      }
    }

    function s(e, t, r) {
      return n(e, t, r);
    }

    n.from && n.alloc && n.allocUnsafe && n.allocUnsafeSlow ? t.exports = i : (a(i, r), r.Buffer = s), s.prototype = Object.create(n.prototype), a(n, s), s.from = function (e, t, r) {
      if ("number" == typeof e) throw new TypeError("Argument must not be a number");
      return n(e, t, r);
    }, s.alloc = function (e, t, r) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      var i = n(e);
      return void 0 !== t ? "string" == typeof r ? i.fill(t, r) : i.fill(t) : i.fill(0), i;
    }, s.allocUnsafe = function (e) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      return n(e);
    }, s.allocUnsafeSlow = function (e) {
      if ("number" != typeof e) throw new TypeError("Argument must be a number");
      return i.SlowBuffer(e);
    };
  }, {
    buffer: 65
  }],
  184: [function (e, t, r) {
    (function (r) {
      "use strict";

      var i,
          n = e("buffer"),
          a = n.Buffer,
          s = {};

      for (i in n) {
        n.hasOwnProperty(i) && "SlowBuffer" !== i && "Buffer" !== i && (s[i] = n[i]);
      }

      var o = s.Buffer = {};

      for (i in a) {
        a.hasOwnProperty(i) && "allocUnsafe" !== i && "allocUnsafeSlow" !== i && (o[i] = a[i]);
      }

      if (s.Buffer.prototype = a.prototype, o.from && o.from !== Uint8Array.from || (o.from = function (e, t, r) {
        if ("number" == typeof e) throw new TypeError('The "value" argument must not be of type number. Received type ' + _typeof(e));
        if (e && void 0 === e.length) throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + _typeof(e));
        return a(e, t, r);
      }), o.alloc || (o.alloc = function (e, t, r) {
        if ("number" != typeof e) throw new TypeError('The "size" argument must be of type number. Received type ' + _typeof(e));
        if (e < 0 || e >= 2 * (1 << 30)) throw new RangeError('The value "' + e + '" is invalid for option "size"');
        var i = a(e);
        return t && 0 !== t.length ? "string" == typeof r ? i.fill(t, r) : i.fill(t) : i.fill(0), i;
      }), !s.kStringMaxLength) try {
        s.kStringMaxLength = r.binding("buffer").kStringMaxLength;
      } catch (e) {}
      s.constants || (s.constants = {
        MAX_LENGTH: s.kMaxLength
      }, s.kStringMaxLength && (s.constants.MAX_STRING_LENGTH = s.kStringMaxLength)), t.exports = s;
    }).call(this, e("_process"));
  }, {
    _process: 157,
    buffer: 65
  }],
  185: [function (e, t, r) {
    var i = e("safe-buffer").Buffer;

    function n(e, t) {
      this._block = i.alloc(e), this._finalSize = t, this._blockSize = e, this._len = 0;
    }

    n.prototype.update = function (e, t) {
      "string" == typeof e && (t = t || "utf8", e = i.from(e, t));

      for (var r = this._block, n = this._blockSize, a = e.length, s = this._len, o = 0; o < a;) {
        for (var f = s % n, u = Math.min(a - o, n - f), h = 0; h < u; h++) {
          r[f + h] = e[o + h];
        }

        o += u, (s += u) % n == 0 && this._update(r);
      }

      return this._len += a, this;
    }, n.prototype.digest = function (e) {
      var t = this._len % this._blockSize;
      this._block[t] = 128, this._block.fill(0, t + 1), t >= this._finalSize && (this._update(this._block), this._block.fill(0));
      var r = 8 * this._len;
      if (r <= 4294967295) this._block.writeUInt32BE(r, this._blockSize - 4);else {
        var i = (4294967295 & r) >>> 0,
            n = (r - i) / 4294967296;
        this._block.writeUInt32BE(n, this._blockSize - 8), this._block.writeUInt32BE(i, this._blockSize - 4);
      }

      this._update(this._block);

      var a = this._hash();

      return e ? a.toString(e) : a;
    }, n.prototype._update = function () {
      throw new Error("_update must be implemented by subclass");
    }, t.exports = n;
  }, {
    "safe-buffer": 183
  }],
  186: [function (e, t, r) {
    (r = t.exports = function (e) {
      e = e.toLowerCase();
      var t = r[e];
      if (!t) throw new Error(e + " is not supported (we accept pull requests)");
      return new t();
    }).sha = e("./sha"), r.sha1 = e("./sha1"), r.sha224 = e("./sha224"), r.sha256 = e("./sha256"), r.sha384 = e("./sha384"), r.sha512 = e("./sha512");
  }, {
    "./sha": 187,
    "./sha1": 188,
    "./sha224": 189,
    "./sha256": 190,
    "./sha384": 191,
    "./sha512": 192
  }],
  187: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./hash"),
        a = e("safe-buffer").Buffer,
        s = [1518500249, 1859775393, -1894007588, -899497514],
        o = new Array(80);

    function f() {
      this.init(), this._w = o, n.call(this, 64, 56);
    }

    function u(e) {
      return e << 30 | e >>> 2;
    }

    function h(e, t, r, i) {
      return 0 === e ? t & r | ~t & i : 2 === e ? t & r | t & i | r & i : t ^ r ^ i;
    }

    i(f, n), f.prototype.init = function () {
      return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
    }, f.prototype._update = function (e) {
      for (var t, r = this._w, i = 0 | this._a, n = 0 | this._b, a = 0 | this._c, o = 0 | this._d, f = 0 | this._e, c = 0; c < 16; ++c) {
        r[c] = e.readInt32BE(4 * c);
      }

      for (; c < 80; ++c) {
        r[c] = r[c - 3] ^ r[c - 8] ^ r[c - 14] ^ r[c - 16];
      }

      for (var d = 0; d < 80; ++d) {
        var l = ~~(d / 20),
            p = 0 | ((t = i) << 5 | t >>> 27) + h(l, n, a, o) + f + r[d] + s[l];
        f = o, o = a, a = u(n), n = i, i = p;
      }

      this._a = i + this._a | 0, this._b = n + this._b | 0, this._c = a + this._c | 0, this._d = o + this._d | 0, this._e = f + this._e | 0;
    }, f.prototype._hash = function () {
      var e = a.allocUnsafe(20);
      return e.writeInt32BE(0 | this._a, 0), e.writeInt32BE(0 | this._b, 4), e.writeInt32BE(0 | this._c, 8), e.writeInt32BE(0 | this._d, 12), e.writeInt32BE(0 | this._e, 16), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    inherits: 135,
    "safe-buffer": 183
  }],
  188: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./hash"),
        a = e("safe-buffer").Buffer,
        s = [1518500249, 1859775393, -1894007588, -899497514],
        o = new Array(80);

    function f() {
      this.init(), this._w = o, n.call(this, 64, 56);
    }

    function u(e) {
      return e << 5 | e >>> 27;
    }

    function h(e) {
      return e << 30 | e >>> 2;
    }

    function c(e, t, r, i) {
      return 0 === e ? t & r | ~t & i : 2 === e ? t & r | t & i | r & i : t ^ r ^ i;
    }

    i(f, n), f.prototype.init = function () {
      return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
    }, f.prototype._update = function (e) {
      for (var t, r = this._w, i = 0 | this._a, n = 0 | this._b, a = 0 | this._c, o = 0 | this._d, f = 0 | this._e, d = 0; d < 16; ++d) {
        r[d] = e.readInt32BE(4 * d);
      }

      for (; d < 80; ++d) {
        r[d] = (t = r[d - 3] ^ r[d - 8] ^ r[d - 14] ^ r[d - 16]) << 1 | t >>> 31;
      }

      for (var l = 0; l < 80; ++l) {
        var p = ~~(l / 20),
            m = u(i) + c(p, n, a, o) + f + r[l] + s[p] | 0;
        f = o, o = a, a = h(n), n = i, i = m;
      }

      this._a = i + this._a | 0, this._b = n + this._b | 0, this._c = a + this._c | 0, this._d = o + this._d | 0, this._e = f + this._e | 0;
    }, f.prototype._hash = function () {
      var e = a.allocUnsafe(20);
      return e.writeInt32BE(0 | this._a, 0), e.writeInt32BE(0 | this._b, 4), e.writeInt32BE(0 | this._c, 8), e.writeInt32BE(0 | this._d, 12), e.writeInt32BE(0 | this._e, 16), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    inherits: 135,
    "safe-buffer": 183
  }],
  189: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./sha256"),
        a = e("./hash"),
        s = e("safe-buffer").Buffer,
        o = new Array(64);

    function f() {
      this.init(), this._w = o, a.call(this, 64, 56);
    }

    i(f, n), f.prototype.init = function () {
      return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this;
    }, f.prototype._hash = function () {
      var e = s.allocUnsafe(28);
      return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    "./sha256": 190,
    inherits: 135,
    "safe-buffer": 183
  }],
  190: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./hash"),
        a = e("safe-buffer").Buffer,
        s = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],
        o = new Array(64);

    function f() {
      this.init(), this._w = o, n.call(this, 64, 56);
    }

    function u(e, t, r) {
      return r ^ e & (t ^ r);
    }

    function h(e, t, r) {
      return e & t | r & (e | t);
    }

    function c(e) {
      return (e >>> 2 | e << 30) ^ (e >>> 13 | e << 19) ^ (e >>> 22 | e << 10);
    }

    function d(e) {
      return (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);
    }

    function l(e) {
      return (e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3;
    }

    i(f, n), f.prototype.init = function () {
      return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this;
    }, f.prototype._update = function (e) {
      for (var t, r = this._w, i = 0 | this._a, n = 0 | this._b, a = 0 | this._c, o = 0 | this._d, f = 0 | this._e, p = 0 | this._f, m = 0 | this._g, b = 0 | this._h, y = 0; y < 16; ++y) {
        r[y] = e.readInt32BE(4 * y);
      }

      for (; y < 64; ++y) {
        r[y] = 0 | (((t = r[y - 2]) >>> 17 | t << 15) ^ (t >>> 19 | t << 13) ^ t >>> 10) + r[y - 7] + l(r[y - 15]) + r[y - 16];
      }

      for (var g = 0; g < 64; ++g) {
        var _ = b + d(f) + u(f, p, m) + s[g] + r[g] | 0,
            v = c(i) + h(i, n, a) | 0;

        b = m, m = p, p = f, f = o + _ | 0, o = a, a = n, n = i, i = _ + v | 0;
      }

      this._a = i + this._a | 0, this._b = n + this._b | 0, this._c = a + this._c | 0, this._d = o + this._d | 0, this._e = f + this._e | 0, this._f = p + this._f | 0, this._g = m + this._g | 0, this._h = b + this._h | 0;
    }, f.prototype._hash = function () {
      var e = a.allocUnsafe(32);
      return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e.writeInt32BE(this._h, 28), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    inherits: 135,
    "safe-buffer": 183
  }],
  191: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./sha512"),
        a = e("./hash"),
        s = e("safe-buffer").Buffer,
        o = new Array(160);

    function f() {
      this.init(), this._w = o, a.call(this, 128, 112);
    }

    i(f, n), f.prototype.init = function () {
      return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this;
    }, f.prototype._hash = function () {
      var e = s.allocUnsafe(48);

      function t(t, r, i) {
        e.writeInt32BE(t, i), e.writeInt32BE(r, i + 4);
      }

      return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    "./sha512": 192,
    inherits: 135,
    "safe-buffer": 183
  }],
  192: [function (e, t, r) {
    var i = e("inherits"),
        n = e("./hash"),
        a = e("safe-buffer").Buffer,
        s = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591],
        o = new Array(160);

    function f() {
      this.init(), this._w = o, n.call(this, 128, 112);
    }

    function u(e, t, r) {
      return r ^ e & (t ^ r);
    }

    function h(e, t, r) {
      return e & t | r & (e | t);
    }

    function c(e, t) {
      return (e >>> 28 | t << 4) ^ (t >>> 2 | e << 30) ^ (t >>> 7 | e << 25);
    }

    function d(e, t) {
      return (e >>> 14 | t << 18) ^ (e >>> 18 | t << 14) ^ (t >>> 9 | e << 23);
    }

    function l(e, t) {
      return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ e >>> 7;
    }

    function p(e, t) {
      return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ (e >>> 7 | t << 25);
    }

    function m(e, t) {
      return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ e >>> 6;
    }

    function b(e, t) {
      return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ (e >>> 6 | t << 26);
    }

    function y(e, t) {
      return e >>> 0 < t >>> 0 ? 1 : 0;
    }

    i(f, n), f.prototype.init = function () {
      return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this;
    }, f.prototype._update = function (e) {
      for (var t = this._w, r = 0 | this._ah, i = 0 | this._bh, n = 0 | this._ch, a = 0 | this._dh, o = 0 | this._eh, f = 0 | this._fh, g = 0 | this._gh, _ = 0 | this._hh, v = 0 | this._al, w = 0 | this._bl, E = 0 | this._cl, S = 0 | this._dl, A = 0 | this._el, x = 0 | this._fl, M = 0 | this._gl, T = 0 | this._hl, k = 0; k < 32; k += 2) {
        t[k] = e.readInt32BE(4 * k), t[k + 1] = e.readInt32BE(4 * k + 4);
      }

      for (; k < 160; k += 2) {
        var P = t[k - 30],
            U = t[k - 30 + 1],
            I = l(P, U),
            C = p(U, P),
            R = m(P = t[k - 4], U = t[k - 4 + 1]),
            B = b(U, P),
            D = t[k - 14],
            L = t[k - 14 + 1],
            F = t[k - 32],
            N = t[k - 32 + 1],
            O = C + L | 0,
            z = I + D + y(O, C) | 0;
        z = (z = z + R + y(O = O + B | 0, B) | 0) + F + y(O = O + N | 0, N) | 0, t[k] = z, t[k + 1] = O;
      }

      for (var j = 0; j < 160; j += 2) {
        z = t[j], O = t[j + 1];
        var H = h(r, i, n),
            V = h(v, w, E),
            Y = c(r, v),
            q = c(v, r),
            G = d(o, A),
            W = d(A, o),
            K = s[j],
            X = s[j + 1],
            Z = u(o, f, g),
            J = u(A, x, M),
            Q = T + W | 0,
            $ = _ + G + y(Q, T) | 0;
        $ = ($ = ($ = $ + Z + y(Q = Q + J | 0, J) | 0) + K + y(Q = Q + X | 0, X) | 0) + z + y(Q = Q + O | 0, O) | 0;
        var ee = q + V | 0,
            te = Y + H + y(ee, q) | 0;
        _ = g, T = M, g = f, M = x, f = o, x = A, o = a + $ + y(A = S + Q | 0, S) | 0, a = n, S = E, n = i, E = w, i = r, w = v, r = $ + te + y(v = Q + ee | 0, Q) | 0;
      }

      this._al = this._al + v | 0, this._bl = this._bl + w | 0, this._cl = this._cl + E | 0, this._dl = this._dl + S | 0, this._el = this._el + A | 0, this._fl = this._fl + x | 0, this._gl = this._gl + M | 0, this._hl = this._hl + T | 0, this._ah = this._ah + r + y(this._al, v) | 0, this._bh = this._bh + i + y(this._bl, w) | 0, this._ch = this._ch + n + y(this._cl, E) | 0, this._dh = this._dh + a + y(this._dl, S) | 0, this._eh = this._eh + o + y(this._el, A) | 0, this._fh = this._fh + f + y(this._fl, x) | 0, this._gh = this._gh + g + y(this._gl, M) | 0, this._hh = this._hh + _ + y(this._hl, T) | 0;
    }, f.prototype._hash = function () {
      var e = a.allocUnsafe(64);

      function t(t, r, i) {
        e.writeInt32BE(t, i), e.writeInt32BE(r, i + 4);
      }

      return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), t(this._gh, this._gl, 48), t(this._hh, this._hl, 56), e;
    }, t.exports = f;
  }, {
    "./hash": 185,
    inherits: 135,
    "safe-buffer": 183
  }],
  193: [function (e, t, r) {
    t.exports = n;
    var i = e("events").EventEmitter;

    function n() {
      i.call(this);
    }

    e("inherits")(n, i), n.Readable = e("readable-stream/readable.js"), n.Writable = e("readable-stream/writable.js"), n.Duplex = e("readable-stream/duplex.js"), n.Transform = e("readable-stream/transform.js"), n.PassThrough = e("readable-stream/passthrough.js"), n.Stream = n, n.prototype.pipe = function (e, t) {
      var r = this;

      function n(t) {
        e.writable && !1 === e.write(t) && r.pause && r.pause();
      }

      function a() {
        r.readable && r.resume && r.resume();
      }

      r.on("data", n), e.on("drain", a), e._isStdio || t && !1 === t.end || (r.on("end", o), r.on("close", f));
      var s = !1;

      function o() {
        s || (s = !0, e.end());
      }

      function f() {
        s || (s = !0, "function" == typeof e.destroy && e.destroy());
      }

      function u(e) {
        if (h(), 0 === i.listenerCount(this, "error")) throw e;
      }

      function h() {
        r.removeListener("data", n), e.removeListener("drain", a), r.removeListener("end", o), r.removeListener("close", f), r.removeListener("error", u), e.removeListener("error", u), r.removeListener("end", h), r.removeListener("close", h), e.removeListener("close", h);
      }

      return r.on("error", u), e.on("error", u), r.on("end", h), r.on("close", h), e.on("close", h), e.emit("pipe", r), e;
    };
  }, {
    events: 103,
    inherits: 135,
    "readable-stream/duplex.js": 167,
    "readable-stream/passthrough.js": 178,
    "readable-stream/readable.js": 179,
    "readable-stream/transform.js": 180,
    "readable-stream/writable.js": 181
  }],
  194: [function (e, t, r) {
    arguments[4][177][0].apply(r, arguments);
  }, {
    dup: 177,
    "safe-buffer": 183
  }],
  195: [function (e, t, r) {
    (function (t, i) {
      var n = e("process/browser.js").nextTick,
          a = Function.prototype.apply,
          s = Array.prototype.slice,
          o = {},
          f = 0;

      function u(e, t) {
        this._id = e, this._clearFn = t;
      }

      r.setTimeout = function () {
        return new u(a.call(setTimeout, window, arguments), clearTimeout);
      }, r.setInterval = function () {
        return new u(a.call(setInterval, window, arguments), clearInterval);
      }, r.clearTimeout = r.clearInterval = function (e) {
        e.close();
      }, u.prototype.unref = u.prototype.ref = function () {}, u.prototype.close = function () {
        this._clearFn.call(window, this._id);
      }, r.enroll = function (e, t) {
        clearTimeout(e._idleTimeoutId), e._idleTimeout = t;
      }, r.unenroll = function (e) {
        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;
      }, r._unrefActive = r.active = function (e) {
        clearTimeout(e._idleTimeoutId);
        var t = e._idleTimeout;
        t >= 0 && (e._idleTimeoutId = setTimeout(function () {
          e._onTimeout && e._onTimeout();
        }, t));
      }, r.setImmediate = "function" == typeof t ? t : function (e) {
        var t = f++,
            i = !(arguments.length < 2) && s.call(arguments, 1);
        return o[t] = !0, n(function () {
          o[t] && (i ? e.apply(null, i) : e.call(null), r.clearImmediate(t));
        }), t;
      }, r.clearImmediate = "function" == typeof i ? i : function (e) {
        delete o[e];
      };
    }).call(this, e("timers").setImmediate, e("timers").clearImmediate);
  }, {
    "process/browser.js": 157,
    timers: 195
  }],
  196: [function (e, t, r) {
    (function (e) {
      function r(t) {
        try {
          if (!e.localStorage) return !1;
        } catch (e) {
          return !1;
        }

        var r = e.localStorage[t];
        return null != r && "true" === String(r).toLowerCase();
      }

      t.exports = function (e, t) {
        if (r("noDeprecation")) return e;
        var i = !1;
        return function () {
          if (!i) {
            if (r("throwDeprecation")) throw new Error(t);
            r("traceDeprecation") ? console.trace(t) : console.warn(t), i = !0;
          }

          return e.apply(this, arguments);
        };
      };
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {}],
  197: [function (e, t, r) {
    var _i8;

    var i = (_i8 = {
      validateDimension: function validateDimension(e) {
        if (e <= 0 || e !== (0 | e)) throw "YUV plane dimensions must be a positive integer";
      },
      validateOffset: function validateOffset(e) {
        if (e < 0 || e !== (0 | e)) throw "YUV plane offsets must be a non-negative integer";
      },
      format: function format(e) {
        var t = e.width,
            r = e.height,
            i = e.chromaWidth || t,
            n = e.chromaHeight || r,
            a = e.cropLeft || 0,
            s = e.cropTop || 0,
            o = e.cropWidth || t - a,
            f = e.cropHeight || r - s,
            u = e.displayWidth || o,
            h = e.displayHeight || f;
        return this.validateDimension(t), this.validateDimension(r), this.validateDimension(i), this.validateDimension(n), this.validateOffset(a), this.validateOffset(s), this.validateDimension(o), this.validateDimension(f), this.validateDimension(u), this.validateDimension(h), {
          width: t,
          height: r,
          chromaWidth: i,
          chromaHeight: n,
          cropLeft: a,
          cropTop: s,
          cropWidth: o,
          cropHeight: f,
          displayWidth: u,
          displayHeight: h
        };
      },
      allocPlane: function allocPlane(e, t) {
        return i.validateDimension(e), i.validateDimension(t), {
          bytes: new Uint8Array(e * t),
          stride: e
        };
      },
      suitableStride: function suitableStride(e) {
        i.validateDimension(e);
        var t = e % 4;
        return 0 == t ? e : e + (4 - t);
      }
    }, _defineProperty(_i8, "allocPlane", function allocPlane(e, t, r, i, n) {
      var a, s;
      if (this.validateDimension(e), this.validateDimension(t), n = n || 0, i = i || this.suitableStride(e), this.validateDimension(i), i < e) throw "Invalid input stride for YUV plane; must be larger than width";

      if (a = i * t, r) {
        if (r.length - n < a) throw "Invalid input buffer for YUV plane; must be large enough for stride times height";
        s = r.slice(n, n + a);
      } else s = new Uint8Array(a), i = i || this.suitableStride(e);

      return {
        bytes: s,
        stride: i
      };
    }), _defineProperty(_i8, "lumaPlane", function lumaPlane(e, t, r, i) {
      return this.allocPlane(e.width, e.height, t, r, i);
    }), _defineProperty(_i8, "chromaPlane", function chromaPlane(e, t, r, i) {
      return this.allocPlane(e.chromaWidth, e.chromaHeight, t, r, i);
    }), _defineProperty(_i8, "frame", function frame(e, t, r, i) {
      return {
        format: e,
        y: t = t || this.lumaPlane(e),
        u: r = r || this.chromaPlane(e),
        v: i = i || this.chromaPlane(e)
      };
    }), _defineProperty(_i8, "copyPlane", function copyPlane(e) {
      return {
        bytes: e.bytes.slice(),
        stride: e.stride
      };
    }), _defineProperty(_i8, "copyFrame", function copyFrame(e) {
      return {
        format: e.format,
        y: this.copyPlane(e.y),
        u: this.copyPlane(e.u),
        v: this.copyPlane(e.v)
      };
    }), _defineProperty(_i8, "transferables", function transferables(e) {
      return [e.y.bytes.buffer, e.u.bytes.buffer, e.v.bytes.buffer];
    }), _i8);
    t.exports = i;
  }, {}],
  198: [function (e, t, r) {
    t.exports = {
      vertex: "precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aLumaPosition;\nattribute vec2 aChromaPosition;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vLumaPosition = aLumaPosition;\n    vChromaPosition = aChromaPosition;\n}\n",
      fragment: "// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n\nprecision lowp float;\n\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.\n   float fY = texture2D(uTextureY, vLumaPosition).x;\n   float fCb = texture2D(uTextureCb, vChromaPosition).x;\n   float fCr = texture2D(uTextureCr, vChromaPosition).x;\n\n   // Premultipy the Y...\n   float fYmul = fY * 1.1643828125;\n\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     fYmul + 1.59602734375 * fCr - 0.87078515625,\n     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,\n     fYmul + 2.017234375   * fCb - 1.081390625,\n     1\n   );\n}\n",
      vertexStripe: "precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aTexturePosition;\nvarying vec2 vTexturePosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vTexturePosition = aTexturePosition;\n}\n",
      fragmentStripe: "// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures\n\nprecision lowp float;\n\nuniform sampler2D uStripe;\nuniform sampler2D uTexture;\nvarying vec2 vTexturePosition;\nvoid main() {\n   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture\n   // so we can upload them without expanding the bytes on IE 11\n   // which doesn't allow LUMINANCE or ALPHA textures\n   // The stripe textures mark which channel to keep for each pixel.\n   // Each texture extraction will contain the relevant value in one\n   // channel only.\n\n   float fLuminance = dot(\n      texture2D(uStripe, vTexturePosition),\n      texture2D(uTexture, vTexturePosition)\n   );\n\n   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);\n}\n"
    };
  }, {}],
  199: [function (e, t, r) {
    !function () {
      "use strict";

      function e(e, t) {
        throw new Error("abstract");
      }

      e.prototype.drawFrame = function (e) {
        throw new Error("abstract");
      }, e.prototype.clear = function () {
        throw new Error("abstract");
      }, t.exports = e;
    }();
  }, {}],
  200: [function (e, t, r) {
    !function () {
      "use strict";

      var r = e("./FrameSink.js"),
          i = e("./YCbCr.js");

      function n(e) {
        var t = e.getContext("2d"),
            r = null,
            n = null,
            a = null;
        return this.drawFrame = function (s) {
          var o = s.format;
          e.width === o.displayWidth && e.height === o.displayHeight || (e.width = o.displayWidth, e.height = o.displayHeight), null !== r && r.width == o.width && r.height == o.height || function (e, i) {
            for (var n = (r = t.createImageData(e, i)).data, a = e * i * 4, s = 0; s < a; s += 4) {
              n[s + 3] = 255;
            }
          }(o.width, o.height), i.convertYCbCr(s, r.data);
          var f,
              u,
              h,
              c = o.cropWidth != o.displayWidth || o.cropHeight != o.displayHeight;
          c ? (n || (u = o.cropWidth, h = o.cropHeight, (n = document.createElement("canvas")).width = u, n.height = h, a = n.getContext("2d")), f = a) : f = t, f.putImageData(r, -o.cropLeft, -o.cropTop, o.cropLeft, o.cropTop, o.cropWidth, o.cropHeight), c && t.drawImage(n, 0, 0, o.displayWidth, o.displayHeight);
        }, this.clear = function () {
          t.clearRect(0, 0, e.width, e.height);
        }, this;
      }

      n.prototype = Object.create(r.prototype), t.exports = n;
    }();
  }, {
    "./FrameSink.js": 199,
    "./YCbCr.js": 202
  }],
  201: [function (e, t, r) {
    !function () {
      "use strict";

      var r = e("./FrameSink.js"),
          i = e("../build/shaders.js");

      function n(e) {
        var t,
            r,
            a = this,
            s = n.contextForCanvas(e);
        if (null === s) throw new Error("WebGL unavailable");

        function o(e, t) {
          var r = s.createShader(e);

          if (s.shaderSource(r, t), s.compileShader(r), !s.getShaderParameter(r, s.COMPILE_STATUS)) {
            var i = s.getShaderInfoLog(r);
            throw s.deleteShader(r), new Error("GL shader compilation for " + e + " failed: " + i);
          }

          return r;
        }

        var f,
            u,
            h,
            c,
            d,
            l,
            p,
            m,
            b,
            y,
            g = new Float32Array([-1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, 1]),
            _ = {},
            v = {},
            w = {};

        function E(e) {
          return _[e] || (_[e] = s.createTexture()), _[e];
        }

        function S(e, t, r, i) {
          var a = E(e);

          if (s.activeTexture(s.TEXTURE0), n.stripe) {
            var o = !_[e + "_temp"],
                f = E(e + "_temp");
            s.bindTexture(s.TEXTURE_2D, f), o ? (s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.NEAREST), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.NEAREST), s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, t / 4, r, 0, s.RGBA, s.UNSIGNED_BYTE, i)) : s.texSubImage2D(s.TEXTURE_2D, 0, 0, 0, t / 4, r, s.RGBA, s.UNSIGNED_BYTE, i);
            var u = _[e + "_stripe"],
                h = !u;
            h && (u = E(e + "_stripe")), s.bindTexture(s.TEXTURE_2D, u), h && (s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.NEAREST), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.NEAREST), s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, t, 1, 0, s.RGBA, s.UNSIGNED_BYTE, function (e) {
              if (w[e]) return w[e];

              for (var t = e, r = new Uint32Array(t), i = 0; i < t; i += 4) {
                r[i] = 255, r[i + 1] = 65280, r[i + 2] = 16711680, r[i + 3] = 4278190080;
              }

              return w[e] = new Uint8Array(r.buffer);
            }(t)));
          } else s.bindTexture(s.TEXTURE_2D, a), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.LINEAR), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.LINEAR), s.texImage2D(s.TEXTURE_2D, 0, s.LUMINANCE, t, r, 0, s.LUMINANCE, s.UNSIGNED_BYTE, i);
        }

        function A(e, t, i) {
          var n = _[e];
          s.useProgram(r);
          var a = v[e];
          a || (s.activeTexture(s.TEXTURE0), s.bindTexture(s.TEXTURE_2D, n), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.LINEAR), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.LINEAR), s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, t, i, 0, s.RGBA, s.UNSIGNED_BYTE, null), a = v[e] = s.createFramebuffer()), s.bindFramebuffer(s.FRAMEBUFFER, a), s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.TEXTURE_2D, n, 0);
          var o = _[e + "_temp"];
          s.activeTexture(s.TEXTURE1), s.bindTexture(s.TEXTURE_2D, o), s.uniform1i(l, 1);
          var p = _[e + "_stripe"];
          s.activeTexture(s.TEXTURE2), s.bindTexture(s.TEXTURE_2D, p), s.uniform1i(d, 2), s.bindBuffer(s.ARRAY_BUFFER, f), s.enableVertexAttribArray(u), s.vertexAttribPointer(u, 2, s.FLOAT, !1, 0, 0), s.bindBuffer(s.ARRAY_BUFFER, h), s.enableVertexAttribArray(c), s.vertexAttribPointer(c, 2, s.FLOAT, !1, 0, 0), s.viewport(0, 0, t, i), s.drawArrays(s.TRIANGLES, 0, g.length / 2), s.bindFramebuffer(s.FRAMEBUFFER, null);
        }

        function x(e, r, i) {
          s.activeTexture(r), s.bindTexture(s.TEXTURE_2D, _[e]), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_S, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_WRAP_T, s.CLAMP_TO_EDGE), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.LINEAR), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.LINEAR), s.uniform1i(s.getUniformLocation(t, e), i);
        }

        function M(e, t) {
          var r = o(s.VERTEX_SHADER, e),
              i = o(s.FRAGMENT_SHADER, t),
              n = s.createProgram();

          if (s.attachShader(n, r), s.attachShader(n, i), s.linkProgram(n), !s.getProgramParameter(n, s.LINK_STATUS)) {
            var a = s.getProgramInfoLog(n);
            throw s.deleteProgram(n), new Error("GL program linking failed: " + a);
          }

          return n;
        }

        return a.drawFrame = function (o) {
          var _ = o.format,
              v = !t || e.width !== _.displayWidth || e.height !== _.displayHeight;

          if (v && (e.width = _.displayWidth, e.height = _.displayHeight, a.clear()), t || function () {
            if (n.stripe) {
              r = M(i.vertexStripe, i.fragmentStripe), s.getAttribLocation(r, "aPosition"), h = s.createBuffer();
              var e = new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]);
              s.bindBuffer(s.ARRAY_BUFFER, h), s.bufferData(s.ARRAY_BUFFER, e, s.STATIC_DRAW), c = s.getAttribLocation(r, "aTexturePosition"), d = s.getUniformLocation(r, "uStripe"), l = s.getUniformLocation(r, "uTexture");
            }

            t = M(i.vertex, i.fragment), f = s.createBuffer(), s.bindBuffer(s.ARRAY_BUFFER, f), s.bufferData(s.ARRAY_BUFFER, g, s.STATIC_DRAW), u = s.getAttribLocation(t, "aPosition"), p = s.createBuffer(), m = s.getAttribLocation(t, "aLumaPosition"), b = s.createBuffer(), y = s.getAttribLocation(t, "aChromaPosition");
          }(), v) {
            var w = function w(e, t, r) {
              var i = _.cropLeft / r,
                  n = (_.cropLeft + _.cropWidth) / r,
                  a = (_.cropTop + _.cropHeight) / _.height,
                  o = _.cropTop / _.height,
                  f = new Float32Array([i, a, n, a, i, o, i, o, n, a, n, o]);
              s.bindBuffer(s.ARRAY_BUFFER, e), s.bufferData(s.ARRAY_BUFFER, f, s.STATIC_DRAW);
            };

            w(p, 0, o.y.stride), w(b, 0, o.u.stride * _.width / _.chromaWidth);
          }

          S("uTextureY", o.y.stride, _.height, o.y.bytes), S("uTextureCb", o.u.stride, _.chromaHeight, o.u.bytes), S("uTextureCr", o.v.stride, _.chromaHeight, o.v.bytes), n.stripe && (A("uTextureY", o.y.stride, _.height), A("uTextureCb", o.u.stride, _.chromaHeight), A("uTextureCr", o.v.stride, _.chromaHeight)), s.useProgram(t), s.viewport(0, 0, e.width, e.height), x("uTextureY", s.TEXTURE0, 0), x("uTextureCb", s.TEXTURE1, 1), x("uTextureCr", s.TEXTURE2, 2), s.bindBuffer(s.ARRAY_BUFFER, f), s.enableVertexAttribArray(u), s.vertexAttribPointer(u, 2, s.FLOAT, !1, 0, 0), s.bindBuffer(s.ARRAY_BUFFER, p), s.enableVertexAttribArray(m), s.vertexAttribPointer(m, 2, s.FLOAT, !1, 0, 0), s.bindBuffer(s.ARRAY_BUFFER, b), s.enableVertexAttribArray(y), s.vertexAttribPointer(y, 2, s.FLOAT, !1, 0, 0), s.drawArrays(s.TRIANGLES, 0, g.length / 2);
        }, a.clear = function () {
          s.viewport(0, 0, e.width, e.height), s.clearColor(0, 0, 0, 0), s.clear(s.COLOR_BUFFER_BIT);
        }, a.clear(), a;
      }

      n.stripe = -1 !== navigator.userAgent.indexOf("Windows"), n.contextForCanvas = function (e) {
        var t = {
          preferLowPowerToHighPerformance: !0,
          powerPreference: "low-power",
          failIfMajorPerformanceCaveat: !0,
          preserveDrawingBuffer: !0
        };
        return e.getContext("webgl", t) || e.getContext("experimental-webgl", t);
      }, n.isAvailable = function () {
        var e,
            t = document.createElement("canvas");
        t.width = 1, t.height = 1;

        try {
          e = n.contextForCanvas(t);
        } catch (e) {
          return !1;
        }

        if (e) {
          var r = e.TEXTURE0,
              i = e.createTexture(),
              a = new Uint8Array(16),
              s = n.stripe ? 1 : 4,
              o = n.stripe ? e.RGBA : e.LUMINANCE,
              f = n.stripe ? e.NEAREST : e.LINEAR;
          return e.activeTexture(r), e.bindTexture(e.TEXTURE_2D, i), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, f), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, f), e.texImage2D(e.TEXTURE_2D, 0, o, s, 4, 0, o, e.UNSIGNED_BYTE, a), !e.getError();
        }

        return !1;
      }, n.prototype = Object.create(r.prototype), t.exports = n;
    }();
  }, {
    "../build/shaders.js": 198,
    "./FrameSink.js": 199
  }],
  202: [function (e, t, r) {
    !function () {
      "use strict";

      var r = e("./depower.js");
      /**
      	 * Basic YCbCr->RGB conversion
      	 *
      	 * @author Brion Vibber <brion@pobox.com>
      	 * @copyright 2014-2019
      	 * @license MIT-style
      	 *
      	 * @param {YUVFrame} buffer - input frame buffer
      	 * @param {Uint8ClampedArray} output - array to draw RGBA into
      	 * Assumes that the output array already has alpha channel set to opaque.
      	 */

      t.exports = {
        convertYCbCr: function convertYCbCr(e, t) {
          var i = 0 | e.format.width,
              n = 0 | e.format.height,
              a = 0 | r(e.format.width / e.format.chromaWidth),
              s = 0 | r(e.format.height / e.format.chromaHeight),
              o = e.y.bytes,
              f = e.u.bytes,
              u = e.v.bytes,
              h = 0 | e.y.stride,
              c = 0 | e.u.stride,
              d = 0 | e.v.stride,
              l = i << 2,
              p = 0,
              m = 0,
              b = 0,
              y = 0,
              g = 0,
              _ = 0,
              v = 0,
              w = 0,
              E = 0,
              S = 0,
              A = 0,
              x = 0,
              M = 0,
              T = 0,
              k = 0,
              P = 0,
              U = 0,
              I = 0;
          if (1 == a && 1 == s) for (v = 0, w = l, I = 0, P = 0; P < n; P += 2) {
            for (b = (m = P * h | 0) + h | 0, y = I * c | 0, g = I * d | 0, k = 0; k < i; k += 2) {
              E = 0 | f[y++], x = (409 * (S = 0 | u[g++]) | 0) - 57088 | 0, M = (100 * E | 0) + (208 * S | 0) - 34816 | 0, T = (516 * E | 0) - 70912 | 0, A = 298 * o[m++] | 0, t[v] = A + x >> 8, t[v + 1] = A - M >> 8, t[v + 2] = A + T >> 8, v += 4, A = 298 * o[m++] | 0, t[v] = A + x >> 8, t[v + 1] = A - M >> 8, t[v + 2] = A + T >> 8, v += 4, A = 298 * o[b++] | 0, t[w] = A + x >> 8, t[w + 1] = A - M >> 8, t[w + 2] = A + T >> 8, w += 4, A = 298 * o[b++] | 0, t[w] = A + x >> 8, t[w + 1] = A - M >> 8, t[w + 2] = A + T >> 8, w += 4;
            }

            v += l, w += l, I++;
          } else for (_ = 0, P = 0; P < n; P++) {
            for (U = 0, p = P * h | 0, y = (I = P >> s) * c | 0, g = I * d | 0, k = 0; k < i; k++) {
              E = 0 | f[y + (U = k >> a)], x = (409 * (S = 0 | u[g + U]) | 0) - 57088 | 0, M = (100 * E | 0) + (208 * S | 0) - 34816 | 0, T = (516 * E | 0) - 70912 | 0, A = 298 * o[p++] | 0, t[_] = A + x >> 8, t[_ + 1] = A - M >> 8, t[_ + 2] = A + T >> 8, _ += 4;
            }
          }
        }
      };
    }();
  }, {
    "./depower.js": 203
  }],
  203: [function (e, t, r) {
    !function () {
      "use strict";
      /**
         * Convert a ratio into a bit-shift count; for instance a ratio of 2
         * becomes a bit-shift of 1, while a ratio of 1 is a bit-shift of 0.
         *
         * @author Brion Vibber <brion@pobox.com>
         * @copyright 2016
         * @license MIT-style
         *
         * @param {number} ratio - the integer ratio to convert.
         * @returns {number} - number of bits to shift to multiply/divide by the ratio.
         * @throws exception if given a non-power-of-two
         */

      t.exports = function (e) {
        for (var t = 0, r = e >> 1; 0 != r;) {
          r >>= 1, t++;
        }

        if (e !== 1 << t) throw "chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got " + e;
        return t;
      };
    }();
  }, {}],
  204: [function (e, t, r) {
    !function () {
      "use strict";

      var r = e("./FrameSink.js"),
          i = e("./SoftwareFrameSink.js"),
          n = e("./WebGLFrameSink.js"),
          a = {
        FrameSink: r,
        SoftwareFrameSink: i,
        WebGLFrameSink: n,
        attach: function attach(e, t) {
          return ("webGL" in (t = t || {}) ? t.webGL : n.isAvailable()) ? new n(e, t) : new i(e, t);
        }
      };
      t.exports = a;
    }();
  }, {
    "./FrameSink.js": 199,
    "./SoftwareFrameSink.js": 200,
    "./WebGLFrameSink.js": 201
  }],
  205: [function (e, t, r) {
    "use strict";

    t.exports = {
      DEFAILT_WEBGL_PLAY_ID: "glplayer",
      PLAYER_IN_TYPE_MP4: "mp4",
      PLAYER_IN_TYPE_RAW_265: "raw265",
      PLAYER_IN_TYPE_TS: "ts",
      PLAYER_IN_TYPE_MPEGTS: "mpegts",
      PLAYER_IN_TYPE_M3U8: "hls",
      PLAYER_IN_TYPE_M3U8_VOD: "m3u8",
      PLAYER_IN_TYPE_M3U8_LIVE: "hls",
      APPEND_TYPE_STREAM: 0,
      APPEND_TYPE_FRAME: 1,
      APPEND_TYPE_SEQUENCE: 2,
      DEFAULT_WIDTH: 600,
      DEFAULT_HEIGHT: 600,
      DEFAULT_FPS: 25,
      DEFAULT_FRAME_DUR: 40,
      DEFAULT_FIXED: !1,
      DEFAULT_SAMPLERATE: 44100,
      DEFAULT_CHANNELS: 2,
      DEFAULT_CONSU_SAMPLE_LEN: 20,
      PLAYER_MODE_VOD: "vod",
      PLAYER_MODE_NOTIME_LIVE: "live",
      AUDIO_MODE_ONCE: "ONCE",
      AUDIO_MODE_SWAP: "SWAP",
      DEFAULT_STRING_LIVE: "LIVE",
      CODEC_H265: 0,
      CODEC_H264: 1,
      PLAYER_CORE_TYPE_DEFAULT: 0,
      PLAYER_CORE_TYPE_CNATIVE: 1,
      V_CODEC_NAME_HEVC: 265,
      V_CODEC_NAME_AVC: 264,
      V_CODEC_NAME_UNKN: 500,
      A_CODEC_NAME_AAC: 112,
      A_CODEC_NAME_MP3: 113,
      A_CODEC_NAME_UNKN: 500
    };
  }, {}],
  206: [function (e, t, r) {
    "use strict";

    var i = window.AudioContext || window.webkitAudioContext,
        n = e("../consts"),
        a = function a() {
      return new Date().getTime();
    };

    t.exports = function (e) {
      var t = {
        options: {
          sampleRate: e.sampleRate || n.DEFAULT_SAMPLERATE,
          appendType: e.appendType || n.APPEND_TYPE_STREAM,
          playMode: e.playMode || n.AUDIO_MODE_SWAP
        },
        sourceChannel: -1,
        audioCtx: new i({
          latencyHint: "interactive",
          sampleRate: e.sampleRate
        }),
        gainNode: null,
        sourceList: [],
        startStatus: !1,
        sampleQueue: [],
        nextBuffer: null,
        playTimestamp: 0,
        playStartTime: 0,
        durationMs: -1,
        voice: 1,
        onLoadCache: null,
        setOnLoadCache: function setOnLoadCache(e) {
          t.onLoadCache = e;
        },
        setDurationMs: function setDurationMs() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          t.durationMs = e;
        },
        setVoice: function setVoice() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
          t.voice = e, t.gainNode.gain.value = e;
        },
        getAlignVPTS: function getAlignVPTS() {
          return t.playTimestamp + (a() - t.playStartTime) / 1e3;
        },
        swapSource: function swapSource() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
          if (0 == t.startStatus) return null;
          if (e < 0 || e >= t.sourceList.length) return null;
          if (r < 0 || r >= t.sourceList.length) return null;

          try {
            t.sourceList[e].disconnect(t.gainNode), t.sourceList[e] = null;
          } catch (e) {}

          var i = t.decodeSample(r, e);
          -2 == i && (t.getAlignVPTS() >= t.durationMs / 1e3 - .04 ? t.pause() : null !== t.onLoadCache && (t.onLoadCache, t.onLoadCache()));
        },
        addSample: function addSample() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
          return !(null == e || !e || null == e) && (0 == t.sampleQueue.length && (t.seekPos = e.pts), t.sampleQueue.push(e), !0);
        },
        runNextBuffer: function runNextBuffer() {
          window.setInterval(function () {
            if (!(null != t.nextBuffer || t.sampleQueue.length < n.DEFAULT_CONSU_SAMPLE_LEN)) {
              t.nextBuffer = {
                data: null,
                pts: -1
              };

              for (var e = null, r = 0; r < n.DEFAULT_CONSU_SAMPLE_LEN; r++) {
                e = t.sampleQueue.shift();
                var i = null;
                if (i = t.options.appendType == n.APPEND_TYPE_STREAM ? e : e.data, t.nextBuffer.pts < 0 && (t.nextBuffer.pts = e.pts), null == t.nextBuffer.data) t.nextBuffer.data = new Uint8Array(i);else {
                  var a = new Uint8Array(i.length + t.nextBuffer.data.length);
                  a.set(t.nextBuffer.data, 0), a.set(i, t.nextBuffer.data.length), t.nextBuffer.data = a;
                }
                if (t.sampleQueue.length <= 0) break;
                e = null;
              }
            }
          }, 10);
        },
        decodeSample: function decodeSample() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
              r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
          if (t.sourceChannel = e, e < 0 || e >= t.sourceList.length) return -1;
          if (null != t.sourceList[e] && null != t.sourceList[e] && t.sourceList[e] || (t.sourceList[e] = t.audioCtx.createBufferSource(), t.sourceList[e].onended = function () {
            t.swapSource(e, r);
          }), 0 == t.sampleQueue.length) return -2;
          if (null == t.nextBuffer || t.nextBuffer.data.length < 1) return t.sourceList[e].connect(t.gainNode), t.sourceList[e].start(), t.sourceList[e].stop(), 1;
          var i = t.nextBuffer.data.buffer;
          t.playTimestamp = t.nextBuffer.pts, t.playStartTime = a(), t.playTimestamp;

          try {
            t.audioCtx.decodeAudioData(i, function (r) {
              t.sourceList[e].buffer = r, t.sourceList[e].connect(t.gainNode), t.sourceList[e].start();
            }, function (e) {
              e.err;
            });
          } catch (e) {
            return t.nextBuffer = null, alert("Crash[brower]! Please refresh your page"), -3;
          }

          return t.nextBuffer = null, 0;
        },
        decodeWholeSamples: function decodeWholeSamples() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          if (t.sourceChannel = e, e < 0 || e >= t.sourceList.length) return -1;
          if (null != t.sourceList[e] && null != t.sourceList[e] && t.sourceList[e] || (t.sourceList[e] = t.audioCtx.createBufferSource(), t.sourceList[e].onended = function () {}), 0 == t.sampleQueue.length) return -2;

          for (var r = null, i = null, a = 0; a < t.sampleQueue.length; a++) {
            i = t.sampleQueue.shift();
            var s = null;
            if (s = t.options.appendType == n.APPEND_TYPE_STREAM ? i : i.data, null == r) r = new Uint8Array(s);else {
              var o = new Uint8Array(s.length + r.length);
              o.set(r, 0), o.set(s, r.length), r = o;
            }
            if (t.sampleQueue.length <= 0) break;
            i = null;
          }

          var f = r;
          if (null == f || f.length < 1) return t.sourceList[e].connect(t.gainNode), t.sourceList[e].start(), t.sourceList[e].stop(), 1;
          var u = f.buffer;

          try {
            t.audioCtx.decodeAudioData(u, function (r) {
              t.sourceList[e].buffer = r, t.sourceList[e].connect(t.gainNode), t.sourceList[e].start();
            }, function (e) {
              e.err;
            });
          } catch (e) {
            return alert("Crash[brower]! Please refresh your page"), -3;
          }

          return 0;
        },
        play: function play() {
          if (0 == t.startStatus) {
            t.startStatus = !0;
            -2 == (t.options.playMode == n.AUDIO_MODE_ONCE ? t.decodeWholeSamples(0) : t.swapSource(0, 1)) && t.pause();
          }
        },
        pause: function pause() {
          if (t.startStatus = !1, null != t.sourceList[t.sourceChannel]) try {
            t.sourceList[t.sourceChannel].stop(), t.sourceList[t.sourceChannel].disconnect(t.gainNode), t.sourceList[t.sourceChannel] = null;
          } catch (e) {}
        },
        stop: function stop() {
          t.pause(), t.cleanQueue(), t.sourceChannel = -1;
        },
        cleanQueue: function cleanQueue() {
          t.sampleQueue.length = 0;

          for (var e = 0; e < t.sourceList.length; e++) {
            try {
              t.sourceList[e].stop(), t.sourceList[e].disconnect(t.gainNode), t.sourceList[e] = null;
            } catch (e) {}
          }
        }
      };
      return t.sourceList.push(t.audioCtx.createBufferSource()), t.sourceList.push(t.audioCtx.createBufferSource()), t.sourceList[0].onended = function () {
        t.swapSource(0, 1);
      }, t.sourceList[1].onended = function () {
        t.swapSource(1, 0);
      }, t.gainNode = t.audioCtx.createGain(), t.gainNode.gain.value = t.voice, t.gainNode.connect(t.audioCtx.destination), t.options, t.runNextBuffer(), t;
    };
  }, {
    "../consts": 205
  }],
  207: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = window.AudioContext || window.webkitAudioContext,
        a = e("../consts"),
        s = function s() {
      return new Date().getTime();
    },
        o = function () {
      function e(t) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this._sample_rate = t.sampleRate || a.DEFAULT_SAMPLERATE, this._seg_dur = t.segDur || 2, this._channels = t.channels || a.DEFAULT_CHANNELS, this._swapStartPlay = !0, this._start_time = -1, this._now_seg_dur = -1, this._push_start_idx = 0, this._pcm_array_buf = null, this._once_pop_len = this._sample_rate * this._seg_dur, this._active_node = null, this._ctx = new n(), this._gain = this._ctx.createGain(), this._gain.gain.value = 1, this._gain.connect(this._ctx.destination);
      }

      var t, r, o;
      return t = e, (r = [{
        key: "setVoice",
        value: function value(e) {
          this._gain.gain.value = e;
        }
      }, {
        key: "pushBuffer",
        value: function value(e) {
          var t = e.buffer,
              r = null,
              i = t.byteLength % 4;

          if (0 !== i) {
            var n = new Uint8Array(t.byteLength + i);
            n.set(new Uint8Array(t), 0), r = new Float32Array(n.buffer);
          } else r = new Float32Array(t);

          var a = null;

          if (this._channels >= 2) {
            var s = r.length / 2;
            a = new Float32Array(s);

            for (var o = 0, f = 0; f < r.length; f += 2) {
              a[o] = r[f], o++;
            }
          } else a = new Float32Array(r);

          if (null === this._pcm_array_buf) this._pcm_array_buf = new Float32Array(a);else {
            var u = new Float32Array(this._pcm_array_buf.length + a.length);
            u.set(this._pcm_array_buf, 0), u.set(a, this._pcm_array_buf.length), this._pcm_array_buf = u;
          }
          this._pcm_array_buf.length;
        }
      }, {
        key: "readingLoopWithF32",
        value: function value() {
          if (this._start_time > 0 && s() - this._start_time >= this._now_seg_dur && (s(), this._start_time, this._now_seg_dur, this._start_time = -1, this._now_seg_dur = -1), s(), this._start_time < 0) if (new Date(), null !== this._pcm_array_buf && this._pcm_array_buf.length > this._push_start_idx) {
            this._swapStartPlay = !1;
            var e = this._push_start_idx + this._once_pop_len;
            e > this._pcm_array_buf.length && (e = this._pcm_array_buf.length);

            var t = this._pcm_array_buf.slice(this._push_start_idx, e);

            this._push_start_idx += t.length, this._now_seg_dur = 1 * t.length / this._sample_rate * 1e3, t.length, this._sample_rate, this._now_seg_dur;

            var r = this._ctx.createBuffer(1, t.length, this._sample_rate);

            t.length, new Date(), r.copyToChannel(t, 0), this._active_node = this._ctx.createBufferSource(), this._active_node.buffer = r, this._active_node.connect(this._gain), this._start_time = s(), this._active_node.start(0);
          } else setTimeout(this.readingLoopWithF32, 1);
        }
      }]) && i(t.prototype, r), o && i(t, o), e;
    }();

    r.AudioPcmPlayer = o;
  }, {
    "../consts": 205
  }],
  208: [function (e, t, r) {
    "use strict";

    t.exports = {
      frameDataAlignCrop: function frameDataAlignCrop(e, t, r, i, n, a, s, o) {
        if (0 == e - i) return [a, s, o];

        for (var f = i * n, u = f / 4, h = new Uint8Array(f), c = new Uint8Array(u), d = new Uint8Array(u), l = i, p = i / 2, m = 0; m < n; m++) {
          h.set(a.subarray(m * e, l), m * n);
        }

        for (var b = 0; b < n / 2; b++) {
          c.set(s.subarray(b * t, p), b * n / 2);
        }

        for (var y = 0; y < n / 2; y++) {
          d.set(o.subarray(y * r, p), y * n / 2);
        }

        return [h, c, d];
      }
    };
  }, {}],
  209: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    function n(e, t) {
      if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }

    e("yuv-buffer"), e("yuv-canvas");

    var a = e("./missile.js"),
        s = (e("./cache"), e("./cacheYuv"), e("../render-engine/webgl-420p")),
        o = (e("./av-common"), e("./audio-native-core"), e("./audio-core")),
        f = e("../consts"),
        u = e("../version"),
        h = function h() {
      return new Date().getTime();
    },
        c = function e(t, r, i, a, s, o, f, u, h) {
      n(this, e), this.data_y = t, this.data_u = r, this.data_v = i, this.line1 = a, this.line2 = s, this.line3 = o, this.width = f, this.height = u, this.pts = h, this.byteAlignIncr = this.line1 - this.width, this.line1, this.width, this.byteAlignIncr;
    },
        d = function () {
      function e(t) {
        n(this, e), this.config = {
          width: t.width || f.DEFAULT_WIDTH,
          height: t.height || f.DEFAULT_HEIGHT,
          fps: t.fps || f.DEFAULT_FPS,
          sampleRate: t.sampleRate || f.DEFAULT_SAMPLERATE,
          playerId: t.playerId || f.DEFAILT_WEBGL_PLAY_ID,
          token: t.token || null,
          readyShow: t.readyShow || !1
        }, this.probeSize = 4524611, this.audioWAudio = null, this.duration = -1, this.channels = -1, this.width = -1, this.height = -1, this.isPlaying = !1, this.pushEOF = !1, this.readEOF = !1, this.isCheckDisplay = !1, this.frameTime = 1e3 / this.config.fps, this.vCodecID = f.V_CODEC_NAME_UNKN, this.audioIdx = -1, this.retryAuSampleNo = 0, this.decPktInterval = null, this.playFrameInterval = null, this._videoQueue = [], this.onProbeFinish = null, this.onPlayingTime = null, this.onPlayingFinish = null, this.onLoadCache = null, this.onLoadCacheFinshed = null, this.onRender = null, this.corePtr = a.cwrap("AVSniffStreamInit", "number", ["string", "string"])(this.config.token, u.PLAYER_VERSION), this.corePtr;
        var r = a.addFunction(this._probeFinCallback.bind(this)),
            i = a.addFunction(this._frameCallback.bind(this)),
            s = a.addFunction(this._samplesCallback.bind(this)),
            o = a.addFunction(this._aacFrameCallback.bind(this));
        a.cwrap("initializeSniffStreamModule", "number", ["number", "number", "number", "number"])(this.corePtr, r, i, s, o);
      }

      var t, r, d;
      return t = e, (r = [{
        key: "release",
        value: function value() {
          var e = a.cwrap("releaseSniffStream", "number", ["number"])(this.corePtr);
          return this.audioWAudio && this.audioWAudio.stop(), this.audioWAudio = null, e;
        }
      }, {
        key: "isPlayingState",
        value: function value() {
          return this.isPlaying;
        }
      }, {
        key: "pushDone",
        value: function value() {
          this.pushEOF = !0;
        }
      }, {
        key: "play",
        value: function value() {
          var e = this;

          if (!this.playFrameInterval && null === this.playFrameInterval && null == this.playFrameInterval) {
            this._videoQueue.length > 0 && (this.isPlaying = !0);
            var t = 0,
                r = 0,
                i = 0;
            this.playFrameInterval = window.setInterval(function () {
              if (r = h(), e._videoQueue.length > 0 && r - t >= e.frameTime - i) {
                t = r;

                var n = e._videoQueue.shift(),
                    a = 1e3 * (n.pts - e.audioWAudio.getAlignVPTS());

                if (n.pts, e.audioWAudio.getAlignVPTS(), e.frameTime, s.renderFrame(e.yuv, n.data_y, n.data_u, n.data_v, n.line1, n.height), a < 0 && -1 * a <= e.frameTime || a >= 0) {
                  if (e.onPlayingTime && e.onPlayingTime(n.pts), e.onRender && e.onRender(n.line1, n.height, n.data_y, n.data_u, n.data_v), n.pts >= e.duration) e.onLoadCacheFinshed && e.onLoadCacheFinshed(), e.onPlayingFinish && e.onPlayingFinish(), e.pause();else if (e.readEOF, e.pushEOF, !0 === e.readEOF && !0 === e.pushEOF) return e.onLoadCacheFinshed && e.onLoadCacheFinshed(), e.onPlayingFinish && e.onPlayingFinish(), e.decPktInterval && window.clearInterval(e.decPktInterval), e.decPktInterval = null, e.pause(), void (e.onPlayingTime && e.onPlayingTime(e.duration));
                  i = h() - r;
                } else i = e.frameTime;
              }
            }, 2);
          }

          this.audioWAudio && this.audioWAudio.play();
        }
      }, {
        key: "pause",
        value: function value() {
          this.playFrameInterval && window.clearInterval(this.playFrameInterval), this.playFrameInterval = null, this.isPlaying = !1, this.audioWAudio && this.audioWAudio.pause();
        }
      }, {
        key: "seek",
        value: function value(e) {}
      }, {
        key: "setVoice",
        value: function value(e) {
          this.audioWAudio && this.audioWAudio.setVoice(e);
        }
      }, {
        key: "_checkDisplaySize",
        value: function value(e, t, r) {
          var i = t - e,
              n = this.config.width + Math.ceil(i / 2),
              a = t / this.config.width > r / this.config.height,
              s = (n / t).toFixed(2),
              o = (this.config.height / r).toFixed(2),
              f = a ? s : o,
              u = this.config.fixed,
              h = u ? n : parseInt(t * f),
              c = u ? this.config.height : parseInt(r * f);

          if (this.canvas.offsetWidth != h || this.canvas.offsetHeight != c) {
            var d = parseInt((this.canvasBox.offsetHeight - c) / 2),
                l = parseInt((this.canvasBox.offsetWidth - h) / 2);
            d = d < 0 ? 0 : d, l = l < 0 ? 0 : l, this.canvas.style.marginTop = d + "px", this.canvas.style.marginLeft = l + "px", this.canvas.style.width = h + "px", this.canvas.style.height = c + "px";
          }

          return this.isCheckDisplay = !0, [h, c];
        }
      }, {
        key: "_createYUVCanvas",
        value: function value() {
          for (this.canvasBox = document.querySelector("#" + this.config.playerId), this.canvasBox.style.overflow = "hidden"; this.canvasBox.hasChildNodes();) {
            this.canvasBox.removeChild(this.canvasBox.lastChild);
          }

          this.canvas = document.createElement("canvas"), this.canvas.style.width = this.canvasBox.clientWidth + "px", this.canvas.style.height = this.canvasBox.clientHeight + "px", this.canvas.style.top = "0px", this.canvas.style.left = "0px", this.canvasBox.appendChild(this.canvas), this.yuv = s.setupCanvas(this.canvas, {
            preserveDrawingBuffer: !1
          });
        }
      }, {
        key: "_probeFinCallback",
        value: function value(e, t, r, i, n, s, u, h, c) {
          var d = this,
              l = this;
          this._createYUVCanvas(), f.V_CODEC_NAME_HEVC, this.config.fps = 1 * i, this.frameTime = 1e3 / this.config.fps, this.width = t, this.height = r, this.duration = e, this.vCodecID = h, this.config.sampleRate = s, this.channels = u, this.audioIdx = n;

          for (var p = a.HEAPU8.subarray(c, c + 10), m = 0; m < p.length; m++) {
            String.fromCharCode(p[m]);
          }

          f.V_CODEC_NAME_HEVC === this.vCodecID && (null == this.decPktInterval && (this.decPktInterval = window.setInterval(function () {
            d._decPktIntervalFunc();
          }, 10)), n >= 0 && (void 0 !== this.audioWAudio && null !== this.audioWAudio && (this.audioWAudio.stop(), this.audioWAudio = null), this.audioWAudio = o({
            sampleRate: s,
            appendType: f.APPEND_TYPE_FRAME
          }), this.audioWAudio.setDurationMs(1e3 * e), this.onLoadCache && this.audioWAudio.setOnLoadCache(function () {
            if (l.retryAuSampleNo, l.retryAuSampleNo <= 5) {
              l.pause(), l.onLoadCache && l.onLoadCache();
              var e = window.setInterval(function () {
                return l.retryAuSampleNo, l.audioWAudio.sampleQueue.length, l.audioWAudio.sampleQueue.length > 2 ? (l.onLoadCacheFinshed && l.onLoadCacheFinshed(), l.play(), l.retryAuSampleNo = 0, window.clearInterval(e), void (e = null)) : (l.retryAuSampleNo += 1, l.retryAuSampleNo > 5 ? (l.play(), l.onLoadCacheFinshed && l.onLoadCacheFinshed(), window.clearInterval(e), void (e = null)) : void 0);
              }, 1e3);
            }
          }))), this.onProbeFinish && this.onProbeFinish();
        }
      }, {
        key: "_decPktIntervalFunc",
        value: function value() {
          this._videoQueue.length < 30 && this.onLoadCache && this.onLoadCache(), this._videoQueue.length < 50 || this.audioWAudio.sampleQueue.length < 20 ? (-404 == a.cwrap("getSniffStreamPkg", "number", ["number"])(this.corePtr) && (this.readEOF = !0), this._videoQueue.length, this.audioWAudio.sampleQueue.length) : this.onLoadCacheFinshed && this.onLoadCacheFinshed();
        }
      }, {
        key: "_frameCallback",
        value: function value(e, t, r, i, n, o, f, u, h) {
          this.canvas.width == i && this.canvas.height == u || (this.canvas.width = i, this.canvas.height = u, this.isCheckDisplay) || this._checkDisplaySize(f, i, u);
          var d = a.HEAPU8.subarray(e, e + i * u),
              l = a.HEAPU8.subarray(t, t + n * u / 2),
              p = a.HEAPU8.subarray(r, r + o * u / 2),
              m = new Uint8Array(d),
              b = new Uint8Array(l),
              y = new Uint8Array(p);
          this.config.readyShow && (s.renderFrame(this.yuv, m, b, y, i, u), this.config.readyShow = !1), this._videoQueue.push(new c(m, b, y, i, n, o, f, u, h));
        }
      }, {
        key: "_samplesCallback",
        value: function value(e, t, r, i) {
          var n = a.HEAPU8.subarray(e, e + t);
          new Uint8Array(n);
        }
      }, {
        key: "_aacFrameCallback",
        value: function value(e, t, r, i, n) {
          if (this.audioWAudio) {
            var s = new Uint8Array(7 + r),
                o = a.HEAPU8.subarray(e, e + 7);
            s.set(o, 0);
            var f = a.HEAPU8.subarray(t, t + r);
            s.set(f, 7);
            var u = {
              data: s,
              pts: n
            };
            this.audioWAudio.addSample(u);
          }
        }
      }, {
        key: "setProbeSize",
        value: function value(e) {
          this.probeSize = e;
        }
      }, {
        key: "pushBuffer",
        value: function value(e) {
          var t = a._malloc(e.length);

          return a.HEAP8.set(e, t), a.cwrap("pushSniffStreamData", "number", ["number", "number", "number", "number"])(this.corePtr, t, e.length, this.probeSize);
        }
      }]) && i(t.prototype, r), d && i(t, d), e;
    }();

    r.CNativeCore = d;
  }, {
    "../consts": 205,
    "../render-engine/webgl-420p": 227,
    "../version": 230,
    "./audio-core": 206,
    "./audio-native-core": 207,
    "./av-common": 208,
    "./cache": 210,
    "./cacheYuv": 211,
    "./missile.js": 214,
    "yuv-buffer": 197,
    "yuv-canvas": 204
  }],
  210: [function (e, t, r) {
    (function (r) {
      "use strict";

      e("./cacheYuv");
      r.CACHE_APPEND_STATUS_CODE = {
        FAILED: -1,
        OVERFLOW: -2,
        OK: 0,
        NOT_FULL: 1,
        FULL: 2,
        NULL: 3
      }, t.exports = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 60,
            t = {
          limit: e,
          yuvCache: [],
          appendCacheByCacheYuv: function appendCacheByCacheYuv(e) {
            e.pts;
            return t.yuvCache.length >= t.limit ? CACHE_APPEND_STATUS_CODE.OVERFLOW : (t.yuvCache.push(e), t.yuvCache.length >= t.limit ? CACHE_APPEND_STATUS_CODE.FULL : CACHE_APPEND_STATUS_CODE.NOT_FULL);
          },
          getState: function getState() {
            return t.yuvCache.length <= 0 ? CACHE_APPEND_STATUS_CODE.NULL : t.yuvCache.length >= t.limit ? CACHE_APPEND_STATUS_CODE.FULL : CACHE_APPEND_STATUS_CODE.NOT_FULL;
          },
          cleanPipeline: function cleanPipeline() {
            t.yuvCache.length = 0;
          },
          vYuv: function vYuv() {
            return t.yuvCache.length <= 0 ? null : t.yuvCache.shift();
          }
        };
        return t;
      };
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "./cacheYuv": 211
  }],
  211: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = function () {
      function e(t, r, i, n, a, s) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.pts = t, this.width = r, this.height = i, this.imageBufferY = n, this.imageBufferB = a, this.imageBufferR = s;
      }

      var t, r, n;
      return t = e, (r = [{
        key: "setYuv",
        value: function value(e, t, r, i, n, a) {
          this.pts = e, this.width = t, this.height = r, this.imageBufferY = i, this.imageBufferB = n, this.imageBufferR = a;
        }
      }]) && i(t.prototype, r), n && i(t, n), e;
    }();

    r.CacheYuvStruct = n;
  }, {}],
  212: [function (e, t, r) {
    "use strict";

    t.exports = {
      HEVC_NAL_TRAIL_N: 0,
      HEVC_NAL_TRAIL_R: 1,
      HEVC_NAL_TSA_N: 2,
      HEVC_NAL_TSA_R: 3,
      HEVC_NAL_STSA_N: 4,
      HEVC_NAL_STSA_R: 5,
      HEVC_NAL_RADL_N: 6,
      HEVC_NAL_RADL_R: 7,
      HEVC_NAL_RASL_N: 8,
      HEVC_NAL_RASL_R: 9,
      HEVC_NAL_VCL_N10: 10,
      HEVC_NAL_VCL_R11: 11,
      HEVC_NAL_VCL_N12: 12,
      HEVC_NAL_VCL_R13: 13,
      HEVC_NAL_VCL_N14: 14,
      HEVC_NAL_VCL_R15: 15,
      HEVC_NAL_BLA_W_LP: 16,
      HEVC_NAL_BLA_W_RADL: 17,
      HEVC_NAL_BLA_N_LP: 18,
      HEVC_NAL_IDR_W_RADL: 19,
      HEVC_NAL_IDR_N_LP: 20,
      HEVC_NAL_CRA_NUT: 21,
      HEVC_NAL_IRAP_VCL22: 22,
      HEVC_NAL_IRAP_VCL23: 23,
      HEVC_NAL_RSV_VCL24: 24,
      HEVC_NAL_RSV_VCL25: 25,
      HEVC_NAL_RSV_VCL26: 26,
      HEVC_NAL_RSV_VCL27: 27,
      HEVC_NAL_RSV_VCL28: 28,
      HEVC_NAL_RSV_VCL29: 29,
      HEVC_NAL_RSV_VCL30: 30,
      HEVC_NAL_RSV_VCL31: 31,
      HEVC_NAL_VPS: 32,
      HEVC_NAL_SPS: 33,
      HEVC_NAL_PPS: 34,
      HEVC_NAL_AUD: 35,
      HEVC_NAL_EOS_NUT: 36,
      HEVC_NAL_EOB_NUT: 37,
      HEVC_NAL_FD_NUT: 38,
      HEVC_NAL_SEI_PREFIX: 39,
      HEVC_NAL_SEI_SUFFIX: 40,
      HEVC_NAL_RSV_NVCL41: 41,
      HEVC_NAL_RSV_NVCL42: 42,
      HEVC_NAL_RSV_NVCL43: 43,
      HEVC_NAL_RSV_NVCL44: 44,
      HEVC_NAL_RSV_NVCL45: 45,
      HEVC_NAL_RSV_NVCL46: 46,
      HEVC_NAL_RSV_NVCL47: 47,
      HEVC_NAL_UNSPEC48: 48,
      HEVC_NAL_UNSPEC49: 49,
      HEVC_NAL_UNSPEC50: 50,
      HEVC_NAL_UNSPEC51: 51,
      HEVC_NAL_UNSPEC52: 52,
      HEVC_NAL_UNSPEC53: 53,
      HEVC_NAL_UNSPEC54: 54,
      HEVC_NAL_UNSPEC55: 55,
      HEVC_NAL_UNSPEC56: 56,
      HEVC_NAL_UNSPEC57: 57,
      HEVC_NAL_UNSPEC58: 58,
      HEVC_NAL_UNSPEC59: 59,
      HEVC_NAL_UNSPEC60: 60,
      HEVC_NAL_UNSPEC61: 61,
      HEVC_NAL_UNSPEC62: 62,
      HEVC_NAL_UNSPEC63: 63,
      DEFINE_STARTCODE: new Uint8Array([0, 0, 0, 1]),
      DEFINE_KEY_FRAME: 21,
      DEFINE_P_FRAME: 9,
      DEFINE_OTHERS_FRAME: 153
    };
  }, {}],
  213: [function (e, t, r) {
    "use strict";

    var i = e("./hevc-header"),
        n = [i.HEVC_NAL_VPS, i.HEVC_NAL_SPS, i.HEVC_NAL_PPS, i.HEVC_NAL_SEI_PREFIX];
    t.exports = {
      IS_HEV_PS_INFO_CHAR: function IS_HEV_PS_INFO_CHAR(e) {
        var t = (126 & e) >> 1;
        return n.indexOf(t);
      },
      GET_NALU_TYPE: function GET_NALU_TYPE(e) {
        var t = (126 & e) >> 1;
        if (t >= 1 && t <= 9) return i.DEFINE_P_FRAME;
        if (t >= 16 && t <= 21) return i.DEFINE_KEY_FRAME;
        var r = n.indexOf(t);
        return r > 0 ? r : i.DEFINE_OTHERS_FRAME;
      },
      PACK_NALU: function PACK_NALU(e) {
        var t = e.nalu,
            r = e.vlc.vlc;
        null == t.vps && (t.vps = new Uint8Array());
        var i = new Uint8Array(t.vps.length + t.sps.length + t.pps.length + t.sei.length + r.length);
        return i.set(t.vps, 0), i.set(t.sps, t.vps.length), i.set(t.pps, t.vps.length + t.sps.length), i.set(t.sei, t.vps.length + t.sps.length + t.pps.length), i.set(r, t.vps.length + t.sps.length + t.pps.length + t.sei.length), i;
      }
    };
  }, {
    "./hevc-header": 212
  }],
  214: [function (e, t, r) {
    (function (r, i, n) {
      "use strict";

      function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {
          return _typeof(e);
        } : function (e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);
        })(e);
      }

      var s,
          o = void 0 !== o ? o : {},
          f = {};

      for (s in o) {
        o.hasOwnProperty(s) && (f[s] = o[s]);
      }

      var u = [],
          h = "./this.program",
          c = !1,
          d = !1,
          l = !1,
          p = !1,
          m = !1;
      c = "object" === ("undefined" == typeof window ? "undefined" : a(window)), d = "function" == typeof importScripts, p = "object" === (void 0 === r ? "undefined" : a(r)) && "object" === a(r.versions) && "string" == typeof r.versions.node, l = p && !c && !d, m = !c && !l && !d;

      var b,
          y,
          g,
          _,
          v = "";

      function w(e) {
        return o.locateFile ? o.locateFile(e, v) : v + e;
      }

      l ? (v = n + "/", b = function b(t, r) {
        var i;
        return g || (g = e("fs")), _ || (_ = e("path")), t = _.normalize(t), i = g.readFileSync(t), r ? i : i.toString();
      }, y = function y(e) {
        var t = b(e, !0);
        return t.buffer || (t = new Uint8Array(t)), N(t.buffer), t;
      }, r.argv.length > 1 && (h = r.argv[1].replace(/\\/g, "/")), u = r.argv.slice(2), void 0 !== t && (t.exports = o), r.on("uncaughtException", function (e) {
        if (!(e instanceof oi)) throw e;
      }), r.on("unhandledRejection", Ne), o.inspect = function () {
        return "[Emscripten Module object]";
      }) : m ? ("undefined" != typeof read && (b = function b(e) {
        return read(e);
      }), y = function y(e) {
        var t;
        return "function" == typeof readbuffer ? new Uint8Array(readbuffer(e)) : (N("object" === a(t = read(e, "binary"))), t);
      }, "undefined" != typeof scriptArgs ? u = scriptArgs : void 0 !== arguments && (u = arguments), "function" == typeof quit && function (e) {
        quit(e);
      }, "undefined" != typeof print && ("undefined" == typeof console && (console = {}), console.log = print, console.warn = console.error = "undefined" != typeof printErr ? printErr : print)) : (c || d) && (d ? v = self.location.href : document.currentScript && (v = document.currentScript.src), v = 0 !== v.indexOf("blob:") ? v.substr(0, v.lastIndexOf("/") + 1) : "", b = function b(e) {
        var t = new XMLHttpRequest();
        return t.open("GET", e, !1), t.send(null), t.responseText;
      }, d && (y = function y(e) {
        var t = new XMLHttpRequest();
        return t.open("GET", e, !1), t.responseType = "arraybuffer", t.send(null), new Uint8Array(t.response);
      }), function (e, t, r) {
        var i = new XMLHttpRequest();
        i.open("GET", e, !0), i.responseType = "arraybuffer", i.onload = function () {
          200 == i.status || 0 == i.status && i.response ? t(i.response) : r();
        }, i.onerror = r, i.send(null);
      });
      var E = o.print || console.log.bind(console),
          S = o.printErr || console.warn.bind(console);

      for (s in f) {
        f.hasOwnProperty(s) && (o[s] = f[s]);
      }

      function A(e) {
        var t = se[pe >> 2],
            r = t + e + 15 & -16;
        return r > Mt() && Ne(), se[pe >> 2] = r, t;
      }

      function x(e) {
        switch (e) {
          case "i1":
          case "i8":
            return 1;

          case "i16":
            return 2;

          case "i32":
            return 4;

          case "i64":
            return 8;

          case "float":
            return 4;

          case "double":
            return 8;

          default:
            if ("*" === e[e.length - 1]) return 4;

            if ("i" === e[0]) {
              var t = parseInt(e.substr(1));
              return N(t % 8 == 0, "getNativeTypeSize invalid bits " + t + ", type " + e), t / 8;
            }

            return 0;
        }
      }

      f = null, o.arguments && (u = o.arguments), o.thisProgram && (h = o.thisProgram), o.quit && o.quit;
      var M = {
        "f64-rem": function f64Rem(e, t) {
          return e % t;
        },
        "debugger": function _debugger() {}
      },
          T = 1,
          k = new Array(35);

      function P(e, t) {
        for (var r = 0; r < 35; r++) {
          if (!k[r]) return k[r] = e, T + r;
        }

        throw "Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.";
      }

      var U,
          I,
          C,
          R = 0,
          B = function B() {
        return R;
      };

      function D(e, t, r, i) {
        switch ("*" === (r = r || "i8").charAt(r.length - 1) && (r = "i32"), r) {
          case "i1":
          case "i8":
            re[e >> 0] = t;
            break;

          case "i16":
            ne[e >> 1] = t;
            break;

          case "i32":
            se[e >> 2] = t;
            break;

          case "i64":
            He = [t >>> 0, (je = t, +ke(je) >= 1 ? je > 0 ? (0 | Ie(+Ue(je / 4294967296), 4294967295)) >>> 0 : ~~+Pe((je - +(~~je >>> 0)) / 4294967296) >>> 0 : 0)], se[e >> 2] = He[0], se[e + 4 >> 2] = He[1];
            break;

          case "float":
            fe[e >> 2] = t;
            break;

          case "double":
            ue[e >> 3] = t;
            break;

          default:
            Ne("invalid type for setValue: " + r);
        }
      }

      o.wasmBinary && (U = o.wasmBinary), o.noExitRuntime && (I = o.noExitRuntime), "object" !== ("undefined" == typeof WebAssembly ? "undefined" : a(WebAssembly)) && S("no native wasm support detected");
      var L = new WebAssembly.Table({
        initial: 4032,
        element: "anyfunc"
      }),
          F = !1;

      function N(e, t) {
        e || Ne("Assertion failed: " + t);
      }

      function O(e) {
        var t = o["_" + e];
        return N(t, "Cannot call unknown function " + e + ", make sure it is exported"), t;
      }

      function z(e, t, r, i, n) {
        var a = {
          string: function string(e) {
            var t = 0;

            if (null != e && 0 !== e) {
              var r = 1 + (e.length << 2);
              Z(e, t = ii(r), r);
            }

            return t;
          },
          array: function array(e) {
            var t = ii(e.length);
            return $(e, t), t;
          }
        };
        var s = O(e),
            o = [],
            f = 0;
        if (i) for (var u = 0; u < i.length; u++) {
          var h = a[r[u]];
          h ? (0 === f && (f = ai()), o[u] = h(i[u])) : o[u] = i[u];
        }
        var c = s.apply(null, o);
        return c = function (e) {
          return "string" === t ? K(e) : "boolean" === t ? Boolean(e) : e;
        }(c), 0 !== f && ni(f), c;
      }

      function j(e, t, r, i) {
        var n = (r = r || []).every(function (e) {
          return "number" === e;
        });
        return "string" !== t && n && !i ? O(e) : function () {
          return z(e, t, r, arguments);
        };
      }

      var H = 0,
          V = 3;

      function Y(e, t, r, i) {
        var n, a;
        "number" == typeof e ? (n = !0, a = e) : (n = !1, a = e.length);
        var s,
            o = "string" == typeof t ? t : null;

        if (s = r == V ? i : [ri, ii, A][r](Math.max(a, o ? 1 : t.length)), n) {
          var f;

          for (i = s, N(0 == (3 & s)), f = s + (-4 & a); i < f; i += 4) {
            se[i >> 2] = 0;
          }

          for (f = s + a; i < f;) {
            re[i++ >> 0] = 0;
          }

          return s;
        }

        if ("i8" === o) return e.subarray || e.slice ? ie.set(e, s) : ie.set(new Uint8Array(e), s), s;

        for (var u, h, c, d = 0; d < a;) {
          var l = e[d];
          0 !== (u = o || t[d]) ? ("i64" == u && (u = "i32"), D(s + d, l, u), c !== u && (h = x(u), c = u), d += h) : d++;
        }

        return s;
      }

      function q(e) {
        return we ? ri(e) : A(e);
      }

      var G = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0;

      function W(e, t, r) {
        for (var i = t + r, n = t; e[n] && !(n >= i);) {
          ++n;
        }

        if (n - t > 16 && e.subarray && G) return G.decode(e.subarray(t, n));

        for (var a = ""; t < n;) {
          var s = e[t++];

          if (128 & s) {
            var o = 63 & e[t++];

            if (192 != (224 & s)) {
              var f = 63 & e[t++];
              if ((s = 224 == (240 & s) ? (15 & s) << 12 | o << 6 | f : (7 & s) << 18 | o << 12 | f << 6 | 63 & e[t++]) < 65536) a += String.fromCharCode(s);else {
                var u = s - 65536;
                a += String.fromCharCode(55296 | u >> 10, 56320 | 1023 & u);
              }
            } else a += String.fromCharCode((31 & s) << 6 | o);
          } else a += String.fromCharCode(s);
        }

        return a;
      }

      function K(e, t) {
        return e ? W(ie, e, t) : "";
      }

      function X(e, t, r, i) {
        if (!(i > 0)) return 0;

        for (var n = r, a = r + i - 1, s = 0; s < e.length; ++s) {
          var o = e.charCodeAt(s);
          if (o >= 55296 && o <= 57343) o = 65536 + ((1023 & o) << 10) | 1023 & e.charCodeAt(++s);

          if (o <= 127) {
            if (r >= a) break;
            t[r++] = o;
          } else if (o <= 2047) {
            if (r + 1 >= a) break;
            t[r++] = 192 | o >> 6, t[r++] = 128 | 63 & o;
          } else if (o <= 65535) {
            if (r + 2 >= a) break;
            t[r++] = 224 | o >> 12, t[r++] = 128 | o >> 6 & 63, t[r++] = 128 | 63 & o;
          } else {
            if (r + 3 >= a) break;
            t[r++] = 240 | o >> 18, t[r++] = 128 | o >> 12 & 63, t[r++] = 128 | o >> 6 & 63, t[r++] = 128 | 63 & o;
          }
        }

        return t[r] = 0, r - n;
      }

      function Z(e, t, r) {
        return X(e, ie, t, r);
      }

      function J(e) {
        for (var t = 0, r = 0; r < e.length; ++r) {
          var i = e.charCodeAt(r);
          i >= 55296 && i <= 57343 && (i = 65536 + ((1023 & i) << 10) | 1023 & e.charCodeAt(++r)), i <= 127 ? ++t : t += i <= 2047 ? 2 : i <= 65535 ? 3 : 4;
        }

        return t;
      }

      "undefined" != typeof TextDecoder && new TextDecoder("utf-16le");

      function Q(e) {
        var t = J(e) + 1,
            r = ri(t);
        return r && X(e, re, r, t), r;
      }

      function $(e, t) {
        re.set(e, t);
      }

      function ee(e, t, r) {
        for (var i = 0; i < e.length; ++i) {
          re[t++ >> 0] = e.charCodeAt(i);
        }

        r || (re[t >> 0] = 0);
      }

      var te,
          re,
          ie,
          ne,
          ae,
          se,
          oe,
          fe,
          ue,
          he = 65536;

      function ce(e, t) {
        return e % t > 0 && (e += t - e % t), e;
      }

      function de(e) {
        te = e, o.HEAP8 = re = new Int8Array(e), o.HEAP16 = ne = new Int16Array(e), o.HEAP32 = se = new Int32Array(e), o.HEAPU8 = ie = new Uint8Array(e), o.HEAPU16 = ae = new Uint16Array(e), o.HEAPU32 = oe = new Uint32Array(e), o.HEAPF32 = fe = new Float32Array(e), o.HEAPF64 = ue = new Float64Array(e);
      }

      var le = 6367984,
          pe = 1124880,
          me = o.TOTAL_MEMORY || 536870912;

      function be(e) {
        for (; e.length > 0;) {
          var t = e.shift();

          if ("function" != typeof t) {
            var r = t.func;
            "number" == typeof r ? void 0 === t.arg ? o.dynCall_v(r) : o.dynCall_vi(r, t.arg) : r(void 0 === t.arg ? null : t.arg);
          } else t();
        }
      }

      (C = o.wasmMemory ? o.wasmMemory : new WebAssembly.Memory({
        initial: me / he
      })) && (te = C.buffer), me = te.byteLength, de(te), se[pe >> 2] = le;
      var ye = [],
          ge = [],
          _e = [],
          ve = [],
          we = !1;

      function Ee() {
        if (o.preRun) for ("function" == typeof o.preRun && (o.preRun = [o.preRun]); o.preRun.length;) {
          Me(o.preRun.shift());
        }
        be(ye);
      }

      function Se() {
        we = !0, o.noFSInit || ot.init.initialized || ot.init(), tt.init(), be(ge);
      }

      function Ae() {
        ot.ignorePermissions = !1, be(_e);
      }

      function xe() {
        if (o.postRun) for ("function" == typeof o.postRun && (o.postRun = [o.postRun]); o.postRun.length;) {
          Te(o.postRun.shift());
        }
        be(ve);
      }

      function Me(e) {
        ye.unshift(e);
      }

      function Te(e) {
        ve.unshift(e);
      }

      var ke = Math.abs,
          Pe = Math.ceil,
          Ue = Math.floor,
          Ie = Math.min,
          Ce = Math.trunc,
          Re = 0,
          Be = null,
          De = null;

      function Le(e) {
        Re++, o.monitorRunDependencies && o.monitorRunDependencies(Re);
      }

      function Fe(e) {
        if (Re--, o.monitorRunDependencies && o.monitorRunDependencies(Re), 0 == Re && (null !== Be && (clearInterval(Be), Be = null), De)) {
          var t = De;
          De = null, t();
        }
      }

      function Ne(e) {
        throw o.onAbort && o.onAbort(e), E(e += ""), S(e), F = !0, 1, "abort(" + e + "). Build with -s ASSERTIONS=1 for more info.";
      }

      o.preloadedImages = {}, o.preloadedAudios = {};
      var Oe = "data:application/octet-stream;base64,";

      function ze(e) {
        return String.prototype.startsWith ? e.startsWith(Oe) : 0 === e.indexOf(Oe);
      }

      var je,
          He,
          Ve = "missile.wasm";

      function Ye() {
        try {
          if (U) return new Uint8Array(U);
          if (y) return y(Ve);
          throw "both async and sync fetching of the wasm failed";
        } catch (e) {
          Ne(e);
        }
      }

      function qe() {
        return U || !c && !d || "function" != typeof fetch ? new Promise(function (e, t) {
          e(Ye());
        }) : fetch(Ve, {
          credentials: "same-origin"
        }).then(function (e) {
          if (!e.ok) throw "failed to load wasm binary file at '" + Ve + "'";
          return e.arrayBuffer();
        })["catch"](function () {
          return Ye();
        });
      }

      function Ge() {
        var e = {
          env: Kr,
          wasi_unstable: Kr,
          global: {
            NaN: NaN,
            Infinity: 1 / 0
          },
          "global.Math": Math,
          asm2wasm: M
        };

        function t(e, t) {
          var r = e.exports;
          o.asm = r, Fe();
        }

        function r(e) {
          t(e.instance);
        }

        function i(t) {
          return qe().then(function (t) {
            return WebAssembly.instantiate(t, e);
          }).then(t, function (e) {
            S("failed to asynchronously prepare wasm: " + e), Ne(e);
          });
        }

        if (Le(), o.instantiateWasm) try {
          return o.instantiateWasm(e, t);
        } catch (e) {
          return S("Module.instantiateWasm callback failed with error: " + e), !1;
        }
        return function () {
          if (U || "function" != typeof WebAssembly.instantiateStreaming || ze(Ve) || "function" != typeof fetch) return i(r);
          fetch(Ve, {
            credentials: "same-origin"
          }).then(function (t) {
            return WebAssembly.instantiateStreaming(t, e).then(r, function (e) {
              S("wasm streaming compile failed: " + e), S("falling back to ArrayBuffer instantiation"), i(r);
            });
          });
        }(), {};
      }

      function We(e) {
        return e.replace(/\b__Z[\w\d_]+/g, function (e) {
          return e === e ? e : e + " [" + e + "]";
        });
      }

      function Ke() {
        var e = new Error();

        if (!e.stack) {
          try {
            throw new Error(0);
          } catch (t) {
            e = t;
          }

          if (!e.stack) return "(no stack trace available)";
        }

        return e.stack.toString();
      }

      function Xe() {
        var e = Ke();
        return o.extraStackTrace && (e += "\n" + o.extraStackTrace()), We(e);
      }

      ze(Ve) || (Ve = w(Ve)), o.asm = Ge, ge.push({
        func: function func() {
          Jr();
        }
      });
      var Ze = {};

      function Je(e) {
        var t, r;
        Je.called ? (r = se[e >> 2], t = se[r >> 2]) : (Je.called = !0, Ze.USER = "web_user", Ze.LOGNAME = "web_user", Ze.PATH = "/", Ze.PWD = "/", Ze.HOME = "/home/web_user", Ze.LANG = ("object" === ("undefined" == typeof navigator ? "undefined" : a(navigator)) && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", Ze._ = h, t = q(1024), r = q(256), se[r >> 2] = t, se[e >> 2] = r);
        var i = [],
            n = 0;

        for (var s in Ze) {
          if ("string" == typeof Ze[s]) {
            var o = s + "=" + Ze[s];
            i.push(o), n += o.length;
          }
        }

        if (n > 1024) throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");

        for (var f = 0; f < i.length; f++) {
          ee(o = i[f], t), se[r + 4 * f >> 2] = t, t += o.length + 1;
        }

        se[r + 4 * i.length >> 2] = 0;
      }

      function Qe(e) {
        return o.___errno_location && (se[o.___errno_location() >> 2] = e), e;
      }

      var $e = {
        splitPath: function splitPath(e) {
          return /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);
        },
        normalizeArray: function normalizeArray(e, t) {
          for (var r = 0, i = e.length - 1; i >= 0; i--) {
            var n = e[i];
            "." === n ? e.splice(i, 1) : ".." === n ? (e.splice(i, 1), r++) : r && (e.splice(i, 1), r--);
          }

          if (t) for (; r; r--) {
            e.unshift("..");
          }
          return e;
        },
        normalize: function normalize(e) {
          var t = "/" === e.charAt(0),
              r = "/" === e.substr(-1);
          return (e = $e.normalizeArray(e.split("/").filter(function (e) {
            return !!e;
          }), !t).join("/")) || t || (e = "."), e && r && (e += "/"), (t ? "/" : "") + e;
        },
        dirname: function dirname(e) {
          var t = $e.splitPath(e),
              r = t[0],
              i = t[1];
          return r || i ? (i && (i = i.substr(0, i.length - 1)), r + i) : ".";
        },
        basename: function basename(e) {
          if ("/" === e) return "/";
          var t = e.lastIndexOf("/");
          return -1 === t ? e : e.substr(t + 1);
        },
        extname: function extname(e) {
          return $e.splitPath(e)[3];
        },
        join: function join() {
          var e = Array.prototype.slice.call(arguments, 0);
          return $e.normalize(e.join("/"));
        },
        join2: function join2(e, t) {
          return $e.normalize(e + "/" + t);
        }
      },
          et = {
        resolve: function resolve() {
          for (var e = "", t = !1, r = arguments.length - 1; r >= -1 && !t; r--) {
            var i = r >= 0 ? arguments[r] : ot.cwd();
            if ("string" != typeof i) throw new TypeError("Arguments to path.resolve must be strings");
            if (!i) return "";
            e = i + "/" + e, t = "/" === i.charAt(0);
          }

          return (t ? "/" : "") + (e = $e.normalizeArray(e.split("/").filter(function (e) {
            return !!e;
          }), !t).join("/")) || ".";
        },
        relative: function relative(e, t) {
          function r(e) {
            for (var t = 0; t < e.length && "" === e[t]; t++) {
              ;
            }

            for (var r = e.length - 1; r >= 0 && "" === e[r]; r--) {
              ;
            }

            return t > r ? [] : e.slice(t, r - t + 1);
          }

          e = et.resolve(e).substr(1), t = et.resolve(t).substr(1);

          for (var i = r(e.split("/")), n = r(t.split("/")), a = Math.min(i.length, n.length), s = a, o = 0; o < a; o++) {
            if (i[o] !== n[o]) {
              s = o;
              break;
            }
          }

          var f = [];

          for (o = s; o < i.length; o++) {
            f.push("..");
          }

          return (f = f.concat(n.slice(s))).join("/");
        }
      },
          tt = {
        ttys: [],
        init: function init() {},
        shutdown: function shutdown() {},
        register: function register(e, t) {
          tt.ttys[e] = {
            input: [],
            output: [],
            ops: t
          }, ot.registerDevice(e, tt.stream_ops);
        },
        stream_ops: {
          open: function open(e) {
            var t = tt.ttys[e.node.rdev];
            if (!t) throw new ot.ErrnoError(43);
            e.tty = t, e.seekable = !1;
          },
          close: function close(e) {
            e.tty.ops.flush(e.tty);
          },
          flush: function flush(e) {
            e.tty.ops.flush(e.tty);
          },
          read: function read(e, t, r, i, n) {
            if (!e.tty || !e.tty.ops.get_char) throw new ot.ErrnoError(60);

            for (var a = 0, s = 0; s < i; s++) {
              var o;

              try {
                o = e.tty.ops.get_char(e.tty);
              } catch (e) {
                throw new ot.ErrnoError(29);
              }

              if (void 0 === o && 0 === a) throw new ot.ErrnoError(6);
              if (null == o) break;
              a++, t[r + s] = o;
            }

            return a && (e.node.timestamp = Date.now()), a;
          },
          write: function write(e, t, r, i, n) {
            if (!e.tty || !e.tty.ops.put_char) throw new ot.ErrnoError(60);

            try {
              for (var a = 0; a < i; a++) {
                e.tty.ops.put_char(e.tty, t[r + a]);
              }
            } catch (e) {
              throw new ot.ErrnoError(29);
            }

            return i && (e.node.timestamp = Date.now()), a;
          }
        },
        default_tty_ops: {
          get_char: function get_char(e) {
            if (!e.input.length) {
              var t = null;

              if (l) {
                var n = i.alloc ? i.alloc(256) : new i(256),
                    a = 0;

                try {
                  a = ar.readSync(r.stdin.fd, n, 0, 256, null);
                } catch (e) {
                  if (-1 == e.toString().indexOf("EOF")) throw e;
                  a = 0;
                }

                t = a > 0 ? n.slice(0, a).toString("utf-8") : null;
              } else "undefined" != typeof window && "function" == typeof window.prompt ? null !== (t = window.prompt("Input: ")) && (t += "\n") : "function" == typeof readline && null !== (t = readline()) && (t += "\n");

              if (!t) return null;
              e.input = or(t, !0);
            }

            return e.input.shift();
          },
          put_char: function put_char(e, t) {
            null === t || 10 === t ? (E(W(e.output, 0)), e.output = []) : 0 != t && e.output.push(t);
          },
          flush: function flush(e) {
            e.output && e.output.length > 0 && (E(W(e.output, 0)), e.output = []);
          }
        },
        default_tty1_ops: {
          put_char: function put_char(e, t) {
            null === t || 10 === t ? (S(W(e.output, 0)), e.output = []) : 0 != t && e.output.push(t);
          },
          flush: function flush(e) {
            e.output && e.output.length > 0 && (S(W(e.output, 0)), e.output = []);
          }
        }
      },
          rt = {
        ops_table: null,
        mount: function mount(e) {
          return rt.createNode(null, "/", 16895, 0);
        },
        createNode: function createNode(e, t, r, i) {
          if (ot.isBlkdev(r) || ot.isFIFO(r)) throw new ot.ErrnoError(63);
          rt.ops_table || (rt.ops_table = {
            dir: {
              node: {
                getattr: rt.node_ops.getattr,
                setattr: rt.node_ops.setattr,
                lookup: rt.node_ops.lookup,
                mknod: rt.node_ops.mknod,
                rename: rt.node_ops.rename,
                unlink: rt.node_ops.unlink,
                rmdir: rt.node_ops.rmdir,
                readdir: rt.node_ops.readdir,
                symlink: rt.node_ops.symlink
              },
              stream: {
                llseek: rt.stream_ops.llseek
              }
            },
            file: {
              node: {
                getattr: rt.node_ops.getattr,
                setattr: rt.node_ops.setattr
              },
              stream: {
                llseek: rt.stream_ops.llseek,
                read: rt.stream_ops.read,
                write: rt.stream_ops.write,
                allocate: rt.stream_ops.allocate,
                mmap: rt.stream_ops.mmap,
                msync: rt.stream_ops.msync
              }
            },
            link: {
              node: {
                getattr: rt.node_ops.getattr,
                setattr: rt.node_ops.setattr,
                readlink: rt.node_ops.readlink
              },
              stream: {}
            },
            chrdev: {
              node: {
                getattr: rt.node_ops.getattr,
                setattr: rt.node_ops.setattr
              },
              stream: ot.chrdev_stream_ops
            }
          });
          var n = ot.createNode(e, t, r, i);
          return ot.isDir(n.mode) ? (n.node_ops = rt.ops_table.dir.node, n.stream_ops = rt.ops_table.dir.stream, n.contents = {}) : ot.isFile(n.mode) ? (n.node_ops = rt.ops_table.file.node, n.stream_ops = rt.ops_table.file.stream, n.usedBytes = 0, n.contents = null) : ot.isLink(n.mode) ? (n.node_ops = rt.ops_table.link.node, n.stream_ops = rt.ops_table.link.stream) : ot.isChrdev(n.mode) && (n.node_ops = rt.ops_table.chrdev.node, n.stream_ops = rt.ops_table.chrdev.stream), n.timestamp = Date.now(), e && (e.contents[t] = n), n;
        },
        getFileDataAsRegularArray: function getFileDataAsRegularArray(e) {
          if (e.contents && e.contents.subarray) {
            for (var t = [], r = 0; r < e.usedBytes; ++r) {
              t.push(e.contents[r]);
            }

            return t;
          }

          return e.contents;
        },
        getFileDataAsTypedArray: function getFileDataAsTypedArray(e) {
          return e.contents ? e.contents.subarray ? e.contents.subarray(0, e.usedBytes) : new Uint8Array(e.contents) : new Uint8Array();
        },
        expandFileStorage: function expandFileStorage(e, t) {
          var r = e.contents ? e.contents.length : 0;

          if (!(r >= t)) {
            t = Math.max(t, r * (r < 1048576 ? 2 : 1.125) | 0), 0 != r && (t = Math.max(t, 256));
            var i = e.contents;
            e.contents = new Uint8Array(t), e.usedBytes > 0 && e.contents.set(i.subarray(0, e.usedBytes), 0);
          }
        },
        resizeFileStorage: function resizeFileStorage(e, t) {
          if (e.usedBytes != t) {
            if (0 == t) return e.contents = null, void (e.usedBytes = 0);

            if (!e.contents || e.contents.subarray) {
              var r = e.contents;
              return e.contents = new Uint8Array(new ArrayBuffer(t)), r && e.contents.set(r.subarray(0, Math.min(t, e.usedBytes))), void (e.usedBytes = t);
            }

            if (e.contents || (e.contents = []), e.contents.length > t) e.contents.length = t;else for (; e.contents.length < t;) {
              e.contents.push(0);
            }
            e.usedBytes = t;
          }
        },
        node_ops: {
          getattr: function getattr(e) {
            var t = {};
            return t.dev = ot.isChrdev(e.mode) ? e.id : 1, t.ino = e.id, t.mode = e.mode, t.nlink = 1, t.uid = 0, t.gid = 0, t.rdev = e.rdev, ot.isDir(e.mode) ? t.size = 4096 : ot.isFile(e.mode) ? t.size = e.usedBytes : ot.isLink(e.mode) ? t.size = e.link.length : t.size = 0, t.atime = new Date(e.timestamp), t.mtime = new Date(e.timestamp), t.ctime = new Date(e.timestamp), t.blksize = 4096, t.blocks = Math.ceil(t.size / t.blksize), t;
          },
          setattr: function setattr(e, t) {
            void 0 !== t.mode && (e.mode = t.mode), void 0 !== t.timestamp && (e.timestamp = t.timestamp), void 0 !== t.size && rt.resizeFileStorage(e, t.size);
          },
          lookup: function lookup(e, t) {
            throw ot.genericErrors[44];
          },
          mknod: function mknod(e, t, r, i) {
            return rt.createNode(e, t, r, i);
          },
          rename: function rename(e, t, r) {
            if (ot.isDir(e.mode)) {
              var i;

              try {
                i = ot.lookupNode(t, r);
              } catch (e) {}

              if (i) for (var n in i.contents) {
                throw new ot.ErrnoError(55);
              }
            }

            delete e.parent.contents[e.name], e.name = r, t.contents[r] = e, e.parent = t;
          },
          unlink: function unlink(e, t) {
            delete e.contents[t];
          },
          rmdir: function rmdir(e, t) {
            var r = ot.lookupNode(e, t);

            for (var i in r.contents) {
              throw new ot.ErrnoError(55);
            }

            delete e.contents[t];
          },
          readdir: function readdir(e) {
            var t = [".", ".."];

            for (var r in e.contents) {
              e.contents.hasOwnProperty(r) && t.push(r);
            }

            return t;
          },
          symlink: function symlink(e, t, r) {
            var i = rt.createNode(e, t, 41471, 0);
            return i.link = r, i;
          },
          readlink: function readlink(e) {
            if (!ot.isLink(e.mode)) throw new ot.ErrnoError(28);
            return e.link;
          }
        },
        stream_ops: {
          read: function read(e, t, r, i, n) {
            var a = e.node.contents;
            if (n >= e.node.usedBytes) return 0;
            var s = Math.min(e.node.usedBytes - n, i);
            if (s > 8 && a.subarray) t.set(a.subarray(n, n + s), r);else for (var o = 0; o < s; o++) {
              t[r + o] = a[n + o];
            }
            return s;
          },
          write: function write(e, t, r, i, n, a) {
            if (!1, !i) return 0;
            var s = e.node;

            if (s.timestamp = Date.now(), t.subarray && (!s.contents || s.contents.subarray)) {
              if (0 === s.usedBytes && 0 === n) return s.contents = new Uint8Array(t.subarray(r, r + i)), s.usedBytes = i, i;
              if (n + i <= s.usedBytes) return s.contents.set(t.subarray(r, r + i), n), i;
            }

            if (rt.expandFileStorage(s, n + i), s.contents.subarray && t.subarray) s.contents.set(t.subarray(r, r + i), n);else for (var o = 0; o < i; o++) {
              s.contents[n + o] = t[r + o];
            }
            return s.usedBytes = Math.max(s.usedBytes, n + i), i;
          },
          llseek: function llseek(e, t, r) {
            var i = t;
            if (1 === r ? i += e.position : 2 === r && ot.isFile(e.node.mode) && (i += e.node.usedBytes), i < 0) throw new ot.ErrnoError(28);
            return i;
          },
          allocate: function allocate(e, t, r) {
            rt.expandFileStorage(e.node, t + r), e.node.usedBytes = Math.max(e.node.usedBytes, t + r);
          },
          mmap: function mmap(e, t, r, i, n, a, s) {
            if (!ot.isFile(e.node.mode)) throw new ot.ErrnoError(43);
            var o,
                f,
                u = e.node.contents;

            if (2 & s || u.buffer !== t && u.buffer !== t.buffer) {
              (n > 0 || n + i < e.node.usedBytes) && (u = u.subarray ? u.subarray(n, n + i) : Array.prototype.slice.call(u, n, n + i)), f = !0;
              var h = t.buffer == re.buffer;
              if (!(o = ri(i))) throw new ot.ErrnoError(48);
              (h ? re : t).set(u, o);
            } else f = !1, o = u.byteOffset;

            return {
              ptr: o,
              allocated: f
            };
          },
          msync: function msync(e, t, r, i, n) {
            if (!ot.isFile(e.node.mode)) throw new ot.ErrnoError(43);
            if (2 & n) return 0;
            rt.stream_ops.write(e, t, 0, i, r, !1);
            return 0;
          }
        }
      },
          it = {
        dbs: {},
        indexedDB: function (e) {
          function t() {
            return e.apply(this, arguments);
          }

          return t.toString = function () {
            return e.toString();
          }, t;
        }(function () {
          if ("undefined" != typeof indexedDB) return indexedDB;
          var e = null;
          return "object" === ("undefined" == typeof window ? "undefined" : a(window)) && (e = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB), N(e, "IDBFS used, but indexedDB not supported"), e;
        }),
        DB_VERSION: 21,
        DB_STORE_NAME: "FILE_DATA",
        mount: function mount(e) {
          return rt.mount.apply(null, arguments);
        },
        syncfs: function syncfs(e, t, r) {
          it.getLocalSet(e, function (i, n) {
            if (i) return r(i);
            it.getRemoteSet(e, function (e, i) {
              if (e) return r(e);
              var a = t ? i : n,
                  s = t ? n : i;
              it.reconcile(a, s, r);
            });
          });
        },
        getDB: function getDB(e, t) {
          var r,
              i = it.dbs[e];
          if (i) return t(null, i);

          try {
            r = it.indexedDB().open(e, it.DB_VERSION);
          } catch (e) {
            return t(e);
          }

          if (!r) return t("Unable to connect to IndexedDB");
          r.onupgradeneeded = function (e) {
            var t,
                r = e.target.result,
                i = e.target.transaction;
            (t = r.objectStoreNames.contains(it.DB_STORE_NAME) ? i.objectStore(it.DB_STORE_NAME) : r.createObjectStore(it.DB_STORE_NAME)).indexNames.contains("timestamp") || t.createIndex("timestamp", "timestamp", {
              unique: !1
            });
          }, r.onsuccess = function () {
            i = r.result, it.dbs[e] = i, t(null, i);
          }, r.onerror = function (e) {
            t(this.error), e.preventDefault();
          };
        },
        getLocalSet: function getLocalSet(e, t) {
          var r = {};

          function i(e) {
            return "." !== e && ".." !== e;
          }

          function n(e) {
            return function (t) {
              return $e.join2(e, t);
            };
          }

          for (var a = ot.readdir(e.mountpoint).filter(i).map(n(e.mountpoint)); a.length;) {
            var s,
                o = a.pop();

            try {
              s = ot.stat(o);
            } catch (e) {
              return t(e);
            }

            ot.isDir(s.mode) && a.push.apply(a, ot.readdir(o).filter(i).map(n(o))), r[o] = {
              timestamp: s.mtime
            };
          }

          return t(null, {
            type: "local",
            entries: r
          });
        },
        getRemoteSet: function getRemoteSet(e, t) {
          var r = {};
          it.getDB(e.mountpoint, function (e, i) {
            if (e) return t(e);

            try {
              var n = i.transaction([it.DB_STORE_NAME], "readonly");
              n.onerror = function (e) {
                t(this.error), e.preventDefault();
              }, n.objectStore(it.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess = function (e) {
                var n = e.target.result;
                if (!n) return t(null, {
                  type: "remote",
                  db: i,
                  entries: r
                });
                r[n.primaryKey] = {
                  timestamp: n.key
                }, n["continue"]();
              };
            } catch (e) {
              return t(e);
            }
          });
        },
        loadLocalEntry: function loadLocalEntry(e, t) {
          var r, i;

          try {
            i = ot.lookupPath(e).node, r = ot.stat(e);
          } catch (e) {
            return t(e);
          }

          return ot.isDir(r.mode) ? t(null, {
            timestamp: r.mtime,
            mode: r.mode
          }) : ot.isFile(r.mode) ? (i.contents = rt.getFileDataAsTypedArray(i), t(null, {
            timestamp: r.mtime,
            mode: r.mode,
            contents: i.contents
          })) : t(new Error("node type not supported"));
        },
        storeLocalEntry: function storeLocalEntry(e, t, r) {
          try {
            if (ot.isDir(t.mode)) ot.mkdir(e, t.mode);else {
              if (!ot.isFile(t.mode)) return r(new Error("node type not supported"));
              ot.writeFile(e, t.contents, {
                canOwn: !0
              });
            }
            ot.chmod(e, t.mode), ot.utime(e, t.timestamp, t.timestamp);
          } catch (e) {
            return r(e);
          }

          r(null);
        },
        removeLocalEntry: function removeLocalEntry(e, t) {
          try {
            ot.lookupPath(e);
            var r = ot.stat(e);
            ot.isDir(r.mode) ? ot.rmdir(e) : ot.isFile(r.mode) && ot.unlink(e);
          } catch (e) {
            return t(e);
          }

          t(null);
        },
        loadRemoteEntry: function loadRemoteEntry(e, t, r) {
          var i = e.get(t);
          i.onsuccess = function (e) {
            r(null, e.target.result);
          }, i.onerror = function (e) {
            r(this.error), e.preventDefault();
          };
        },
        storeRemoteEntry: function storeRemoteEntry(e, t, r, i) {
          var n = e.put(r, t);
          n.onsuccess = function () {
            i(null);
          }, n.onerror = function (e) {
            i(this.error), e.preventDefault();
          };
        },
        removeRemoteEntry: function removeRemoteEntry(e, t, r) {
          var i = e["delete"](t);
          i.onsuccess = function () {
            r(null);
          }, i.onerror = function (e) {
            r(this.error), e.preventDefault();
          };
        },
        reconcile: function reconcile(e, t, r) {
          var i = 0,
              n = [];
          Object.keys(e.entries).forEach(function (r) {
            var a = e.entries[r],
                s = t.entries[r];
            (!s || a.timestamp > s.timestamp) && (n.push(r), i++);
          });
          var a = [];
          if (Object.keys(t.entries).forEach(function (r) {
            t.entries[r];
            e.entries[r] || (a.push(r), i++);
          }), !i) return r(null);
          var s = !1,
              o = ("remote" === e.type ? e.db : t.db).transaction([it.DB_STORE_NAME], "readwrite"),
              f = o.objectStore(it.DB_STORE_NAME);

          function u(e) {
            if (e && !s) return s = !0, r(e);
          }

          o.onerror = function (e) {
            u(this.error), e.preventDefault();
          }, o.oncomplete = function (e) {
            s || r(null);
          }, n.sort().forEach(function (e) {
            "local" === t.type ? it.loadRemoteEntry(f, e, function (t, r) {
              if (t) return u(t);
              it.storeLocalEntry(e, r, u);
            }) : it.loadLocalEntry(e, function (t, r) {
              if (t) return u(t);
              it.storeRemoteEntry(f, e, r, u);
            });
          }), a.sort().reverse().forEach(function (e) {
            "local" === t.type ? it.removeLocalEntry(e, u) : it.removeRemoteEntry(f, e, u);
          });
        }
      },
          nt = {
        EPERM: 63,
        ENOENT: 44,
        ESRCH: 71,
        EINTR: 27,
        EIO: 29,
        ENXIO: 60,
        E2BIG: 1,
        ENOEXEC: 45,
        EBADF: 8,
        ECHILD: 12,
        EAGAIN: 6,
        EWOULDBLOCK: 6,
        ENOMEM: 48,
        EACCES: 2,
        EFAULT: 21,
        ENOTBLK: 105,
        EBUSY: 10,
        EEXIST: 20,
        EXDEV: 75,
        ENODEV: 43,
        ENOTDIR: 54,
        EISDIR: 31,
        EINVAL: 28,
        ENFILE: 41,
        EMFILE: 33,
        ENOTTY: 59,
        ETXTBSY: 74,
        EFBIG: 22,
        ENOSPC: 51,
        ESPIPE: 70,
        EROFS: 69,
        EMLINK: 34,
        EPIPE: 64,
        EDOM: 18,
        ERANGE: 68,
        ENOMSG: 49,
        EIDRM: 24,
        ECHRNG: 106,
        EL2NSYNC: 156,
        EL3HLT: 107,
        EL3RST: 108,
        ELNRNG: 109,
        EUNATCH: 110,
        ENOCSI: 111,
        EL2HLT: 112,
        EDEADLK: 16,
        ENOLCK: 46,
        EBADE: 113,
        EBADR: 114,
        EXFULL: 115,
        ENOANO: 104,
        EBADRQC: 103,
        EBADSLT: 102,
        EDEADLOCK: 16,
        EBFONT: 101,
        ENOSTR: 100,
        ENODATA: 116,
        ETIME: 117,
        ENOSR: 118,
        ENONET: 119,
        ENOPKG: 120,
        EREMOTE: 121,
        ENOLINK: 47,
        EADV: 122,
        ESRMNT: 123,
        ECOMM: 124,
        EPROTO: 65,
        EMULTIHOP: 36,
        EDOTDOT: 125,
        EBADMSG: 9,
        ENOTUNIQ: 126,
        EBADFD: 127,
        EREMCHG: 128,
        ELIBACC: 129,
        ELIBBAD: 130,
        ELIBSCN: 131,
        ELIBMAX: 132,
        ELIBEXEC: 133,
        ENOSYS: 52,
        ENOTEMPTY: 55,
        ENAMETOOLONG: 37,
        ELOOP: 32,
        EOPNOTSUPP: 138,
        EPFNOSUPPORT: 139,
        ECONNRESET: 15,
        ENOBUFS: 42,
        EAFNOSUPPORT: 5,
        EPROTOTYPE: 67,
        ENOTSOCK: 57,
        ENOPROTOOPT: 50,
        ESHUTDOWN: 140,
        ECONNREFUSED: 14,
        EADDRINUSE: 3,
        ECONNABORTED: 13,
        ENETUNREACH: 40,
        ENETDOWN: 38,
        ETIMEDOUT: 73,
        EHOSTDOWN: 142,
        EHOSTUNREACH: 23,
        EINPROGRESS: 26,
        EALREADY: 7,
        EDESTADDRREQ: 17,
        EMSGSIZE: 35,
        EPROTONOSUPPORT: 66,
        ESOCKTNOSUPPORT: 137,
        EADDRNOTAVAIL: 4,
        ENETRESET: 39,
        EISCONN: 30,
        ENOTCONN: 53,
        ETOOMANYREFS: 141,
        EUSERS: 136,
        EDQUOT: 19,
        ESTALE: 72,
        ENOTSUP: 138,
        ENOMEDIUM: 148,
        EILSEQ: 25,
        EOVERFLOW: 61,
        ECANCELED: 11,
        ENOTRECOVERABLE: 56,
        EOWNERDEAD: 62,
        ESTRPIPE: 135
      },
          at = {
        isWindows: !1,
        staticInit: function staticInit() {
          at.isWindows = !!r.platform.match(/^win/);
          var e = r.binding("constants");
          e.fs && (e = e.fs), at.flagsForNodeMap = {
            1024: e.O_APPEND,
            64: e.O_CREAT,
            128: e.O_EXCL,
            0: e.O_RDONLY,
            2: e.O_RDWR,
            4096: e.O_SYNC,
            512: e.O_TRUNC,
            1: e.O_WRONLY
          };
        },
        bufferFrom: function bufferFrom(e) {
          return i.alloc ? i.from(e) : new i(e);
        },
        convertNodeCode: function convertNodeCode(e) {
          var t = e.code;
          return N(t in nt), nt[t];
        },
        mount: function mount(e) {
          return N(p), at.createNode(null, "/", at.getMode(e.opts.root), 0);
        },
        createNode: function createNode(e, t, r, i) {
          if (!ot.isDir(r) && !ot.isFile(r) && !ot.isLink(r)) throw new ot.ErrnoError(28);
          var n = ot.createNode(e, t, r);
          return n.node_ops = at.node_ops, n.stream_ops = at.stream_ops, n;
        },
        getMode: function getMode(e) {
          var t;

          try {
            t = ar.lstatSync(e), at.isWindows && (t.mode = t.mode | (292 & t.mode) >> 2);
          } catch (e) {
            if (!e.code) throw e;
            throw new ot.ErrnoError(at.convertNodeCode(e));
          }

          return t.mode;
        },
        realPath: function realPath(e) {
          for (var t = []; e.parent !== e;) {
            t.push(e.name), e = e.parent;
          }

          return t.push(e.mount.opts.root), t.reverse(), $e.join.apply(null, t);
        },
        flagsForNode: function flagsForNode(e) {
          e &= -2097153, e &= -2049, e &= -32769, e &= -524289;
          var t = 0;

          for (var r in at.flagsForNodeMap) {
            e & r && (t |= at.flagsForNodeMap[r], e ^= r);
          }

          if (e) throw new ot.ErrnoError(28);
          return t;
        },
        node_ops: {
          getattr: function getattr(e) {
            var t,
                r = at.realPath(e);

            try {
              t = ar.lstatSync(r);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }

            return at.isWindows && !t.blksize && (t.blksize = 4096), at.isWindows && !t.blocks && (t.blocks = (t.size + t.blksize - 1) / t.blksize | 0), {
              dev: t.dev,
              ino: t.ino,
              mode: t.mode,
              nlink: t.nlink,
              uid: t.uid,
              gid: t.gid,
              rdev: t.rdev,
              size: t.size,
              atime: t.atime,
              mtime: t.mtime,
              ctime: t.ctime,
              blksize: t.blksize,
              blocks: t.blocks
            };
          },
          setattr: function setattr(e, t) {
            var r = at.realPath(e);

            try {
              if (void 0 !== t.mode && (ar.chmodSync(r, t.mode), e.mode = t.mode), void 0 !== t.timestamp) {
                var i = new Date(t.timestamp);
                ar.utimesSync(r, i, i);
              }

              void 0 !== t.size && ar.truncateSync(r, t.size);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          lookup: function lookup(e, t) {
            var r = $e.join2(at.realPath(e), t),
                i = at.getMode(r);
            return at.createNode(e, t, i);
          },
          mknod: function mknod(e, t, r, i) {
            var n = at.createNode(e, t, r, i),
                a = at.realPath(n);

            try {
              ot.isDir(n.mode) ? ar.mkdirSync(a, n.mode) : ar.writeFileSync(a, "", {
                mode: n.mode
              });
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }

            return n;
          },
          rename: function rename(e, t, r) {
            var i = at.realPath(e),
                n = $e.join2(at.realPath(t), r);

            try {
              ar.renameSync(i, n);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          unlink: function unlink(e, t) {
            var r = $e.join2(at.realPath(e), t);

            try {
              ar.unlinkSync(r);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          rmdir: function rmdir(e, t) {
            var r = $e.join2(at.realPath(e), t);

            try {
              ar.rmdirSync(r);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          readdir: function readdir(e) {
            var t = at.realPath(e);

            try {
              return ar.readdirSync(t);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          symlink: function symlink(e, t, r) {
            var i = $e.join2(at.realPath(e), t);

            try {
              ar.symlinkSync(r, i);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          readlink: function readlink(e) {
            var t = at.realPath(e);

            try {
              return t = ar.readlinkSync(t), t = sr.relative(sr.resolve(e.mount.opts.root), t);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          }
        },
        stream_ops: {
          open: function open(e) {
            var t = at.realPath(e.node);

            try {
              ot.isFile(e.node.mode) && (e.nfd = ar.openSync(t, at.flagsForNode(e.flags)));
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          close: function close(e) {
            try {
              ot.isFile(e.node.mode) && e.nfd && ar.closeSync(e.nfd);
            } catch (e) {
              if (!e.code) throw e;
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          read: function read(e, t, r, i, n) {
            if (0 === i) return 0;

            try {
              return ar.readSync(e.nfd, at.bufferFrom(t.buffer), r, i, n);
            } catch (e) {
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          write: function write(e, t, r, i, n) {
            try {
              return ar.writeSync(e.nfd, at.bufferFrom(t.buffer), r, i, n);
            } catch (e) {
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
          },
          llseek: function llseek(e, t, r) {
            var i = t;
            if (1 === r) i += e.position;else if (2 === r && ot.isFile(e.node.mode)) try {
              i += ar.fstatSync(e.nfd).size;
            } catch (e) {
              throw new ot.ErrnoError(at.convertNodeCode(e));
            }
            if (i < 0) throw new ot.ErrnoError(28);
            return i;
          }
        }
      },
          st = {
        DIR_MODE: 16895,
        FILE_MODE: 33279,
        reader: null,
        mount: function mount(e) {
          N(d), st.reader || (st.reader = new FileReaderSync());
          var t = st.createNode(null, "/", st.DIR_MODE, 0),
              r = {};

          function i(e) {
            for (var i = e.split("/"), n = t, a = 0; a < i.length - 1; a++) {
              var s = i.slice(0, a + 1).join("/");
              r[s] || (r[s] = st.createNode(n, i[a], st.DIR_MODE, 0)), n = r[s];
            }

            return n;
          }

          function n(e) {
            var t = e.split("/");
            return t[t.length - 1];
          }

          return Array.prototype.forEach.call(e.opts.files || [], function (e) {
            st.createNode(i(e.name), n(e.name), st.FILE_MODE, 0, e, e.lastModifiedDate);
          }), (e.opts.blobs || []).forEach(function (e) {
            st.createNode(i(e.name), n(e.name), st.FILE_MODE, 0, e.data);
          }), (e.opts.packages || []).forEach(function (e) {
            e.metadata.files.forEach(function (t) {
              var r = t.filename.substr(1);
              st.createNode(i(r), n(r), st.FILE_MODE, 0, e.blob.slice(t.start, t.end));
            });
          }), t;
        },
        createNode: function createNode(e, t, r, i, n, a) {
          var s = ot.createNode(e, t, r);
          return s.mode = r, s.node_ops = st.node_ops, s.stream_ops = st.stream_ops, s.timestamp = (a || new Date()).getTime(), N(st.FILE_MODE !== st.DIR_MODE), r === st.FILE_MODE ? (s.size = n.size, s.contents = n) : (s.size = 4096, s.contents = {}), e && (e.contents[t] = s), s;
        },
        node_ops: {
          getattr: function getattr(e) {
            return {
              dev: 1,
              ino: void 0,
              mode: e.mode,
              nlink: 1,
              uid: 0,
              gid: 0,
              rdev: void 0,
              size: e.size,
              atime: new Date(e.timestamp),
              mtime: new Date(e.timestamp),
              ctime: new Date(e.timestamp),
              blksize: 4096,
              blocks: Math.ceil(e.size / 4096)
            };
          },
          setattr: function setattr(e, t) {
            void 0 !== t.mode && (e.mode = t.mode), void 0 !== t.timestamp && (e.timestamp = t.timestamp);
          },
          lookup: function lookup(e, t) {
            throw new ot.ErrnoError(44);
          },
          mknod: function mknod(e, t, r, i) {
            throw new ot.ErrnoError(63);
          },
          rename: function rename(e, t, r) {
            throw new ot.ErrnoError(63);
          },
          unlink: function unlink(e, t) {
            throw new ot.ErrnoError(63);
          },
          rmdir: function rmdir(e, t) {
            throw new ot.ErrnoError(63);
          },
          readdir: function readdir(e) {
            var t = [".", ".."];

            for (var r in e.contents) {
              e.contents.hasOwnProperty(r) && t.push(r);
            }

            return t;
          },
          symlink: function symlink(e, t, r) {
            throw new ot.ErrnoError(63);
          },
          readlink: function readlink(e) {
            throw new ot.ErrnoError(63);
          }
        },
        stream_ops: {
          read: function read(e, t, r, i, n) {
            if (n >= e.node.size) return 0;
            var a = e.node.contents.slice(n, n + i),
                s = st.reader.readAsArrayBuffer(a);
            return t.set(new Uint8Array(s), r), a.size;
          },
          write: function write(e, t, r, i, n) {
            throw new ot.ErrnoError(29);
          },
          llseek: function llseek(e, t, r) {
            var i = t;
            if (1 === r ? i += e.position : 2 === r && ot.isFile(e.node.mode) && (i += e.node.size), i < 0) throw new ot.ErrnoError(28);
            return i;
          }
        }
      },
          ot = {
        root: null,
        mounts: [],
        devices: {},
        streams: [],
        nextInode: 1,
        nameTable: null,
        currentPath: "/",
        initialized: !1,
        ignorePermissions: !0,
        trackingDelegate: {},
        tracking: {
          openFlags: {
            READ: 1,
            WRITE: 2
          }
        },
        ErrnoError: null,
        genericErrors: {},
        filesystems: null,
        syncFSRequests: 0,
        handleFSError: function handleFSError(e) {
          if (!(e instanceof ot.ErrnoError)) throw e + " : " + Xe();
          return Qe(e.errno);
        },
        lookupPath: function lookupPath(e, t) {
          if (t = t || {}, !(e = et.resolve(ot.cwd(), e))) return {
            path: "",
            node: null
          };
          var r = {
            follow_mount: !0,
            recurse_count: 0
          };

          for (var i in r) {
            void 0 === t[i] && (t[i] = r[i]);
          }

          if (t.recurse_count > 8) throw new ot.ErrnoError(32);

          for (var n = $e.normalizeArray(e.split("/").filter(function (e) {
            return !!e;
          }), !1), a = ot.root, s = "/", o = 0; o < n.length; o++) {
            var f = o === n.length - 1;
            if (f && t.parent) break;
            if (a = ot.lookupNode(a, n[o]), s = $e.join2(s, n[o]), ot.isMountpoint(a) && (!f || f && t.follow_mount) && (a = a.mounted.root), !f || t.follow) for (var u = 0; ot.isLink(a.mode);) {
              var h = ot.readlink(s);
              if (s = et.resolve($e.dirname(s), h), a = ot.lookupPath(s, {
                recurse_count: t.recurse_count
              }).node, u++ > 40) throw new ot.ErrnoError(32);
            }
          }

          return {
            path: s,
            node: a
          };
        },
        getPath: function getPath(e) {
          for (var t;;) {
            if (ot.isRoot(e)) {
              var r = e.mount.mountpoint;
              return t ? "/" !== r[r.length - 1] ? r + "/" + t : r + t : r;
            }

            t = t ? e.name + "/" + t : e.name, e = e.parent;
          }
        },
        hashName: function hashName(e, t) {
          for (var r = 0, i = 0; i < t.length; i++) {
            r = (r << 5) - r + t.charCodeAt(i) | 0;
          }

          return (e + r >>> 0) % ot.nameTable.length;
        },
        hashAddNode: function hashAddNode(e) {
          var t = ot.hashName(e.parent.id, e.name);
          e.name_next = ot.nameTable[t], ot.nameTable[t] = e;
        },
        hashRemoveNode: function hashRemoveNode(e) {
          var t = ot.hashName(e.parent.id, e.name);
          if (ot.nameTable[t] === e) ot.nameTable[t] = e.name_next;else for (var r = ot.nameTable[t]; r;) {
            if (r.name_next === e) {
              r.name_next = e.name_next;
              break;
            }

            r = r.name_next;
          }
        },
        lookupNode: function lookupNode(e, t) {
          var r = ot.mayLookup(e);
          if (r) throw new ot.ErrnoError(r, e);

          for (var i = ot.hashName(e.id, t), n = ot.nameTable[i]; n; n = n.name_next) {
            var a = n.name;
            if (n.parent.id === e.id && a === t) return n;
          }

          return ot.lookup(e, t);
        },
        createNode: function createNode(e, t, r, i) {
          if (!ot.FSNode) {
            ot.FSNode = function (e, t, r, i) {
              e || (e = this), this.parent = e, this.mount = e.mount, this.mounted = null, this.id = ot.nextInode++, this.name = t, this.mode = r, this.node_ops = {}, this.stream_ops = {}, this.rdev = i;
            }, ot.FSNode.prototype = {};
            Object.defineProperties(ot.FSNode.prototype, {
              read: {
                get: function get() {
                  return 365 == (365 & this.mode);
                },
                set: function set(e) {
                  e ? this.mode |= 365 : this.mode &= -366;
                }
              },
              write: {
                get: function get() {
                  return 146 == (146 & this.mode);
                },
                set: function set(e) {
                  e ? this.mode |= 146 : this.mode &= -147;
                }
              },
              isFolder: {
                get: function get() {
                  return ot.isDir(this.mode);
                }
              },
              isDevice: {
                get: function get() {
                  return ot.isChrdev(this.mode);
                }
              }
            });
          }

          var n = new ot.FSNode(e, t, r, i);
          return ot.hashAddNode(n), n;
        },
        destroyNode: function destroyNode(e) {
          ot.hashRemoveNode(e);
        },
        isRoot: function isRoot(e) {
          return e === e.parent;
        },
        isMountpoint: function isMountpoint(e) {
          return !!e.mounted;
        },
        isFile: function isFile(e) {
          return 32768 == (61440 & e);
        },
        isDir: function isDir(e) {
          return 16384 == (61440 & e);
        },
        isLink: function isLink(e) {
          return 40960 == (61440 & e);
        },
        isChrdev: function isChrdev(e) {
          return 8192 == (61440 & e);
        },
        isBlkdev: function isBlkdev(e) {
          return 24576 == (61440 & e);
        },
        isFIFO: function isFIFO(e) {
          return 4096 == (61440 & e);
        },
        isSocket: function isSocket(e) {
          return 49152 == (49152 & e);
        },
        flagModes: {
          r: 0,
          rs: 1052672,
          "r+": 2,
          w: 577,
          wx: 705,
          xw: 705,
          "w+": 578,
          "wx+": 706,
          "xw+": 706,
          a: 1089,
          ax: 1217,
          xa: 1217,
          "a+": 1090,
          "ax+": 1218,
          "xa+": 1218
        },
        modeStringToFlags: function modeStringToFlags(e) {
          var t = ot.flagModes[e];
          if (void 0 === t) throw new Error("Unknown file open mode: " + e);
          return t;
        },
        flagsToPermissionString: function flagsToPermissionString(e) {
          var t = ["r", "w", "rw"][3 & e];
          return 512 & e && (t += "w"), t;
        },
        nodePermissions: function nodePermissions(e, t) {
          return ot.ignorePermissions || (-1 === t.indexOf("r") || 292 & e.mode) && (-1 === t.indexOf("w") || 146 & e.mode) && (-1 === t.indexOf("x") || 73 & e.mode) ? 0 : 2;
        },
        mayLookup: function mayLookup(e) {
          var t = ot.nodePermissions(e, "x");
          return t || (e.node_ops.lookup ? 0 : 2);
        },
        mayCreate: function mayCreate(e, t) {
          try {
            ot.lookupNode(e, t);
            return 20;
          } catch (e) {}

          return ot.nodePermissions(e, "wx");
        },
        mayDelete: function mayDelete(e, t, r) {
          var i;

          try {
            i = ot.lookupNode(e, t);
          } catch (e) {
            return e.errno;
          }

          var n = ot.nodePermissions(e, "wx");
          if (n) return n;

          if (r) {
            if (!ot.isDir(i.mode)) return 54;
            if (ot.isRoot(i) || ot.getPath(i) === ot.cwd()) return 10;
          } else if (ot.isDir(i.mode)) return 31;

          return 0;
        },
        mayOpen: function mayOpen(e, t) {
          return e ? ot.isLink(e.mode) ? 32 : ot.isDir(e.mode) && ("r" !== ot.flagsToPermissionString(t) || 512 & t) ? 31 : ot.nodePermissions(e, ot.flagsToPermissionString(t)) : 44;
        },
        MAX_OPEN_FDS: 4096,
        nextfd: function nextfd(e, t) {
          e = e || 0, t = t || ot.MAX_OPEN_FDS;

          for (var r = e; r <= t; r++) {
            if (!ot.streams[r]) return r;
          }

          throw new ot.ErrnoError(33);
        },
        getStream: function getStream(e) {
          return ot.streams[e];
        },
        createStream: function createStream(e, t, r) {
          ot.FSStream || (ot.FSStream = function () {}, ot.FSStream.prototype = {}, Object.defineProperties(ot.FSStream.prototype, {
            object: {
              get: function get() {
                return this.node;
              },
              set: function set(e) {
                this.node = e;
              }
            },
            isRead: {
              get: function get() {
                return 1 != (2097155 & this.flags);
              }
            },
            isWrite: {
              get: function get() {
                return 0 != (2097155 & this.flags);
              }
            },
            isAppend: {
              get: function get() {
                return 1024 & this.flags;
              }
            }
          }));
          var i = new ot.FSStream();

          for (var n in e) {
            i[n] = e[n];
          }

          e = i;
          var a = ot.nextfd(t, r);
          return e.fd = a, ot.streams[a] = e, e;
        },
        closeStream: function closeStream(e) {
          ot.streams[e] = null;
        },
        chrdev_stream_ops: {
          open: function open(e) {
            var t = ot.getDevice(e.node.rdev);
            e.stream_ops = t.stream_ops, e.stream_ops.open && e.stream_ops.open(e);
          },
          llseek: function llseek() {
            throw new ot.ErrnoError(70);
          }
        },
        major: function major(e) {
          return e >> 8;
        },
        minor: function minor(e) {
          return 255 & e;
        },
        makedev: function makedev(e, t) {
          return e << 8 | t;
        },
        registerDevice: function registerDevice(e, t) {
          ot.devices[e] = {
            stream_ops: t
          };
        },
        getDevice: function getDevice(e) {
          return ot.devices[e];
        },
        getMounts: function getMounts(e) {
          for (var t = [], r = [e]; r.length;) {
            var i = r.pop();
            t.push(i), r.push.apply(r, i.mounts);
          }

          return t;
        },
        syncfs: function syncfs(e, t) {
          "function" == typeof e && (t = e, e = !1), ot.syncFSRequests++, ot.syncFSRequests > 1 && ot.syncFSRequests;
          var r = ot.getMounts(ot.root.mount),
              i = 0;

          function n(e) {
            return ot.syncFSRequests--, t(e);
          }

          function a(e) {
            if (e) return a.errored ? void 0 : (a.errored = !0, n(e));
            ++i >= r.length && n(null);
          }

          r.forEach(function (t) {
            if (!t.type.syncfs) return a(null);
            t.type.syncfs(t, e, a);
          });
        },
        mount: function mount(e, t, r) {
          var i,
              n = "/" === r,
              a = !r;
          if (n && ot.root) throw new ot.ErrnoError(10);

          if (!n && !a) {
            var s = ot.lookupPath(r, {
              follow_mount: !1
            });
            if (r = s.path, i = s.node, ot.isMountpoint(i)) throw new ot.ErrnoError(10);
            if (!ot.isDir(i.mode)) throw new ot.ErrnoError(54);
          }

          var o = {
            type: e,
            opts: t,
            mountpoint: r,
            mounts: []
          },
              f = e.mount(o);
          return f.mount = o, o.root = f, n ? ot.root = f : i && (i.mounted = o, i.mount && i.mount.mounts.push(o)), f;
        },
        unmount: function unmount(e) {
          var t = ot.lookupPath(e, {
            follow_mount: !1
          });
          if (!ot.isMountpoint(t.node)) throw new ot.ErrnoError(28);
          var r = t.node,
              i = r.mounted,
              n = ot.getMounts(i);
          Object.keys(ot.nameTable).forEach(function (e) {
            for (var t = ot.nameTable[e]; t;) {
              var r = t.name_next;
              -1 !== n.indexOf(t.mount) && ot.destroyNode(t), t = r;
            }
          }), r.mounted = null;
          var a = r.mount.mounts.indexOf(i);
          r.mount.mounts.splice(a, 1);
        },
        lookup: function lookup(e, t) {
          return e.node_ops.lookup(e, t);
        },
        mknod: function mknod(e, t, r) {
          var i = ot.lookupPath(e, {
            parent: !0
          }).node,
              n = $e.basename(e);
          if (!n || "." === n || ".." === n) throw new ot.ErrnoError(28);
          var a = ot.mayCreate(i, n);
          if (a) throw new ot.ErrnoError(a);
          if (!i.node_ops.mknod) throw new ot.ErrnoError(63);
          return i.node_ops.mknod(i, n, t, r);
        },
        create: function create(e, t) {
          return t = void 0 !== t ? t : 438, t &= 4095, t |= 32768, ot.mknod(e, t, 0);
        },
        mkdir: function mkdir(e, t) {
          return t = void 0 !== t ? t : 511, t &= 1023, t |= 16384, ot.mknod(e, t, 0);
        },
        mkdirTree: function mkdirTree(e, t) {
          for (var r = e.split("/"), i = "", n = 0; n < r.length; ++n) {
            if (r[n]) {
              i += "/" + r[n];

              try {
                ot.mkdir(i, t);
              } catch (e) {
                if (20 != e.errno) throw e;
              }
            }
          }
        },
        mkdev: function mkdev(e, t, r) {
          return void 0 === r && (r = t, t = 438), t |= 8192, ot.mknod(e, t, r);
        },
        symlink: function symlink(e, t) {
          if (!et.resolve(e)) throw new ot.ErrnoError(44);
          var r = ot.lookupPath(t, {
            parent: !0
          }).node;
          if (!r) throw new ot.ErrnoError(44);
          var i = $e.basename(t),
              n = ot.mayCreate(r, i);
          if (n) throw new ot.ErrnoError(n);
          if (!r.node_ops.symlink) throw new ot.ErrnoError(63);
          return r.node_ops.symlink(r, i, e);
        },
        rename: function rename(e, t) {
          var r,
              i,
              n = $e.dirname(e),
              a = $e.dirname(t),
              s = $e.basename(e),
              o = $e.basename(t);

          try {
            r = ot.lookupPath(e, {
              parent: !0
            }).node, i = ot.lookupPath(t, {
              parent: !0
            }).node;
          } catch (e) {
            throw new ot.ErrnoError(10);
          }

          if (!r || !i) throw new ot.ErrnoError(44);
          if (r.mount !== i.mount) throw new ot.ErrnoError(75);
          var f,
              u = ot.lookupNode(r, s),
              h = et.relative(e, a);
          if ("." !== h.charAt(0)) throw new ot.ErrnoError(28);
          if ("." !== (h = et.relative(t, n)).charAt(0)) throw new ot.ErrnoError(55);

          try {
            f = ot.lookupNode(i, o);
          } catch (e) {}

          if (u !== f) {
            var c = ot.isDir(u.mode),
                d = ot.mayDelete(r, s, c);
            if (d) throw new ot.ErrnoError(d);
            if (d = f ? ot.mayDelete(i, o, c) : ot.mayCreate(i, o)) throw new ot.ErrnoError(d);
            if (!r.node_ops.rename) throw new ot.ErrnoError(63);
            if (ot.isMountpoint(u) || f && ot.isMountpoint(f)) throw new ot.ErrnoError(10);
            if (i !== r && (d = ot.nodePermissions(r, "w"))) throw new ot.ErrnoError(d);

            try {
              ot.trackingDelegate.willMovePath && ot.trackingDelegate.willMovePath(e, t);
            } catch (e) {
              e.message;
            }

            ot.hashRemoveNode(u);

            try {
              r.node_ops.rename(u, i, o);
            } catch (e) {
              throw e;
            } finally {
              ot.hashAddNode(u);
            }

            try {
              ot.trackingDelegate.onMovePath && ot.trackingDelegate.onMovePath(e, t);
            } catch (e) {
              e.message;
            }
          }
        },
        rmdir: function rmdir(e) {
          var t = ot.lookupPath(e, {
            parent: !0
          }).node,
              r = $e.basename(e),
              i = ot.lookupNode(t, r),
              n = ot.mayDelete(t, r, !0);
          if (n) throw new ot.ErrnoError(n);
          if (!t.node_ops.rmdir) throw new ot.ErrnoError(63);
          if (ot.isMountpoint(i)) throw new ot.ErrnoError(10);

          try {
            ot.trackingDelegate.willDeletePath && ot.trackingDelegate.willDeletePath(e);
          } catch (e) {
            e.message;
          }

          t.node_ops.rmdir(t, r), ot.destroyNode(i);

          try {
            ot.trackingDelegate.onDeletePath && ot.trackingDelegate.onDeletePath(e);
          } catch (e) {
            e.message;
          }
        },
        readdir: function readdir(e) {
          var t = ot.lookupPath(e, {
            follow: !0
          }).node;
          if (!t.node_ops.readdir) throw new ot.ErrnoError(54);
          return t.node_ops.readdir(t);
        },
        unlink: function unlink(e) {
          var t = ot.lookupPath(e, {
            parent: !0
          }).node,
              r = $e.basename(e),
              i = ot.lookupNode(t, r),
              n = ot.mayDelete(t, r, !1);
          if (n) throw new ot.ErrnoError(n);
          if (!t.node_ops.unlink) throw new ot.ErrnoError(63);
          if (ot.isMountpoint(i)) throw new ot.ErrnoError(10);

          try {
            ot.trackingDelegate.willDeletePath && ot.trackingDelegate.willDeletePath(e);
          } catch (e) {
            e.message;
          }

          t.node_ops.unlink(t, r), ot.destroyNode(i);

          try {
            ot.trackingDelegate.onDeletePath && ot.trackingDelegate.onDeletePath(e);
          } catch (e) {
            e.message;
          }
        },
        readlink: function readlink(e) {
          var t = ot.lookupPath(e).node;
          if (!t) throw new ot.ErrnoError(44);
          if (!t.node_ops.readlink) throw new ot.ErrnoError(28);
          return et.resolve(ot.getPath(t.parent), t.node_ops.readlink(t));
        },
        stat: function stat(e, t) {
          var r = ot.lookupPath(e, {
            follow: !t
          }).node;
          if (!r) throw new ot.ErrnoError(44);
          if (!r.node_ops.getattr) throw new ot.ErrnoError(63);
          return r.node_ops.getattr(r);
        },
        lstat: function lstat(e) {
          return ot.stat(e, !0);
        },
        chmod: function chmod(e, t, r) {
          var i;
          "string" == typeof e ? i = ot.lookupPath(e, {
            follow: !r
          }).node : i = e;
          if (!i.node_ops.setattr) throw new ot.ErrnoError(63);
          i.node_ops.setattr(i, {
            mode: 4095 & t | -4096 & i.mode,
            timestamp: Date.now()
          });
        },
        lchmod: function lchmod(e, t) {
          ot.chmod(e, t, !0);
        },
        fchmod: function fchmod(e, t) {
          var r = ot.getStream(e);
          if (!r) throw new ot.ErrnoError(8);
          ot.chmod(r.node, t);
        },
        chown: function chown(e, t, r, i) {
          var n;
          "string" == typeof e ? n = ot.lookupPath(e, {
            follow: !i
          }).node : n = e;
          if (!n.node_ops.setattr) throw new ot.ErrnoError(63);
          n.node_ops.setattr(n, {
            timestamp: Date.now()
          });
        },
        lchown: function lchown(e, t, r) {
          ot.chown(e, t, r, !0);
        },
        fchown: function fchown(e, t, r) {
          var i = ot.getStream(e);
          if (!i) throw new ot.ErrnoError(8);
          ot.chown(i.node, t, r);
        },
        truncate: function truncate(e, t) {
          if (t < 0) throw new ot.ErrnoError(28);
          var r;
          "string" == typeof e ? r = ot.lookupPath(e, {
            follow: !0
          }).node : r = e;
          if (!r.node_ops.setattr) throw new ot.ErrnoError(63);
          if (ot.isDir(r.mode)) throw new ot.ErrnoError(31);
          if (!ot.isFile(r.mode)) throw new ot.ErrnoError(28);
          var i = ot.nodePermissions(r, "w");
          if (i) throw new ot.ErrnoError(i);
          r.node_ops.setattr(r, {
            size: t,
            timestamp: Date.now()
          });
        },
        ftruncate: function ftruncate(e, t) {
          var r = ot.getStream(e);
          if (!r) throw new ot.ErrnoError(8);
          if (0 == (2097155 & r.flags)) throw new ot.ErrnoError(28);
          ot.truncate(r.node, t);
        },
        utime: function utime(e, t, r) {
          var i = ot.lookupPath(e, {
            follow: !0
          }).node;
          i.node_ops.setattr(i, {
            timestamp: Math.max(t, r)
          });
        },
        open: function open(e, t, r, i, n) {
          if ("" === e) throw new ot.ErrnoError(44);
          var s;
          if (r = void 0 === r ? 438 : r, r = 64 & (t = "string" == typeof t ? ot.modeStringToFlags(t) : t) ? 4095 & r | 32768 : 0, "object" === a(e)) s = e;else {
            e = $e.normalize(e);

            try {
              s = ot.lookupPath(e, {
                follow: !(131072 & t)
              }).node;
            } catch (e) {}
          }
          var f = !1;
          if (64 & t) if (s) {
            if (128 & t) throw new ot.ErrnoError(20);
          } else s = ot.mknod(e, r, 0), f = !0;
          if (!s) throw new ot.ErrnoError(44);
          if (ot.isChrdev(s.mode) && (t &= -513), 65536 & t && !ot.isDir(s.mode)) throw new ot.ErrnoError(54);

          if (!f) {
            var u = ot.mayOpen(s, t);
            if (u) throw new ot.ErrnoError(u);
          }

          512 & t && ot.truncate(s, 0), t &= -641;
          var h = ot.createStream({
            node: s,
            path: ot.getPath(s),
            flags: t,
            seekable: !0,
            position: 0,
            stream_ops: s.stream_ops,
            ungotten: [],
            error: !1
          }, i, n);
          h.stream_ops.open && h.stream_ops.open(h), !o.logReadFiles || 1 & t || (ot.readFiles || (ot.readFiles = {}), e in ot.readFiles || (ot.readFiles[e] = 1));

          try {
            if (ot.trackingDelegate.onOpenFile) {
              var c = 0;
              1 != (2097155 & t) && (c |= ot.tracking.openFlags.READ), 0 != (2097155 & t) && (c |= ot.tracking.openFlags.WRITE), ot.trackingDelegate.onOpenFile(e, c);
            }
          } catch (e) {
            e.message;
          }

          return h;
        },
        close: function close(e) {
          if (ot.isClosed(e)) throw new ot.ErrnoError(8);
          e.getdents && (e.getdents = null);

          try {
            e.stream_ops.close && e.stream_ops.close(e);
          } catch (e) {
            throw e;
          } finally {
            ot.closeStream(e.fd);
          }

          e.fd = null;
        },
        isClosed: function isClosed(e) {
          return null === e.fd;
        },
        llseek: function llseek(e, t, r) {
          if (ot.isClosed(e)) throw new ot.ErrnoError(8);
          if (!e.seekable || !e.stream_ops.llseek) throw new ot.ErrnoError(70);
          if (0 != r && 1 != r && 2 != r) throw new ot.ErrnoError(28);
          return e.position = e.stream_ops.llseek(e, t, r), e.ungotten = [], e.position;
        },
        read: function read(e, t, r, i, n) {
          if (i < 0 || n < 0) throw new ot.ErrnoError(28);
          if (ot.isClosed(e)) throw new ot.ErrnoError(8);
          if (1 == (2097155 & e.flags)) throw new ot.ErrnoError(8);
          if (ot.isDir(e.node.mode)) throw new ot.ErrnoError(31);
          if (!e.stream_ops.read) throw new ot.ErrnoError(28);
          var a = void 0 !== n;

          if (a) {
            if (!e.seekable) throw new ot.ErrnoError(70);
          } else n = e.position;

          var s = e.stream_ops.read(e, t, r, i, n);
          return a || (e.position += s), s;
        },
        write: function write(e, t, r, i, n, a) {
          if (i < 0 || n < 0) throw new ot.ErrnoError(28);
          if (ot.isClosed(e)) throw new ot.ErrnoError(8);
          if (0 == (2097155 & e.flags)) throw new ot.ErrnoError(8);
          if (ot.isDir(e.node.mode)) throw new ot.ErrnoError(31);
          if (!e.stream_ops.write) throw new ot.ErrnoError(28);
          1024 & e.flags && ot.llseek(e, 0, 2);
          var s = void 0 !== n;

          if (s) {
            if (!e.seekable) throw new ot.ErrnoError(70);
          } else n = e.position;

          var o = e.stream_ops.write(e, t, r, i, n, a);
          s || (e.position += o);

          try {
            e.path && ot.trackingDelegate.onWriteToFile && ot.trackingDelegate.onWriteToFile(e.path);
          } catch (t) {
            e.path, t.message;
          }

          return o;
        },
        allocate: function allocate(e, t, r) {
          if (ot.isClosed(e)) throw new ot.ErrnoError(8);
          if (t < 0 || r <= 0) throw new ot.ErrnoError(28);
          if (0 == (2097155 & e.flags)) throw new ot.ErrnoError(8);
          if (!ot.isFile(e.node.mode) && !ot.isDir(e.node.mode)) throw new ot.ErrnoError(43);
          if (!e.stream_ops.allocate) throw new ot.ErrnoError(138);
          e.stream_ops.allocate(e, t, r);
        },
        mmap: function mmap(e, t, r, i, n, a, s) {
          if (0 != (2 & a) && 0 == (2 & s) && 2 != (2097155 & e.flags)) throw new ot.ErrnoError(2);
          if (1 == (2097155 & e.flags)) throw new ot.ErrnoError(2);
          if (!e.stream_ops.mmap) throw new ot.ErrnoError(43);
          return e.stream_ops.mmap(e, t, r, i, n, a, s);
        },
        msync: function msync(e, t, r, i, n) {
          return e && e.stream_ops.msync ? e.stream_ops.msync(e, t, r, i, n) : 0;
        },
        munmap: function munmap(e) {
          return 0;
        },
        ioctl: function ioctl(e, t, r) {
          if (!e.stream_ops.ioctl) throw new ot.ErrnoError(59);
          return e.stream_ops.ioctl(e, t, r);
        },
        readFile: function readFile(e, t) {
          if ((t = t || {}).flags = t.flags || "r", t.encoding = t.encoding || "binary", "utf8" !== t.encoding && "binary" !== t.encoding) throw new Error('Invalid encoding type "' + t.encoding + '"');
          var r,
              i = ot.open(e, t.flags),
              n = ot.stat(e).size,
              a = new Uint8Array(n);
          return ot.read(i, a, 0, n, 0), "utf8" === t.encoding ? r = W(a, 0) : "binary" === t.encoding && (r = a), ot.close(i), r;
        },
        writeFile: function writeFile(e, t, r) {
          (r = r || {}).flags = r.flags || "w";
          var i = ot.open(e, r.flags, r.mode);

          if ("string" == typeof t) {
            var n = new Uint8Array(J(t) + 1),
                a = X(t, n, 0, n.length);
            ot.write(i, n, 0, a, void 0, r.canOwn);
          } else {
            if (!ArrayBuffer.isView(t)) throw new Error("Unsupported data type");
            ot.write(i, t, 0, t.byteLength, void 0, r.canOwn);
          }

          ot.close(i);
        },
        cwd: function cwd() {
          return ot.currentPath;
        },
        chdir: function chdir(e) {
          var t = ot.lookupPath(e, {
            follow: !0
          });
          if (null === t.node) throw new ot.ErrnoError(44);
          if (!ot.isDir(t.node.mode)) throw new ot.ErrnoError(54);
          var r = ot.nodePermissions(t.node, "x");
          if (r) throw new ot.ErrnoError(r);
          ot.currentPath = t.path;
        },
        createDefaultDirectories: function createDefaultDirectories() {
          ot.mkdir("/tmp"), ot.mkdir("/home"), ot.mkdir("/home/web_user");
        },
        createDefaultDevices: function createDefaultDevices() {
          var t;

          if (ot.mkdir("/dev"), ot.registerDevice(ot.makedev(1, 3), {
            read: function read() {
              return 0;
            },
            write: function write(e, t, r, i, n) {
              return i;
            }
          }), ot.mkdev("/dev/null", ot.makedev(1, 3)), tt.register(ot.makedev(5, 0), tt.default_tty_ops), tt.register(ot.makedev(6, 0), tt.default_tty1_ops), ot.mkdev("/dev/tty", ot.makedev(5, 0)), ot.mkdev("/dev/tty1", ot.makedev(6, 0)), "object" === ("undefined" == typeof crypto ? "undefined" : a(crypto)) && "function" == typeof crypto.getRandomValues) {
            var r = new Uint8Array(1);

            t = function t() {
              return crypto.getRandomValues(r), r[0];
            };
          } else if (l) try {
            var i = e("crypto");

            t = function t() {
              return i.randomBytes(1)[0];
            };
          } catch (e) {}

          t || (t = function t() {
            Ne("random_device");
          }), ot.createDevice("/dev", "random", t), ot.createDevice("/dev", "urandom", t), ot.mkdir("/dev/shm"), ot.mkdir("/dev/shm/tmp");
        },
        createSpecialDirectories: function createSpecialDirectories() {
          ot.mkdir("/proc"), ot.mkdir("/proc/self"), ot.mkdir("/proc/self/fd"), ot.mount({
            mount: function mount() {
              var e = ot.createNode("/proc/self", "fd", 16895, 73);
              return e.node_ops = {
                lookup: function lookup(e, t) {
                  var r = +t,
                      i = ot.getStream(r);
                  if (!i) throw new ot.ErrnoError(8);
                  var n = {
                    parent: null,
                    mount: {
                      mountpoint: "fake"
                    },
                    node_ops: {
                      readlink: function readlink() {
                        return i.path;
                      }
                    }
                  };
                  return n.parent = n, n;
                }
              }, e;
            }
          }, {}, "/proc/self/fd");
        },
        createStandardStreams: function createStandardStreams() {
          o.stdin ? ot.createDevice("/dev", "stdin", o.stdin) : ot.symlink("/dev/tty", "/dev/stdin"), o.stdout ? ot.createDevice("/dev", "stdout", null, o.stdout) : ot.symlink("/dev/tty", "/dev/stdout"), o.stderr ? ot.createDevice("/dev", "stderr", null, o.stderr) : ot.symlink("/dev/tty1", "/dev/stderr");
          ot.open("/dev/stdin", "r"), ot.open("/dev/stdout", "w"), ot.open("/dev/stderr", "w");
        },
        ensureErrnoError: function ensureErrnoError() {
          ot.ErrnoError || (ot.ErrnoError = function (e, t) {
            this.node = t, this.setErrno = function (e) {
              this.errno = e;
            }, this.setErrno(e), this.message = "FS error";
          }, ot.ErrnoError.prototype = new Error(), ot.ErrnoError.prototype.constructor = ot.ErrnoError, [44].forEach(function (e) {
            ot.genericErrors[e] = new ot.ErrnoError(e), ot.genericErrors[e].stack = "<generic error, no stack>";
          }));
        },
        staticInit: function staticInit() {
          ot.ensureErrnoError(), ot.nameTable = new Array(4096), ot.mount(rt, {}, "/"), ot.createDefaultDirectories(), ot.createDefaultDevices(), ot.createSpecialDirectories(), ot.filesystems = {
            MEMFS: rt,
            IDBFS: it,
            NODEFS: at,
            WORKERFS: st
          };
        },
        init: function init(e, t, r) {
          ot.init.initialized = !0, ot.ensureErrnoError(), o.stdin = e || o.stdin, o.stdout = t || o.stdout, o.stderr = r || o.stderr, ot.createStandardStreams();
        },
        quit: function quit() {
          ot.init.initialized = !1;
          var e = o._fflush;
          e && e(0);

          for (var t = 0; t < ot.streams.length; t++) {
            var r = ot.streams[t];
            r && ot.close(r);
          }
        },
        getMode: function getMode(e, t) {
          var r = 0;
          return e && (r |= 365), t && (r |= 146), r;
        },
        joinPath: function joinPath(e, t) {
          var r = $e.join.apply(null, e);
          return t && "/" == r[0] && (r = r.substr(1)), r;
        },
        absolutePath: function absolutePath(e, t) {
          return et.resolve(t, e);
        },
        standardizePath: function standardizePath(e) {
          return $e.normalize(e);
        },
        findObject: function findObject(e, t) {
          var r = ot.analyzePath(e, t);
          return r.exists ? r.object : (Qe(r.error), null);
        },
        analyzePath: function analyzePath(e, t) {
          try {
            e = (i = ot.lookupPath(e, {
              follow: !t
            })).path;
          } catch (e) {}

          var r = {
            isRoot: !1,
            exists: !1,
            error: 0,
            name: null,
            path: null,
            object: null,
            parentExists: !1,
            parentPath: null,
            parentObject: null
          };

          try {
            var i = ot.lookupPath(e, {
              parent: !0
            });
            r.parentExists = !0, r.parentPath = i.path, r.parentObject = i.node, r.name = $e.basename(e), i = ot.lookupPath(e, {
              follow: !t
            }), r.exists = !0, r.path = i.path, r.object = i.node, r.name = i.node.name, r.isRoot = "/" === i.path;
          } catch (e) {
            r.error = e.errno;
          }

          return r;
        },
        createFolder: function createFolder(e, t, r, i) {
          var n = $e.join2("string" == typeof e ? e : ot.getPath(e), t),
              a = ot.getMode(r, i);
          return ot.mkdir(n, a);
        },
        createPath: function createPath(e, t, r, i) {
          e = "string" == typeof e ? e : ot.getPath(e);

          for (var n = t.split("/").reverse(); n.length;) {
            var a = n.pop();

            if (a) {
              var s = $e.join2(e, a);

              try {
                ot.mkdir(s);
              } catch (e) {}

              e = s;
            }
          }

          return s;
        },
        createFile: function createFile(e, t, r, i, n) {
          var a = $e.join2("string" == typeof e ? e : ot.getPath(e), t),
              s = ot.getMode(i, n);
          return ot.create(a, s);
        },
        createDataFile: function createDataFile(e, t, r, i, n, a) {
          var s = t ? $e.join2("string" == typeof e ? e : ot.getPath(e), t) : e,
              o = ot.getMode(i, n),
              f = ot.create(s, o);

          if (r) {
            if ("string" == typeof r) {
              for (var u = new Array(r.length), h = 0, c = r.length; h < c; ++h) {
                u[h] = r.charCodeAt(h);
              }

              r = u;
            }

            ot.chmod(f, 146 | o);
            var d = ot.open(f, "w");
            ot.write(d, r, 0, r.length, 0, a), ot.close(d), ot.chmod(f, o);
          }

          return f;
        },
        createDevice: function createDevice(e, t, r, i) {
          var n = $e.join2("string" == typeof e ? e : ot.getPath(e), t),
              a = ot.getMode(!!r, !!i);
          ot.createDevice.major || (ot.createDevice.major = 64);
          var s = ot.makedev(ot.createDevice.major++, 0);
          return ot.registerDevice(s, {
            open: function open(e) {
              e.seekable = !1;
            },
            close: function close(e) {
              i && i.buffer && i.buffer.length && i(10);
            },
            read: function read(e, t, i, n, a) {
              for (var s = 0, o = 0; o < n; o++) {
                var f;

                try {
                  f = r();
                } catch (e) {
                  throw new ot.ErrnoError(29);
                }

                if (void 0 === f && 0 === s) throw new ot.ErrnoError(6);
                if (null == f) break;
                s++, t[i + o] = f;
              }

              return s && (e.node.timestamp = Date.now()), s;
            },
            write: function write(e, t, r, n, a) {
              for (var s = 0; s < n; s++) {
                try {
                  i(t[r + s]);
                } catch (e) {
                  throw new ot.ErrnoError(29);
                }
              }

              return n && (e.node.timestamp = Date.now()), s;
            }
          }), ot.mkdev(n, a, s);
        },
        createLink: function createLink(e, t, r, i, n) {
          var a = $e.join2("string" == typeof e ? e : ot.getPath(e), t);
          return ot.symlink(r, a);
        },
        forceLoadFile: function forceLoadFile(e) {
          if (e.isDevice || e.isFolder || e.link || e.contents) return !0;
          var t = !0;
          if ("undefined" != typeof XMLHttpRequest) throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
          if (!b) throw new Error("Cannot load without read() or XMLHttpRequest.");

          try {
            e.contents = or(b(e.url), !0), e.usedBytes = e.contents.length;
          } catch (e) {
            t = !1;
          }

          return t || Qe(29), t;
        },
        createLazyFile: function createLazyFile(e, t, r, i, n) {
          function a() {
            this.lengthKnown = !1, this.chunks = [];
          }

          if (a.prototype.get = function (e) {
            if (!(e > this.length - 1 || e < 0)) {
              var t = e % this.chunkSize,
                  r = e / this.chunkSize | 0;
              return this.getter(r)[t];
            }
          }, a.prototype.setDataGetter = function (e) {
            this.getter = e;
          }, a.prototype.cacheLength = function () {
            var e = new XMLHttpRequest();
            if (e.open("HEAD", r, !1), e.send(null), !(e.status >= 200 && e.status < 300 || 304 === e.status)) throw new Error("Couldn't load " + r + ". Status: " + e.status);
            var t,
                i = Number(e.getResponseHeader("Content-length")),
                n = (t = e.getResponseHeader("Accept-Ranges")) && "bytes" === t,
                a = (t = e.getResponseHeader("Content-Encoding")) && "gzip" === t,
                s = 1048576;
            n || (s = i);
            var o = this;
            o.setDataGetter(function (e) {
              var t = e * s,
                  n = (e + 1) * s - 1;
              if (n = Math.min(n, i - 1), void 0 === o.chunks[e] && (o.chunks[e] = function (e, t) {
                if (e > t) throw new Error("invalid range (" + e + ", " + t + ") or no bytes requested!");
                if (t > i - 1) throw new Error("only " + i + " bytes available! programmer error!");
                var n = new XMLHttpRequest();
                if (n.open("GET", r, !1), i !== s && n.setRequestHeader("Range", "bytes=" + e + "-" + t), "undefined" != typeof Uint8Array && (n.responseType = "arraybuffer"), n.overrideMimeType && n.overrideMimeType("text/plain; charset=x-user-defined"), n.send(null), !(n.status >= 200 && n.status < 300 || 304 === n.status)) throw new Error("Couldn't load " + r + ". Status: " + n.status);
                return void 0 !== n.response ? new Uint8Array(n.response || []) : or(n.responseText || "", !0);
              }(t, n)), void 0 === o.chunks[e]) throw new Error("doXHR failed!");
              return o.chunks[e];
            }), !a && i || (s = i = 1, i = this.getter(0).length, s = i), this._length = i, this._chunkSize = s, this.lengthKnown = !0;
          }, "undefined" != typeof XMLHttpRequest) {
            if (!d) throw "Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";
            var s = new a();
            Object.defineProperties(s, {
              length: {
                get: function get() {
                  return this.lengthKnown || this.cacheLength(), this._length;
                }
              },
              chunkSize: {
                get: function get() {
                  return this.lengthKnown || this.cacheLength(), this._chunkSize;
                }
              }
            });
            var o = {
              isDevice: !1,
              contents: s
            };
          } else o = {
            isDevice: !1,
            url: r
          };

          var f = ot.createFile(e, t, o, i, n);
          o.contents ? f.contents = o.contents : o.url && (f.contents = null, f.url = o.url), Object.defineProperties(f, {
            usedBytes: {
              get: function get() {
                return this.contents.length;
              }
            }
          });
          var u = {};
          return Object.keys(f.stream_ops).forEach(function (e) {
            var t = f.stream_ops[e];

            u[e] = function () {
              if (!ot.forceLoadFile(f)) throw new ot.ErrnoError(29);
              return t.apply(null, arguments);
            };
          }), u.read = function (e, t, r, i, n) {
            if (!ot.forceLoadFile(f)) throw new ot.ErrnoError(29);
            var a = e.node.contents;
            if (n >= a.length) return 0;
            var s = Math.min(a.length - n, i);
            if (a.slice) for (var o = 0; o < s; o++) {
              t[r + o] = a[n + o];
            } else for (o = 0; o < s; o++) {
              t[r + o] = a.get(n + o);
            }
            return s;
          }, f.stream_ops = u, f;
        },
        createPreloadedFile: function createPreloadedFile(e, t, r, i, n, a, s, f, u, h) {
          Browser.init();
          var c = t ? et.resolve($e.join2(e, t)) : e;

          function d(r) {
            function d(r) {
              h && h(), f || ot.createDataFile(e, t, r, i, n, u), a && a(), Fe();
            }

            var l = !1;
            o.preloadPlugins.forEach(function (e) {
              l || e.canHandle(c) && (e.handle(r, c, d, function () {
                s && s(), Fe();
              }), l = !0);
            }), l || d(r);
          }

          Le(), "string" == typeof r ? Browser.asyncLoad(r, function (e) {
            d(e);
          }, s) : d(r);
        },
        indexedDB: function indexedDB() {
          return window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
        },
        DB_NAME: function DB_NAME() {
          return "EM_FS_" + window.location.pathname;
        },
        DB_VERSION: 20,
        DB_STORE_NAME: "FILE_DATA",
        saveFilesToDB: function saveFilesToDB(e, t, r) {
          t = t || function () {}, r = r || function () {};
          var i = ot.indexedDB();

          try {
            var n = i.open(ot.DB_NAME(), ot.DB_VERSION);
          } catch (e) {
            return r(e);
          }

          n.onupgradeneeded = function () {
            n.result.createObjectStore(ot.DB_STORE_NAME);
          }, n.onsuccess = function () {
            var i = n.result.transaction([ot.DB_STORE_NAME], "readwrite"),
                a = i.objectStore(ot.DB_STORE_NAME),
                s = 0,
                o = 0,
                f = e.length;

            function u() {
              0 == o ? t() : r();
            }

            e.forEach(function (e) {
              var t = a.put(ot.analyzePath(e).object.contents, e);
              t.onsuccess = function () {
                ++s + o == f && u();
              }, t.onerror = function () {
                o++, s + o == f && u();
              };
            }), i.onerror = r;
          }, n.onerror = r;
        },
        loadFilesFromDB: function loadFilesFromDB(e, t, r) {
          t = t || function () {}, r = r || function () {};
          var i = ot.indexedDB();

          try {
            var n = i.open(ot.DB_NAME(), ot.DB_VERSION);
          } catch (e) {
            return r(e);
          }

          n.onupgradeneeded = r, n.onsuccess = function () {
            var i = n.result;

            try {
              var a = i.transaction([ot.DB_STORE_NAME], "readonly");
            } catch (e) {
              return void r(e);
            }

            var s = a.objectStore(ot.DB_STORE_NAME),
                o = 0,
                f = 0,
                u = e.length;

            function h() {
              0 == f ? t() : r();
            }

            e.forEach(function (e) {
              var t = s.get(e);
              t.onsuccess = function () {
                ot.analyzePath(e).exists && ot.unlink(e), ot.createDataFile($e.dirname(e), $e.basename(e), t.result, !0, !0, !0), ++o + f == u && h();
              }, t.onerror = function () {
                f++, o + f == u && h();
              };
            }), a.onerror = r;
          }, n.onerror = r;
        }
      },
          ft = {
        DEFAULT_POLLMASK: 5,
        mappings: {},
        umask: 511,
        calculateAt: function calculateAt(e, t) {
          if ("/" !== t[0]) {
            var r;
            if (-100 === e) r = ot.cwd();else {
              var i = ot.getStream(e);
              if (!i) throw new ot.ErrnoError(8);
              r = i.path;
            }
            t = $e.join2(r, t);
          }

          return t;
        },
        doStat: function doStat(e, t, r) {
          try {
            var i = e(t);
          } catch (e) {
            if (e && e.node && $e.normalize(t) !== $e.normalize(ot.getPath(e.node))) return -54;
            throw e;
          }

          return se[r >> 2] = i.dev, se[r + 4 >> 2] = 0, se[r + 8 >> 2] = i.ino, se[r + 12 >> 2] = i.mode, se[r + 16 >> 2] = i.nlink, se[r + 20 >> 2] = i.uid, se[r + 24 >> 2] = i.gid, se[r + 28 >> 2] = i.rdev, se[r + 32 >> 2] = 0, He = [i.size >>> 0, (je = i.size, +ke(je) >= 1 ? je > 0 ? (0 | Ie(+Ue(je / 4294967296), 4294967295)) >>> 0 : ~~+Pe((je - +(~~je >>> 0)) / 4294967296) >>> 0 : 0)], se[r + 40 >> 2] = He[0], se[r + 44 >> 2] = He[1], se[r + 48 >> 2] = 4096, se[r + 52 >> 2] = i.blocks, se[r + 56 >> 2] = i.atime.getTime() / 1e3 | 0, se[r + 60 >> 2] = 0, se[r + 64 >> 2] = i.mtime.getTime() / 1e3 | 0, se[r + 68 >> 2] = 0, se[r + 72 >> 2] = i.ctime.getTime() / 1e3 | 0, se[r + 76 >> 2] = 0, He = [i.ino >>> 0, (je = i.ino, +ke(je) >= 1 ? je > 0 ? (0 | Ie(+Ue(je / 4294967296), 4294967295)) >>> 0 : ~~+Pe((je - +(~~je >>> 0)) / 4294967296) >>> 0 : 0)], se[r + 80 >> 2] = He[0], se[r + 84 >> 2] = He[1], 0;
        },
        doMsync: function doMsync(e, t, r, i) {
          var n = new Uint8Array(ie.subarray(e, e + r));
          ot.msync(t, n, 0, r, i);
        },
        doMkdir: function doMkdir(e, t) {
          return "/" === (e = $e.normalize(e))[e.length - 1] && (e = e.substr(0, e.length - 1)), ot.mkdir(e, t, 0), 0;
        },
        doMknod: function doMknod(e, t, r) {
          switch (61440 & t) {
            case 32768:
            case 8192:
            case 24576:
            case 4096:
            case 49152:
              break;

            default:
              return -28;
          }

          return ot.mknod(e, t, r), 0;
        },
        doReadlink: function doReadlink(e, t, r) {
          if (r <= 0) return -28;
          var i = ot.readlink(e),
              n = Math.min(r, J(i)),
              a = re[t + n];
          return Z(i, t, r + 1), re[t + n] = a, n;
        },
        doAccess: function doAccess(e, t) {
          if (-8 & t) return -28;
          var r;
          if (!(r = ot.lookupPath(e, {
            follow: !0
          }).node)) return -44;
          var i = "";
          return 4 & t && (i += "r"), 2 & t && (i += "w"), 1 & t && (i += "x"), i && ot.nodePermissions(r, i) ? -2 : 0;
        },
        doDup: function doDup(e, t, r) {
          var i = ot.getStream(r);
          return i && ot.close(i), ot.open(e, t, 0, r, r).fd;
        },
        doReadv: function doReadv(e, t, r, i) {
          for (var n = 0, a = 0; a < r; a++) {
            var s = se[t + 8 * a >> 2],
                o = se[t + (8 * a + 4) >> 2],
                f = ot.read(e, re, s, o, i);
            if (f < 0) return -1;
            if (n += f, f < o) break;
          }

          return n;
        },
        doWritev: function doWritev(e, t, r, i) {
          for (var n = 0, a = 0; a < r; a++) {
            var s = se[t + 8 * a >> 2],
                o = se[t + (8 * a + 4) >> 2],
                f = ot.write(e, re, s, o, i);
            if (f < 0) return -1;
            n += f;
          }

          return n;
        },
        varargs: 0,
        get: function get(e) {
          return ft.varargs += 4, se[ft.varargs - 4 >> 2];
        },
        getStr: function getStr() {
          return K(ft.get());
        },
        getStreamFromFD: function getStreamFromFD(e) {
          void 0 === e && (e = ft.get());
          var t = ot.getStream(e);
          if (!t) throw new ot.ErrnoError(8);
          return t;
        },
        get64: function get64() {
          var e = ft.get();
          ft.get();
          return e;
        },
        getZero: function getZero() {
          ft.get();
        }
      };

      function ut(e, t) {
        ft.varargs = t;

        try {
          var r = ft.getStreamFromFD();

          switch (ft.get()) {
            case 0:
              return (i = ft.get()) < 0 ? -28 : ot.open(r.path, r.flags, 0, i).fd;

            case 1:
            case 2:
              return 0;

            case 3:
              return r.flags;

            case 4:
              var i = ft.get();
              return r.flags |= i, 0;

            case 12:
              i = ft.get();
              return ne[i + 0 >> 1] = 2, 0;

            case 13:
            case 14:
              return 0;

            case 16:
            case 8:
              return -28;

            case 9:
              return Qe(28), -1;

            default:
              return -28;
          }
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), -e.errno;
        }
      }

      function ht(e, t) {
        ft.varargs = t;

        try {
          var r = ft.getStreamFromFD(),
              i = ft.get(),
              n = ft.get();
          return ot.read(r, re, i, n);
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), -e.errno;
        }
      }

      function ct(e, t) {
        ft.varargs = t;

        try {
          var r = ft.getStr(),
              i = ft.get(),
              n = ft.get();
          return ot.open(r, i, n).fd;
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), -e.errno;
        }
      }

      function dt(e) {
        try {
          var t = ft.getStreamFromFD(e);
          return ot.close(t), 0;
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), e.errno;
        }
      }

      function lt() {
        return dt.apply(null, arguments);
      }

      function pt(e, t) {
        try {
          var r = ft.getStreamFromFD(e),
              i = r.tty ? 2 : ot.isDir(r.mode) ? 3 : ot.isLink(r.mode) ? 7 : 4;
          return re[t >> 0] = i, 0;
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), e.errno;
        }
      }

      function mt() {
        return pt.apply(null, arguments);
      }

      function bt(e, t, r, i, n) {
        try {
          var a = ft.getStreamFromFD(e),
              s = 4294967296 * r + (t >>> 0);
          return s <= -9007199254740992 || s >= 9007199254740992 ? -61 : (ot.llseek(a, s, i), He = [a.position >>> 0, (je = a.position, +ke(je) >= 1 ? je > 0 ? (0 | Ie(+Ue(je / 4294967296), 4294967295)) >>> 0 : ~~+Pe((je - +(~~je >>> 0)) / 4294967296) >>> 0 : 0)], se[n >> 2] = He[0], se[n + 4 >> 2] = He[1], a.getdents && 0 === s && 0 === i && (a.getdents = null), 0);
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), e.errno;
        }
      }

      function yt() {
        return bt.apply(null, arguments);
      }

      function gt(e, t, r, i) {
        try {
          var n = ft.getStreamFromFD(e),
              a = ft.doWritev(n, t, r);
          return se[i >> 2] = a, 0;
        } catch (e) {
          return void 0 !== ot && e instanceof ot.ErrnoError || Ne(e), e.errno;
        }
      }

      function _t() {
        return gt.apply(null, arguments);
      }

      function vt(e) {
        delete Ut.xhrs[e - 1];
      }

      function wt() {
        Ne();
      }

      function Et() {
        return void 0 === Et.start && (Et.start = Date.now()), 1e3 * (Date.now() - Et.start) | 0;
      }

      function St() {
        Ne();
      }

      function At() {
        return l || "undefined" != typeof dateNow || "object" === ("undefined" == typeof performance ? "undefined" : a(performance)) && performance && "function" == typeof performance.now;
      }

      function xt(e, t) {
        var r;
        if (0 === e) r = Date.now();else {
          if (1 !== e || !At()) return Qe(28), -1;
          r = St();
        }
        return se[t >> 2] = r / 1e3 | 0, se[t + 4 >> 2] = r % 1e3 * 1e3 * 1e3 | 0, 0;
      }

      function Mt() {
        return re.length;
      }

      function Tt() {
        return !d;
      }

      function kt(e) {
        try {
          return C.grow(e - te.byteLength + 65535 >> 16), de(C.buffer), 1;
        } catch (e) {}
      }

      function Pt(e) {
        var t = Mt();
        if (e > 2147418112) return !1;

        for (var r = Math.max(t, 16777216); r < e;) {
          r = r <= 536870912 ? ce(2 * r, 65536) : Math.min(ce((3 * r + 2147483648) / 4, 65536), 2147418112);
        }

        return !!kt(r);
      }

      var Ut = {
        xhrs: [],
        setu64: function setu64(e, t) {
          oe[e >> 2] = t, oe[e + 4 >> 2] = t / 4294967296 | 0;
        },
        openDatabase: function openDatabase(e, t, r, i) {
          try {
            var n = indexedDB.open(e, t);
          } catch (e) {
            return i(e);
          }

          n.onupgradeneeded = function (e) {
            var t = e.target.result;
            t.objectStoreNames.contains("FILES") && t.deleteObjectStore("FILES"), t.createObjectStore("FILES");
          }, n.onsuccess = function (e) {
            r(e.target.result);
          }, n.onerror = function (e) {
            i(e);
          };
        },
        staticInit: function staticInit() {
          var e = "undefined" == typeof ENVIRONMENT_IS_FETCH_WORKER;
          Ut.openDatabase("emscripten_filesystem", 1, function (t) {
            Ut.dbInstance = t, e && Fe();
          }, function () {
            Ut.dbInstance = !1, e && Fe();
          }), "undefined" != typeof ENVIRONMENT_IS_FETCH_WORKER && ENVIRONMENT_IS_FETCH_WORKER || Le();
        }
      };

      function It(e, t, r, i, n) {
        var a = oe[e + 8 >> 2];

        if (a) {
          var s = K(a),
              o = e + 112,
              f = K(o);
          f || (f = "GET");
          oe[o + 32 >> 2];

          var u = oe[o + 52 >> 2],
              h = oe[o + 56 >> 2],
              c = !!oe[o + 60 >> 2],
              d = (oe[o + 64 >> 2], oe[o + 68 >> 2]),
              l = oe[o + 72 >> 2],
              p = oe[o + 76 >> 2],
              m = oe[o + 80 >> 2],
              b = oe[o + 84 >> 2],
              y = oe[o + 88 >> 2],
              g = !!(1 & u),
              _ = !!(2 & u),
              v = !!(64 & u),
              w = d ? K(d) : void 0,
              E = l ? K(l) : void 0,
              S = m ? K(m) : void 0,
              A = new XMLHttpRequest();

          if (A.withCredentials = c, A.open(f, s, !v, w, E), v || (A.timeout = h), A.url_ = s, N(!_, "streaming uses moz-chunked-arraybuffer which is no longer supported; TODO: rewrite using fetch()"), A.responseType = "arraybuffer", m && A.overrideMimeType(S), p) for (;;) {
            var x = oe[p >> 2];
            if (!x) break;
            var M = oe[p + 4 >> 2];
            if (!M) break;
            p += 8;
            var T = K(x),
                k = K(M);
            A.setRequestHeader(T, k);
          }
          Ut.xhrs.push(A);
          var P = Ut.xhrs.length;
          oe[e + 0 >> 2] = P;
          var U = b && y ? ie.slice(b, b + y) : null;
          A.onload = function (i) {
            var n = A.response ? A.response.byteLength : 0,
                a = 0,
                s = 0;
            g && !_ && (a = ri(s = n), ie.set(new Uint8Array(A.response), a)), oe[e + 12 >> 2] = a, Ut.setu64(e + 16, s), Ut.setu64(e + 24, 0), n && Ut.setu64(e + 32, n), ae[e + 40 >> 1] = A.readyState, 4 === A.readyState && 0 === A.status && (A.status = n > 0 ? 200 : 404), ae[e + 42 >> 1] = A.status, A.statusText && Z(A.statusText, e + 44, 64), A.status >= 200 && A.status < 300 ? t && t(e, A, i) : r && r(e, A, i);
          }, A.onerror = function (t) {
            var i = A.status;
            4 === A.readyState && 0 === i && (i = 404), oe[e + 12 >> 2] = 0, Ut.setu64(e + 16, 0), Ut.setu64(e + 24, 0), Ut.setu64(e + 32, 0), ae[e + 40 >> 1] = A.readyState, ae[e + 42 >> 1] = i, r && r(e, A, t);
          }, A.ontimeout = function (t) {
            r && r(e, A, t);
          }, A.onprogress = function (t) {
            var r = g && _ && A.response ? A.response.byteLength : 0,
                n = 0;
            g && _ && (n = ri(r), ie.set(new Uint8Array(A.response), n)), oe[e + 12 >> 2] = n, Ut.setu64(e + 16, r), Ut.setu64(e + 24, t.loaded - r), Ut.setu64(e + 32, t.total), ae[e + 40 >> 1] = A.readyState, A.readyState >= 3 && 0 === A.status && t.loaded > 0 && (A.status = 200), ae[e + 42 >> 1] = A.status, A.statusText && Z(A.statusText, e + 44, 64), i && i(e, A, t);
          }, A.onreadystatechange = function (t) {
            ae[e + 40 >> 1] = A.readyState, A.readyState >= 2 && (ae[e + 42 >> 1] = A.status), n && n(e, A, t);
          };

          try {
            A.send(U);
          } catch (t) {
            r && r(e, A, t);
          }
        } else r(e, 0, "no url specified!");
      }

      function Ct(e, t, r, i, n) {
        if (e) {
          var a = oe[t + 112 + 64 >> 2];
          a || (a = oe[t + 8 >> 2]);
          var s = K(a);

          try {
            var o = e.transaction(["FILES"], "readwrite").objectStore("FILES").put(r, s);
            o.onsuccess = function (e) {
              ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 200, Z("OK", t + 44, 64), i(t, 0, s);
            }, o.onerror = function (e) {
              ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 413, Z("Payload Too Large", t + 44, 64), n(t, 0, e);
            };
          } catch (e) {
            n(t, 0, e);
          }
        } else n(t, 0, "IndexedDB not available!");
      }

      function Rt(e, t, r, i) {
        if (e) {
          var n = oe[t + 112 + 64 >> 2];
          n || (n = oe[t + 8 >> 2]);
          var a = K(n);

          try {
            var s = e.transaction(["FILES"], "readonly").objectStore("FILES").get(a);
            s.onsuccess = function (e) {
              if (e.target.result) {
                var n = e.target.result,
                    a = n.byteLength || n.length,
                    s = ri(a);
                ie.set(new Uint8Array(n), s), oe[t + 12 >> 2] = s, Ut.setu64(t + 16, a), Ut.setu64(t + 24, 0), Ut.setu64(t + 32, a), ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 200, Z("OK", t + 44, 64), r(t, 0, n);
              } else ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 404, Z("Not Found", t + 44, 64), i(t, 0, "no data");
            }, s.onerror = function (e) {
              ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 404, Z("Not Found", t + 44, 64), i(t, 0, e);
            };
          } catch (e) {
            i(t, 0, e);
          }
        } else i(t, 0, "IndexedDB not available!");
      }

      function Bt(e, t, r, i) {
        if (e) {
          var n = oe[t + 112 + 64 >> 2];
          n || (n = oe[t + 8 >> 2]);
          var a = K(n);

          try {
            var s = e.transaction(["FILES"], "readwrite").objectStore("FILES")["delete"](a);
            s.onsuccess = function (e) {
              var i = e.target.result;
              oe[t + 12 >> 2] = 0, Ut.setu64(t + 16, 0), Ut.setu64(t + 24, 0), Ut.setu64(t + 32, 0), ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 200, Z("OK", t + 44, 64), r(t, 0, i);
            }, s.onerror = function (e) {
              ae[t + 40 >> 1] = 4, ae[t + 42 >> 1] = 404, Z("Not Found", t + 44, 64), i(t, 0, e);
            };
          } catch (e) {
            i(t, 0, e);
          }
        } else i(t, 0, "IndexedDB not available!");
      }

      function Dt(e, t, r, i, n) {
        void 0 !== I && (I = !0);

        var a = e + 112,
            s = K(a),
            o = oe[a + 36 >> 2],
            f = oe[a + 40 >> 2],
            u = oe[a + 44 >> 2],
            h = oe[a + 48 >> 2],
            c = oe[a + 52 >> 2],
            d = !!(4 & c),
            l = !!(32 & c),
            p = !!(16 & c),
            m = function m(e, r, i) {
          o ? si(o, e) : t && t(e);
        },
            b = function b(e, t, r) {
          u ? si(u, e) : i && i(e);
        },
            y = function y(e, t, i) {
          f ? si(f, e) : r && r(e);
        },
            g = function g(e, t, r) {
          h ? si(h, e) : n && n(e);
        },
            _ = function _(e, r, i) {
          Ct(Ut.dbInstance, e, r.response, function (e, r, i) {
            o ? si(o, e) : t && t(e);
          }, function (e, r, i) {
            o ? si(o, e) : t && t(e);
          });
        };

        if ("EM_IDB_STORE" === s) {
          var v = oe[a + 84 >> 2];
          Ct(Ut.dbInstance, e, ie.slice(v, v + oe[a + 88 >> 2]), m, y);
        } else if ("EM_IDB_DELETE" === s) Bt(Ut.dbInstance, e, m, y);else if (p) {
          if (l) return 0;
          It(e, d ? _ : m, y, b, g);
        } else Rt(Ut.dbInstance, e, m, l ? y : d ? function (e, t, r) {
          It(e, _, y, b, g);
        } : function (e, t, r) {
          It(e, m, y, b, g);
        });

        return e;
      }

      var Lt = ke;

      function Ft(e) {
        return 0 === e ? 0 : (e = K(e), Ze.hasOwnProperty(e) ? (Ft.ret && ti(Ft.ret), Ft.ret = Q(Ze[e]), Ft.ret) : 0);
      }

      function Nt(e) {
        var t = Date.now();
        return se[e >> 2] = t / 1e3 | 0, se[e + 4 >> 2] = t % 1e3 * 1e3 | 0, 0;
      }

      var Ot = (Z("GMT", 1124976, 4), 1124976);

      function zt(e, t) {
        var r = new Date(1e3 * se[e >> 2]);
        se[t >> 2] = r.getUTCSeconds(), se[t + 4 >> 2] = r.getUTCMinutes(), se[t + 8 >> 2] = r.getUTCHours(), se[t + 12 >> 2] = r.getUTCDate(), se[t + 16 >> 2] = r.getUTCMonth(), se[t + 20 >> 2] = r.getUTCFullYear() - 1900, se[t + 24 >> 2] = r.getUTCDay(), se[t + 36 >> 2] = 0, se[t + 32 >> 2] = 0;
        var i = Date.UTC(r.getUTCFullYear(), 0, 1, 0, 0, 0, 0),
            n = (r.getTime() - i) / 864e5 | 0;
        return se[t + 28 >> 2] = n, se[t + 40 >> 2] = Ot, t;
      }

      function jt(e) {
        return Math.pow(2, e);
      }

      function Ht(e) {
        return jt(e);
      }

      function Vt(e) {
        return Math.log(e) / Math.LN2;
      }

      function Yt(e) {
        var t = qt,
            r = t.LLVM_SAVEDSTACKS[e];
        t.LLVM_SAVEDSTACKS.splice(e, 1), ni(r);
      }

      function qt() {
        var e = qt;
        return e.LLVM_SAVEDSTACKS || (e.LLVM_SAVEDSTACKS = []), e.LLVM_SAVEDSTACKS.push(ai()), e.LLVM_SAVEDSTACKS.length - 1;
      }

      var Gt = Ce;

      function Wt() {
        if (!Wt.called) {
          Wt.called = !0, se[$r() >> 2] = 60 * new Date().getTimezoneOffset();
          var e = new Date().getFullYear(),
              t = new Date(e, 0, 1),
              r = new Date(e, 6, 1);
          se[Qr() >> 2] = Number(t.getTimezoneOffset() != r.getTimezoneOffset());
          var i = o(t),
              n = o(r),
              a = Y(or(i), "i8", H),
              s = Y(or(n), "i8", H);
          r.getTimezoneOffset() < t.getTimezoneOffset() ? (se[ei() >> 2] = a, se[ei() + 4 >> 2] = s) : (se[ei() >> 2] = s, se[ei() + 4 >> 2] = a);
        }

        function o(e) {
          var t = e.toTimeString().match(/\(([A-Za-z ]+)\)$/);
          return t ? t[1] : "GMT";
        }
      }

      function Kt(e, t) {
        Wt();
        var r = new Date(1e3 * se[e >> 2]);
        se[t >> 2] = r.getSeconds(), se[t + 4 >> 2] = r.getMinutes(), se[t + 8 >> 2] = r.getHours(), se[t + 12 >> 2] = r.getDate(), se[t + 16 >> 2] = r.getMonth(), se[t + 20 >> 2] = r.getFullYear() - 1900, se[t + 24 >> 2] = r.getDay();
        var i = new Date(r.getFullYear(), 0, 1),
            n = (r.getTime() - i.getTime()) / 864e5 | 0;
        se[t + 28 >> 2] = n, se[t + 36 >> 2] = -60 * r.getTimezoneOffset();
        var a = new Date(r.getFullYear(), 6, 1).getTimezoneOffset(),
            s = i.getTimezoneOffset(),
            o = 0 | (a != s && r.getTimezoneOffset() == Math.min(s, a));
        se[t + 32 >> 2] = o;
        var f = se[ei() + (o ? 4 : 0) >> 2];
        return se[t + 40 >> 2] = f, t;
      }

      function Xt(e, t, r) {
        ie.set(ie.subarray(t, t + r), e);
      }

      function Zt(e) {
        var t = e / 1e3;
        if ((c || d) && self.performance && self.performance.now) for (var r = self.performance.now(); self.performance.now() - r < t;) {
          ;
        } else for (r = Date.now(); Date.now() - r < t;) {
          ;
        }
        return 0;
      }

      function Jt(e, t) {
        if (0 === e) return Qe(28), -1;
        var r = se[e >> 2],
            i = se[e + 4 >> 2];
        return i < 0 || i > 999999999 || r < 0 ? (Qe(28), -1) : (0 !== t && (se[t >> 2] = 0, se[t + 4 >> 2] = 0), Zt(1e6 * r + i / 1e3));
      }

      function Qt(e) {
        return e % 4 == 0 && (e % 100 != 0 || e % 400 == 0);
      }

      function $t(e, t) {
        for (var r = 0, i = 0; i <= t; r += e[i++]) {
          ;
        }

        return r;
      }

      var er = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
          tr = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

      function rr(e, t) {
        for (var r = new Date(e.getTime()); t > 0;) {
          var i = Qt(r.getFullYear()),
              n = r.getMonth(),
              a = (i ? er : tr)[n];
          if (!(t > a - r.getDate())) return r.setDate(r.getDate() + t), r;
          t -= a - r.getDate() + 1, r.setDate(1), n < 11 ? r.setMonth(n + 1) : (r.setMonth(0), r.setFullYear(r.getFullYear() + 1));
        }

        return r;
      }

      function ir(e, t, r, i) {
        var n = se[i + 40 >> 2],
            a = {
          tm_sec: se[i >> 2],
          tm_min: se[i + 4 >> 2],
          tm_hour: se[i + 8 >> 2],
          tm_mday: se[i + 12 >> 2],
          tm_mon: se[i + 16 >> 2],
          tm_year: se[i + 20 >> 2],
          tm_wday: se[i + 24 >> 2],
          tm_yday: se[i + 28 >> 2],
          tm_isdst: se[i + 32 >> 2],
          tm_gmtoff: se[i + 36 >> 2],
          tm_zone: n ? K(n) : ""
        },
            s = K(r),
            o = {
          "%c": "%a %b %d %H:%M:%S %Y",
          "%D": "%m/%d/%y",
          "%F": "%Y-%m-%d",
          "%h": "%b",
          "%r": "%I:%M:%S %p",
          "%R": "%H:%M",
          "%T": "%H:%M:%S",
          "%x": "%m/%d/%y",
          "%X": "%H:%M:%S",
          "%Ec": "%c",
          "%EC": "%C",
          "%Ex": "%m/%d/%y",
          "%EX": "%H:%M:%S",
          "%Ey": "%y",
          "%EY": "%Y",
          "%Od": "%d",
          "%Oe": "%e",
          "%OH": "%H",
          "%OI": "%I",
          "%Om": "%m",
          "%OM": "%M",
          "%OS": "%S",
          "%Ou": "%u",
          "%OU": "%U",
          "%OV": "%V",
          "%Ow": "%w",
          "%OW": "%W",
          "%Oy": "%y"
        };

        for (var f in o) {
          s = s.replace(new RegExp(f, "g"), o[f]);
        }

        var u = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            h = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        function c(e, t, r) {
          for (var i = "number" == typeof e ? e.toString() : e || ""; i.length < t;) {
            i = r[0] + i;
          }

          return i;
        }

        function _d(e, t) {
          return c(e, t, "0");
        }

        function l(e, t) {
          function r(e) {
            return e < 0 ? -1 : e > 0 ? 1 : 0;
          }

          var i;
          return 0 === (i = r(e.getFullYear() - t.getFullYear())) && 0 === (i = r(e.getMonth() - t.getMonth())) && (i = r(e.getDate() - t.getDate())), i;
        }

        function p(e) {
          switch (e.getDay()) {
            case 0:
              return new Date(e.getFullYear() - 1, 11, 29);

            case 1:
              return e;

            case 2:
              return new Date(e.getFullYear(), 0, 3);

            case 3:
              return new Date(e.getFullYear(), 0, 2);

            case 4:
              return new Date(e.getFullYear(), 0, 1);

            case 5:
              return new Date(e.getFullYear() - 1, 11, 31);

            case 6:
              return new Date(e.getFullYear() - 1, 11, 30);
          }
        }

        function m(e) {
          var t = rr(new Date(e.tm_year + 1900, 0, 1), e.tm_yday),
              r = new Date(t.getFullYear(), 0, 4),
              i = new Date(t.getFullYear() + 1, 0, 4),
              n = p(r),
              a = p(i);
          return l(n, t) <= 0 ? l(a, t) <= 0 ? t.getFullYear() + 1 : t.getFullYear() : t.getFullYear() - 1;
        }

        var b = {
          "%a": function a(e) {
            return u[e.tm_wday].substring(0, 3);
          },
          "%A": function A(e) {
            return u[e.tm_wday];
          },
          "%b": function b(e) {
            return h[e.tm_mon].substring(0, 3);
          },
          "%B": function B(e) {
            return h[e.tm_mon];
          },
          "%C": function C(e) {
            return _d((e.tm_year + 1900) / 100 | 0, 2);
          },
          "%d": function d(e) {
            return _d(e.tm_mday, 2);
          },
          "%e": function e(_e10) {
            return c(_e10.tm_mday, 2, " ");
          },
          "%g": function g(e) {
            return m(e).toString().substring(2);
          },
          "%G": function G(e) {
            return m(e);
          },
          "%H": function H(e) {
            return _d(e.tm_hour, 2);
          },
          "%I": function I(e) {
            var t = e.tm_hour;
            return 0 == t ? t = 12 : t > 12 && (t -= 12), _d(t, 2);
          },
          "%j": function j(e) {
            return _d(e.tm_mday + $t(Qt(e.tm_year + 1900) ? er : tr, e.tm_mon - 1), 3);
          },
          "%m": function m(e) {
            return _d(e.tm_mon + 1, 2);
          },
          "%M": function M(e) {
            return _d(e.tm_min, 2);
          },
          "%n": function n() {
            return "\n";
          },
          "%p": function p(e) {
            return e.tm_hour >= 0 && e.tm_hour < 12 ? "AM" : "PM";
          },
          "%S": function S(e) {
            return _d(e.tm_sec, 2);
          },
          "%t": function t() {
            return "\t";
          },
          "%u": function u(e) {
            return e.tm_wday || 7;
          },
          "%U": function U(e) {
            var t = new Date(e.tm_year + 1900, 0, 1),
                r = 0 === t.getDay() ? t : rr(t, 7 - t.getDay()),
                i = new Date(e.tm_year + 1900, e.tm_mon, e.tm_mday);

            if (l(r, i) < 0) {
              var n = $t(Qt(i.getFullYear()) ? er : tr, i.getMonth() - 1) - 31,
                  a = 31 - r.getDate() + n + i.getDate();
              return _d(Math.ceil(a / 7), 2);
            }

            return 0 === l(r, t) ? "01" : "00";
          },
          "%V": function V(e) {
            var t,
                r = new Date(e.tm_year + 1900, 0, 4),
                i = new Date(e.tm_year + 1901, 0, 4),
                n = p(r),
                a = p(i),
                s = rr(new Date(e.tm_year + 1900, 0, 1), e.tm_yday);
            return l(s, n) < 0 ? "53" : l(a, s) <= 0 ? "01" : (t = n.getFullYear() < e.tm_year + 1900 ? e.tm_yday + 32 - n.getDate() : e.tm_yday + 1 - n.getDate(), _d(Math.ceil(t / 7), 2));
          },
          "%w": function w(e) {
            return e.tm_wday;
          },
          "%W": function W(e) {
            var t = new Date(e.tm_year, 0, 1),
                r = 1 === t.getDay() ? t : rr(t, 0 === t.getDay() ? 1 : 7 - t.getDay() + 1),
                i = new Date(e.tm_year + 1900, e.tm_mon, e.tm_mday);

            if (l(r, i) < 0) {
              var n = $t(Qt(i.getFullYear()) ? er : tr, i.getMonth() - 1) - 31,
                  a = 31 - r.getDate() + n + i.getDate();
              return _d(Math.ceil(a / 7), 2);
            }

            return 0 === l(r, t) ? "01" : "00";
          },
          "%y": function y(e) {
            return (e.tm_year + 1900).toString().substring(2);
          },
          "%Y": function Y(e) {
            return e.tm_year + 1900;
          },
          "%z": function z(e) {
            var t = e.tm_gmtoff,
                r = t >= 0;
            return t = (t = Math.abs(t) / 60) / 60 * 100 + t % 60, (r ? "+" : "-") + String("0000" + t).slice(-4);
          },
          "%Z": function Z(e) {
            return e.tm_zone;
          },
          "%%": function _() {
            return "%";
          }
        };

        for (var f in b) {
          s.indexOf(f) >= 0 && (s = s.replace(new RegExp(f, "g"), b[f](a)));
        }

        var y = or(s, !1);
        return y.length > t ? 0 : ($(y, e), y.length - 1);
      }

      function nr(e) {
        var t = Date.now() / 1e3 | 0;
        return e && (se[e >> 2] = t), t;
      }

      if (ot.staticInit(), p) {
        var ar = e("fs"),
            sr = e("path");
        at.staticInit();
      }

      function or(e, t, r) {
        var i = r > 0 ? r : J(e) + 1,
            n = new Array(i),
            a = X(e, n, 0, n.length);
        return t && (n.length = a), n;
      }

      function fr(e, t) {
        return k[e](t);
      }

      function ur(e, t, r) {
        return k[e](t, r);
      }

      function hr(e, t, r, i) {
        return k[e](t, r, i);
      }

      function cr(e, t, r) {
        return k[e](t, r);
      }

      function dr(e, t, r, i) {
        return k[e](t, r, i);
      }

      function lr(e, t) {
        return k[e](t);
      }

      function pr(e, t, r, i, n, a, s) {
        return k[e](t, r, i, n, a, s);
      }

      function mr(e, t, r) {
        return k[e](t, r);
      }

      function br(e, t, r, i) {
        return k[e](t, r, i);
      }

      function yr(e, t, r, i, n) {
        return k[e](t, r, i, n);
      }

      function gr(e, t, r, i, n, a) {
        return k[e](t, r, i, n, a);
      }

      function _r(e, t, r, i, n, a, s) {
        return k[e](t, r, i, n, a, s);
      }

      function vr(e, t, r, i, n, a, s, o) {
        return k[e](t, r, i, n, a, s, o);
      }

      function wr(e, t, r, i, n, a) {
        return k[e](t, r, i, n, a);
      }

      function Er(e, t, r, i, n) {
        return k[e](t, r, i, n);
      }

      function Sr(e, t, r, i, n) {
        return k[e](t, r, i, n);
      }

      function Ar(e, t, r, i, n) {
        return k[e](t, r, i, n);
      }

      function xr(e, t, r, i) {
        return k[e](t, r, i);
      }

      function Mr(e) {
        k[e]();
      }

      function Tr(e, t, r, i, n, a, s, o, f, u) {
        k[e](t, r, i, n, a, s, o, f, u);
      }

      function kr(e, t) {
        k[e](t);
      }

      function Pr(e, t, r) {
        k[e](t, r);
      }

      function Ur(e, t, r, i, n) {
        k[e](t, r, i, n);
      }

      function Ir(e, t, r, i, n) {
        k[e](t, r, i, n);
      }

      function Cr(e, t, r, i) {
        k[e](t, r, i);
      }

      function Rr(e, t, r, i, n) {
        k[e](t, r, i, n);
      }

      function Br(e, t, r, i, n, a) {
        k[e](t, r, i, n, a);
      }

      function Dr(e, t, r, i, n, a, s, o) {
        k[e](t, r, i, n, a, s, o);
      }

      function Lr(e, t, r, i, n, a) {
        k[e](t, r, i, n, a);
      }

      function Fr(e, t, r, i, n, a, s) {
        k[e](t, r, i, n, a, s);
      }

      function Nr(e, t, r, i, n, a, s, o, f) {
        k[e](t, r, i, n, a, s, o, f);
      }

      function Or(e, t, r, i, n, a, s, o) {
        k[e](t, r, i, n, a, s, o);
      }

      function zr(e, t, r, i, n, a, s, o, f) {
        k[e](t, r, i, n, a, s, o, f);
      }

      function jr(e, t, r, i, n, a, s, o, f, u) {
        k[e](t, r, i, n, a, s, o, f, u);
      }

      function Hr(e, t, r, i, n, a, s, o, f, u) {
        k[e](t, r, i, n, a, s, o, f, u);
      }

      function Vr(e, t, r, i, n, a, s, o, f, u, h) {
        k[e](t, r, i, n, a, s, o, f, u, h);
      }

      function Yr(e, t, r, i, n, a, s, o, f, u, h, c) {
        k[e](t, r, i, n, a, s, o, f, u, h, c);
      }

      function qr(e, t, r, i, n, a, s, o, f, u, h, c, d) {
        k[e](t, r, i, n, a, s, o, f, u, h, c, d);
      }

      function Gr(e, t, r, i, n, a, s, o, f, u, h, c, d, l, p) {
        k[e](t, r, i, n, a, s, o, f, u, h, c, d, l, p);
      }

      St = l ? function () {
        var e = r.hrtime();
        return 1e3 * e[0] + e[1] / 1e6;
      } : "undefined" != typeof dateNow ? dateNow : "object" === ("undefined" == typeof performance ? "undefined" : a(performance)) && performance && "function" == typeof performance.now ? function () {
        return performance.now();
      } : Date.now, Ut.staticInit();
      var Wr = {},
          Kr = {
        qa: Je,
        S: ut,
        pa: ht,
        oa: ct,
        R: lt,
        na: mt,
        T: yt,
        ma: _t,
        la: vt,
        __memory_base: 1024,
        __table_base: 0,
        a: wt,
        ka: Et,
        ja: xt,
        ia: Mt,
        ha: Tt,
        ga: Xt,
        fa: Pt,
        ea: Dt,
        da: Lt,
        K: Ft,
        Q: Nt,
        ca: zt,
        P: Ht,
        M: Vt,
        ba: Yt,
        aa: qt,
        $: Gt,
        _: Kt,
        O: Jt,
        N: ir,
        Z: nr,
        b: Ne,
        L: B,
        J: fr,
        y: ur,
        n: hr,
        h: cr,
        g: dr,
        f: lr,
        e: pr,
        d: mr,
        c: br,
        I: yr,
        H: gr,
        G: _r,
        F: vr,
        Y: wr,
        X: Er,
        W: Sr,
        V: Ar,
        U: xr,
        E: Mr,
        D: Tr,
        C: kr,
        B: Pr,
        A: Ur,
        z: Ir,
        x: Cr,
        w: Rr,
        v: Br,
        u: Dr,
        t: Lr,
        s: Fr,
        r: Nr,
        q: Or,
        p: zr,
        o: jr,
        m: Hr,
        l: Vr,
        k: Yr,
        j: qr,
        i: Gr,
        memory: C,
        table: L
      },
          Xr = o.asm(Wr, Kr, te);
      o.asm = Xr;

      o._AVSniffStreamInit = function () {
        return o.asm.ra.apply(null, arguments);
      };

      var Zr,
          Jr = o.___emscripten_environ_constructor = function () {
        return o.asm.sa.apply(null, arguments);
      },
          Qr = (o.___errno_location = function () {
        return o.asm.ta.apply(null, arguments);
      }, o.__get_daylight = function () {
        return o.asm.ua.apply(null, arguments);
      }),
          $r = o.__get_timezone = function () {
        return o.asm.va.apply(null, arguments);
      },
          ei = o.__get_tzname = function () {
        return o.asm.wa.apply(null, arguments);
      },
          ti = (o._closeVideo = function () {
        return o.asm.xa.apply(null, arguments);
      }, o._decodeCodecContext = function () {
        return o.asm.ya.apply(null, arguments);
      }, o._demuxBox = function () {
        return o.asm.za.apply(null, arguments);
      }, o._exitMissile = function () {
        return o.asm.Aa.apply(null, arguments);
      }, o._exitTsMissile = function () {
        return o.asm.Ba.apply(null, arguments);
      }, o._free = function () {
        return o.asm.Ca.apply(null, arguments);
      }),
          ri = (o._getAudioCodecID = function () {
        return o.asm.Da.apply(null, arguments);
      }, o._getExtensionInfo = function () {
        return o.asm.Ea.apply(null, arguments);
      }, o._getMediaInfo = function () {
        return o.asm.Fa.apply(null, arguments);
      }, o._getPPS = function () {
        return o.asm.Ga.apply(null, arguments);
      }, o._getPPSLen = function () {
        return o.asm.Ha.apply(null, arguments);
      }, o._getPacket = function () {
        return o.asm.Ia.apply(null, arguments);
      }, o._getSEI = function () {
        return o.asm.Ja.apply(null, arguments);
      }, o._getSEILen = function () {
        return o.asm.Ka.apply(null, arguments);
      }, o._getSPS = function () {
        return o.asm.La.apply(null, arguments);
      }, o._getSPSLen = function () {
        return o.asm.Ma.apply(null, arguments);
      }, o._getSniffStreamPkg = function () {
        return o.asm.Na.apply(null, arguments);
      }, o._getVLC = function () {
        return o.asm.Oa.apply(null, arguments);
      }, o._getVLCLen = function () {
        return o.asm.Pa.apply(null, arguments);
      }, o._getVPS = function () {
        return o.asm.Qa.apply(null, arguments);
      }, o._getVPSLen = function () {
        return o.asm.Ra.apply(null, arguments);
      }, o._getVideoCodecID = function () {
        return o.asm.Sa.apply(null, arguments);
      }, o._initMissile = function () {
        return o.asm.Ta.apply(null, arguments);
      }, o._initTsMissile = function () {
        return o.asm.Ua.apply(null, arguments);
      }, o._initializeDecoder = function () {
        return o.asm.Va.apply(null, arguments);
      }, o._initializeDemuxer = function () {
        return o.asm.Wa.apply(null, arguments);
      }, o._initializeSniffStreamModule = function () {
        return o.asm.Xa.apply(null, arguments);
      }, o._malloc = function () {
        return o.asm.Ya.apply(null, arguments);
      }),
          ii = (o._pushSniffStreamData = function () {
        return o.asm.Za.apply(null, arguments);
      }, o._registerPlayer = function () {
        return o.asm._a.apply(null, arguments);
      }, o._release = function () {
        return o.asm.$a.apply(null, arguments);
      }, o._releaseSniffStream = function () {
        return o.asm.ab.apply(null, arguments);
      }, o._setCodecType = function () {
        return o.asm.bb.apply(null, arguments);
      }, o.stackAlloc = function () {
        return o.asm.eb.apply(null, arguments);
      }),
          ni = o.stackRestore = function () {
        return o.asm.fb.apply(null, arguments);
      },
          ai = o.stackSave = function () {
        return o.asm.gb.apply(null, arguments);
      },
          si = (o.dynCall_v = function () {
        return o.asm.cb.apply(null, arguments);
      }, o.dynCall_vi = function () {
        return o.asm.db.apply(null, arguments);
      });

      function oi(e) {
        this.name = "ExitStatus", this.message = "Program terminated with exit(" + e + ")", this.status = e;
      }

      function fi(e) {
        function t() {
          Zr || (Zr = !0, F || (Se(), Ae(), o.onRuntimeInitialized && o.onRuntimeInitialized(), xe()));
        }

        e = e || u, Re > 0 || (Ee(), Re > 0 || (o.setStatus ? (o.setStatus("Running..."), setTimeout(function () {
          setTimeout(function () {
            o.setStatus("");
          }, 1), t();
        }, 1)) : t()));
      }

      if (o.asm = Xr, o.ccall = z, o.cwrap = j, o.addFunction = P, De = function e() {
        Zr || fi(), Zr || (De = e);
      }, o.run = fi, o.preInit) for ("function" == typeof o.preInit && (o.preInit = [o.preInit]); o.preInit.length > 0;) {
        o.preInit.pop()();
      }
      I = !0, fi(), t.exports = o;
    }).call(this, e("_process"), e("buffer").Buffer, "/src/decoder");
  }, {
    _process: 157,
    buffer: 65,
    crypto: 74,
    fs: 63,
    path: 149
  }],
  215: [function (e, t, r) {
    "use strict";

    function i(e) {
      return function (e) {
        if (Array.isArray(e)) {
          for (var t = 0, r = new Array(e.length); t < e.length; t++) {
            r[t] = e[t];
          }

          return r;
        }
      }(e) || function (e) {
        if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e);
      }(e) || function () {
        throw new TypeError("Invalid attempt to spread non-iterable instance");
      }();
    }

    e("yuv-buffer"), e("yuv-canvas");

    var n = e("./missile.js"),
        a = e("./audio-core"),
        s = e("./cache"),
        o = e("./cacheYuv"),
        f = e("../render-engine/webgl-420p"),
        u = e("../consts"),
        h = e("../version"),
        c = function c() {
      return new Date().getTime();
    };

    t.exports = function (e) {
      var t = {
        config: {
          width: e.width || u.DEFAULT_WIDTH,
          height: e.height || u.DEFAULT_HEIGHT,
          fps: e.fps || u.DEFAULT_FPS,
          fixed: e.fixed || u.DEFAULT_FIXED,
          sampleRate: e.sampleRate || u.DEFAULT_SAMPLERATE,
          appendHevcType: e.appendHevcType || u.APPEND_TYPE_STREAM,
          frameDurMs: e.frameDur || u.DEFAULT_FRAME_DUR,
          playerId: e.playerId || u.DEFAILT_WEBGL_PLAY_ID,
          audioNone: e.audioNone || !1,
          token: e.token || null,
          videoCodec: e.videoCodec || u.CODEC_H265
        },
        vcodecerPtr: null,
        frameList: [],
        cacheYuvBuf: s(30),
        nowPacket: null,
        stream: new Uint8Array(),
        audio: null,
        durationMs: -1,
        videoPTS: 0,
        loop: null,
        debugYUVSwitch: !1,
        debugID: null,
        cacheLoop: null,
        playParams: {
          seekPos: -1,
          mode: u.PLAYER_MODE_VOD,
          accurateSeek: !0,
          seekEvent: !1,
          realPlay: !0
        },
        calcuteStartTime: -1,
        fix_poc_err_skip: 0,
        frameTime: 0,
        frameTimeSec: 0,
        preCostTime: 0,
        realVolume: 1,
        isPlaying: !1,
        isNewSeek: !1,
        isCheckDisplay: !1,
        isPlayLoadingFinish: 0,
        showScreen: !1,
        noCacheFrame: 0,
        onPlayingTime: null,
        onPlayingFinish: null,
        onSeekFinish: null,
        onLoadCache: null,
        onLoadCacheFinshed: null,
        onRender: null,
        setScreen: function setScreen() {
          var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          t.showScreen = e;
        },
        setSize: function setSize(e, r) {
          t.config.width = e || u.DEFAULT_WIDTH, t.config.height = r || u.DEFAULT_HEIGHT;
        },
        setFrameRate: function setFrameRate() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 25;
          t.config.fps = e, t.config.frameDurMs = 1e3 / e;
        },
        setDurationMs: function setDurationMs() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          t.durationMs = e, 0 == t.config.audioNone && t.audio.setDurationMs(e);
        },
        setPlayingCall: function setPlayingCall(e) {
          t.onPlayingTime = e;
        },
        setVoice: function setVoice(e) {
          t.realVolume = e, 0 == t.config.audioNone && t.audio.setVoice(t.realVolume);
        },
        isPlayingState: function isPlayingState() {
          return t.isPlaying;
        },
        appendAACFrame: function appendAACFrame(e) {
          return t.audio.addSample(e);
        },
        appendHevcFrame: function appendHevcFrame(e) {
          var r;
          t.config.appendHevcType == u.APPEND_TYPE_STREAM ? t.stream = new Uint8Array((r = i(t.stream)).concat.apply(r, i(e))) : t.config.appendHevcType == u.APPEND_TYPE_FRAME && t.frameList.push(e);
        },
        endAudio: function endAudio() {
          0 == t.config.audioNone && t.audio.stop();
        },
        cleanSample: function cleanSample() {
          0 == t.config.audioNone && t.audio.cleanQueue();
        },
        cleanVideoQueue: function cleanVideoQueue() {
          t.config.appendHevcType == u.APPEND_TYPE_STREAM ? t.stream = new Uint8Array() : t.config.appendHevcType == u.APPEND_TYPE_FRAME && (t.frameList = []);
        },
        cleanCacheYUV: function cleanCacheYUV() {
          t.cacheYuvBuf.cleanPipeline();
        },
        pause: function pause() {
          t.loop && window.clearInterval(t.loop), t.loop = null, 0 == t.config.audioNone && t.audio.pause(), t.isPlaying = !1;
        },
        checkFinished: function checkFinished() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u.PLAYER_MODE_VOD;
          return e == u.PLAYER_MODE_VOD && (t.videoPTS.toFixed(1) >= (t.durationMs - t.config.frameDurMs) / 1e3 || t.noCacheFrame >= 10) && (null != t.onPlayingFinish && t.onPlayingFinish(), !0);
        },
        seek: function seek(e) {
          var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
              i = t.isPlaying;
          t.nowPacket = null, t.pause(), t.cleanSample(), t.cleanVideoQueue(), t.cleanCacheYUV(), e && e(), t.isNewSeek = !0, t.videoPTS = parseInt(r.seekTime);
          var n = {
            seekPos: r.seekTime || -1,
            mode: r.mode || u.PLAYER_MODE_VOD,
            accurateSeek: r.accurateSeek || !0,
            seekEvent: r.seekEvent || !0,
            realPlay: i
          };
          t.play(n);
        },
        getNalu1Packet: function getNalu1Packet() {
          var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
              r = null,
              i = -1;
          if (t.config.appendHevcType == u.APPEND_TYPE_STREAM) r = t.nextNalu();else {
            if (t.config.appendHevcType != u.APPEND_TYPE_FRAME) return null;
            var n = t.frameList.shift();
            if (!n) return null;
            r = n.data, i = n.pts, e && (t.videoPTS = i);
          }
          return {
            nalBuf: r,
            pts: i
          };
        },
        decodeNalu1Frame: function decodeNalu1Frame(e, r) {
          var i = n._malloc(e.length);

          n.HEAP8.set(e, i);
          var a = parseInt(1e3 * r);
          n.cwrap("decodeCodecContext", "number", ["number", "number", "number", "number"])(t.vcodecerPtr, i, e.length, a);
          return n._free(i), !1;
        },
        cacheThread: function cacheThread() {
          t.cacheLoop = window.setInterval(function () {
            if (t.cacheYuvBuf.getState() != CACHE_APPEND_STATUS_CODE.FULL) {
              var e = t.getNalu1Packet(!1);

              if (null != e) {
                var r = e.nalBuf,
                    i = e.pts;
                t.decodeNalu1Frame(r, i, !0);
              }
            }
          }, 10);
        },
        loadCache: function loadCache() {
          if (!(t.frameList.length <= 3)) {
            var e = t.isPlaying;

            if (t.cacheYuvBuf.yuvCache.length <= 3) {
              t.pause(), null != t.onLoadCache && t.onLoadCache();
              var r = t.frameList.length > 30 ? 30 : t.frameList.length,
                  i = window.setInterval(function () {
                t.cacheYuvBuf.yuvCache.length >= r && (null != t.onLoadCacheFinshed && t.onLoadCacheFinshed(), window.clearInterval(i), i = null, e && t.play(t.playParams));
              }, 40);
            }
          }
        },
        playFunc: function playFunc() {
          if (t.playParams.seekEvent || c() - t.calcuteStartTime >= t.frameTime - t.preCostTime) {
            var e = !0;
            if (t.calcuteStartTime = c(), t.config.audioNone) t.playFrameYUV(e, t.playParams.accurateSeek);else {
              t.fix_poc_err_skip > 0 && (t.fix_poc_err_skip--, e = !1);
              var r = t.videoPTS - t.audio.getAlignVPTS();
              if (r > 0) return void (t.playParams.seekEvent && !t.config.audioNone && t.audio.setVoice(0));

              if (e) {
                if (!(e = -1 * r <= 1 * t.frameTimeSec)) {
                  for (var i = parseInt(r / t.frameTimeSec), n = 0; n < i; n++) {
                    t.playFrameYUV(!1, t.playParams.accurateSeek);
                  }

                  t.playFrameYUV(!0, t.playParams.accurateSeek);
                }

                t.playFrameYUV(e, t.playParams.accurateSeek);
              }
            }
          }

          t.playParams.seekEvent && (t.playParams.seekEvent = !1, t.onSeekFinish(), t.isPlaying || (t.playFrameYUV(!0, t.playParams.accurateSeek), t.pause()), t.config.audioNone || t.audio.setVoice(t.realVolume)), t.onPlayingTime && t.onPlayingTime(t.videoPTS), t.checkFinished(t.playParams.mode);
        },
        play: function play(e) {
          t.playParams = e, t.calcuteStartTime = c(), t.noCacheFrame = 0, t.isPlaying = t.playParams.realPlay, t.playParams.mode == u.PLAYER_MODE_NOTIME_LIVE ? (t.frameTime = 1e3 / t.config.fps, t.frameTimeSec = t.frameTime / 1e3, t.loop = window.setInterval(function () {
            var e = c();
            t.playFrameYUV(!0, t.playParams.accurateSeek), t.preCostTime = c() - e, t.preCostTime;
          }, t.frameTime)) : t.videoPTS >= t.playParams.seekPos && !t.isNewSeek || 0 === t.playParams.seekPos || 0 === t.playParams.seekPos ? (t.frameTime = 1e3 / t.config.fps, t.frameTimeSec = t.frameTime / 1e3, 0 == t.config.audioNone && t.audio.play(), t.realVolume = t.config.audioNone ? 0 : t.audio.voice, t.playParams.seekEvent && (t.fix_poc_err_skip = 10), t.loop = window.setInterval(function () {
            var e = c();
            t.playFunc(), t.preCostTime = c() - e, t.preCostTime;
          }, 1)) : (t.loop = window.setInterval(function () {
            t.playFrameYUV(!1, t.playParams.accurateSeek), t.checkFinished(t.playParams.mode) ? (window.clearInterval(t.loop), t.loop = null) : t.videoPTS >= t.playParams.seekPos && (window.clearInterval(t.loop), t.loop = null, t.play(t.playParams));
          }, 1), t.isNewSeek = !1);
        },
        stop: function stop() {
          t.endAudio(), t.loop && window.clearInterval(t.loop), t.loop = null, t.pause(), n.cwrap("release", "number", ["number"])(t.vcodecerPtr), n.cwrap("initializeDecoder", "number", ["number"])(t.vcodecerPtr), t.stream = new Uint8Array(), t.frameList.length = 0, t.durationMs = -1, t.videoPTS = 0, t.isPlaying = !1;
        },
        nextNalu: function nextNalu() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
          if (t.stream.length <= 4) return !1;

          for (var r = -1, i = 0; i < t.stream.length; i++) {
            if (i + 5 >= t.stream.length) {
              if (-1 == r) return !1;
              var n = t.stream.subarray(r);
              return t.stream = new Uint8Array(), n;
            }

            var a = "0 0 1" == t.stream.slice(0, 3).join(" "),
                s = "0 0 0 1" == t.stream.slice(0, 4).join(" ");

            if (a || s) {
              if (-1 == r) r = i;else {
                if (e <= 1) {
                  var o = t.stream.subarray(r, i);
                  return t.stream = t.stream.subarray(i), o;
                }

                e -= 1;
              }
              i += 3;
            }
          }

          return !1;
        },
        decodeSendPacket: function decodeSendPacket(e) {
          var r = n._malloc(e.length);

          n.HEAP8.set(e, r);
          var i = n.cwrap("decodeSendPacket", "number", ["number", "number", "number"])(t.vcodecerPtr, r, e.length);
          return n._free(r), i;
        },
        decodeRecvFrame: function decodeRecvFrame() {
          return n.cwrap("decodeRecv", "number", ["number"])(t.vcodecerPtr);
        },
        playFrameYUV: function playFrameYUV() {
          var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
              r = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              i = t.cacheYuvBuf.vYuv();
          if (null == i) return t.noCacheFrame += 1, e && !t.playParams.seekEvent && t.loadCache(), !1;
          t.noCacheFrame = 0;
          var n = i.pts;
          return t.videoPTS = n, (!e && r || e) && e && t.drawImage(i.width, i.height, i.imageBufferY, i.imageBufferB, i.imageBufferR), e && !t.playParams.seekEvent && t.isPlaying && t.loadCache(), !0;
        },
        drawImage: function drawImage(e, r, i, n, a) {
          if (t.canvas.width === e && t.canvas.height == r || (t.canvas.width = e, t.canvas.height = r), t.debugYUVSwitch) {
            var s = new Uint8Array(e * r * 3);
            s.set(i, 0), s.set(n, e * r), s.set(a, e * r + e / 2 * (r / 2));
            var o = s.buffer,
                u = new Blob([o]),
                h = window.URL.createObjectURL(u);
            alert(h), t.debugYUVSwitch = !1;
            var c = document.createElement("a");
            c.href = h, c.download = "test.yuv", document.body.appendChild(c), c.click(), c.remove(), window.URL.revokeObjectURL(h);
          }

          if (t.showScreen && null != t.onRender) t.onRender(e, r, i, n, a);else {
            if (!t.isCheckDisplay) t.checkDisplaySize(e, r);
            var d = e * r,
                l = e / 2 * (r / 2),
                p = new Uint8Array(d + 2 * l);
            p.set(i, 0), p.set(n, d), p.set(a, d + l), f.renderFrame(t.yuv, i, n, a, e, r);
          }
        },
        debugYUV: function debugYUV(e) {
          t.debugYUVSwitch = !0, t.debugID = e;
        },
        checkDisplaySize: function checkDisplaySize(e, r) {
          var i = e / t.config.width > r / t.config.height,
              n = (t.config.width / e).toFixed(2),
              a = (t.config.height / r).toFixed(2),
              s = i ? n : a,
              o = t.config.fixed,
              f = o ? t.config.width : parseInt(e * s),
              u = o ? t.config.height : parseInt(r * s);

          if (t.canvas.offsetWidth != f || t.canvas.offsetHeight != u) {
            var h = parseInt((t.canvasBox.offsetHeight - u) / 2),
                c = parseInt((t.canvasBox.offsetWidth - f) / 2);
            t.canvas.style.marginTop = h + "px", t.canvas.style.marginLeft = c + "px", t.canvas.style.width = f + "px", t.canvas.style.height = u + "px";
          }

          return t.isCheckDisplay = !0, [f, u];
        },
        makeWasm: function makeWasm() {
          if (null != t.config.token) {
            t.vcodecerPtr = n.cwrap("registerPlayer", "number", ["string", "string"])(t.config.token, h.PLAYER_VERSION);
            var e = n.addFunction(function (e, r, i, a, s, f, u, h, c) {
              var d = n.HEAPU8.subarray(e, e + a * h),
                  l = n.HEAPU8.subarray(r, r + s * h / 2),
                  p = n.HEAPU8.subarray(i, i + f * h / 2),
                  m = new Uint8Array(d),
                  b = new Uint8Array(l),
                  y = new Uint8Array(p),
                  g = 1 * c / 1e3,
                  _ = new o.CacheYuvStruct(g, a, h, m, b, y);

              t.cacheYuvBuf.appendCacheByCacheYuv(_);
            });
            n.cwrap("setCodecType", "number", ["number", "number", "number"])(t.vcodecerPtr, t.config.videoCodec, e);
            n.cwrap("initMissile", "number", ["number"])(t.vcodecerPtr);
            n.cwrap("initializeDecoder", "number", ["number"])(t.vcodecerPtr);
          } else alert("请输入TOKEN！Please set token param!");
        },
        makeIt: function makeIt() {
          var e = document.querySelector("div#" + t.config.playerId),
              r = document.createElement("canvas");
          r.style.width = e.clientWidth + "px", r.style.height = e.clientHeight + "px", r.style.top = "0px", r.style.left = "0px", e.appendChild(r), t.canvasBox = e, t.canvas = r, t.yuv = f.setupCanvas(r, {
            preserveDrawingBuffer: !1
          }), 0 == t.config.audioNone && (t.audio = a({
            sampleRate: t.config.sampleRate,
            appendType: t.config.appendHevcType
          })), t.isPlayLoadingFinish = 1;
        }
      };
      return t.makeWasm(), t.makeIt(), t.cacheThread(), t;
    };
  }, {
    "../consts": 205,
    "../render-engine/webgl-420p": 227,
    "../version": 230,
    "./audio-core": 206,
    "./cache": 210,
    "./cacheYuv": 211,
    "./missile.js": 214,
    "yuv-buffer": 197,
    "yuv-canvas": 204
  }],
  216: [function (e, t, r) {
    "use strict";

    var i = e("./bufferFrame");

    t.exports = function () {
      var e = {
        videoBuffer: [],
        audioBuffer: [],
        idrIdxBuffer: [],
        appendFrame: function appendFrame(t, r) {
          var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
              a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              s = new i.BufferFrame(t, a, r, n),
              o = parseInt(t);
          return n ? (e.videoBuffer.length - 1 >= o ? e.videoBuffer[o].push(s) : e.videoBuffer.push([s]), a && !e.idrIdxBuffer.includes(t) && e.idrIdxBuffer.push(t)) : e.audioBuffer.length - 1 >= o && null != e.audioBuffer[o] && null != e.audioBuffer[o] ? e.audioBuffer[o] && e.audioBuffer[o].push(s) : e.audioBuffer.push([s]), !0;
        },
        appendFrameByBufferFrame: function appendFrameByBufferFrame(t) {
          var r = t.pts,
              i = parseInt(r);
          return t.video ? (e.videoBuffer.length - 1 >= i ? e.videoBuffer[i].push(t) : e.videoBuffer.push([t]), isKey && !e.idrIdxBuffer.includes(r) && e.idrIdxBuffer.push(r)) : e.audioBuffer.length - 1 >= i ? e.audioBuffer[i].push(t) : e.audioBuffer.push([t]), !0;
        },
        cleanPipeline: function cleanPipeline() {
          e.videoBuffer.length = 0, e.audioBuffer.length = 0;
        },
        vFrame: function vFrame() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          if (!(t < 0 || t > e.videoBuffer.length - 1)) return e.videoBuffer[t];
        },
        aFrame: function aFrame() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          if (!(t < 0 || t > e.audioBuffer.length - 1)) return e.audioBuffer[t];
        },
        seekIDR: function seekIDR() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
          if (e.idrIdxBuffer, t < 0) return null;
          if (e.idrIdxBuffer.includes(t)) return t;

          for (var r = 0; r < e.idrIdxBuffer.length; r++) {
            if (r == e.idrIdxBuffer.length || e.idrIdxBuffer[r] < t && e.idrIdxBuffer[r + 1] > t) {
              for (var i = 1; i >= 0; i--) {
                var n = r - i;
                if (n >= 0) return e.idrIdxBuffer[n];
              }

              return e.idrIdxBuffer[r];
            }
          }
        }
      };
      return e;
    };
  }, {
    "./bufferFrame": 217
  }],
  217: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = function () {
      function e(t, r, i, n) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.pts = t, this.isKey = r, this.data = i, this.video = n;
      }

      var t, r, n;
      return t = e, (r = [{
        key: "setFrame",
        value: function value(e, t, r, i) {
          this.pts = e, this.isKey = t, this.data = r, this.video = i;
        }
      }]) && i(t.prototype, r), n && i(t, n), e;
    }();

    r.BufferFrame = n;
  }, {}],
  218: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = e("./m3u8base"),
        a = e("./mpegts/mpeg.js"),
        s = e("./bufferFrame"),
        o = e("./buffer"),
        f = e("../decoder/hevc-imp"),
        u = e("../consts"),
        h = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.hls = new n.M3u8Base(), this.mpegTsObj = new a.MPEG_JS({}), this.mpegTsWasmState = !1, this.mpegTsWasmRetryLoadTimes = 0, this.tsList = [], this.vStartTime = 0, this.aStartTime = 0, this.lockWait = {
          state: !1,
          lockMember: {
            dur: 0
          }
        }, this.timerFeed = null, this.timerTsWasm = null, this.seekPos = -1, this.vPreFramePTS = 0, this.aPreFramePTS = 0, this.aCodec = !1, this.durationMs = -1, this.bufObject = o(), this.fps = -1, this.sampleRate = -1, this.size = {
          width: -1,
          height: -1
        }, this.mediaInfo = null, this.extensionInfo = null, this.onReadyOBJ = null, this.onFinished = null, this.onDemuxed = null, this.onSamples = null;
      }

      var t, r, h;
      return t = e, (r = [{
        key: "demux",
        value: function value(e) {
          var t = this;
          this.vPreFramePTS = 0, this.aPreFramePTS = 0, this.hls.onTransportStream = function (e, r) {
            t.tsList.push({
              streamURI: e,
              streamDur: r
            });
          }, this.hls.onFinished = function (e) {
            e.type == u.PLAYER_IN_TYPE_M3U8_VOD ? t.durationMs = 1e3 * e.duration : t.durationMs = -1, null != t.onFinished && t.onFinished(t.onReadyOBJ, e);
          }, this.mpegTsObj.onDemuxed = function () {
            null == t.mediaInfo && (t.mediaInfo = t.mpegTsObj.readMediaInfo(), t.mediaInfo, t.aCodec = t.mediaInfo.aCodec, t.fps = t.mediaInfo.vFps, t.sampleRate = t.mediaInfo.sampleRate), null == t.extensionInfo && (t.extensionInfo = t.mpegTsObj.readExtensionInfo(), t.extensionInfo.vWidth > 0 && t.extensionInfo.vHeight > 0 && (t.size.width = t.extensionInfo.vWidth, t.size.height = t.extensionInfo.vHeight)), t.mediaInfo.duration, null != t.onDemuxed && t.onDemuxed(t.onReadyOBJ);

            for (var e = !1;;) {
              var r = t.mpegTsObj.readPacket();
              if (r.size <= 0) break;
              var i = r.dtime > 0 ? r.dtime : r.ptime;
              if (!(i < 0)) if (0 == r.type) {
                i <= t.vPreFramePTS && (e = !0);
                var n = f.PACK_NALU(r.layer),
                    a = 1 == r.keyframe,
                    o = 1 == e ? i + t.vStartTime : i,
                    u = new s.BufferFrame(o, a, n, !0);
                t.bufObject.appendFrame(u.pts, u.data, !0, u.isKey), t.vPreFramePTS = o, null != t.onSamples && t.onSamples(t.onReadyOBJ, u);
              } else if (i <= t.aPreFramePTS && (e = !0), "aac" == t.mediaInfo.aCodec) for (var h = r.data, c = 0; c < h.length; c++) {
                var d = h[c],
                    l = 1 == e ? d.ptime + t.vStartTime : i,
                    p = new s.BufferFrame(l, !0, d.data, !1);
                t.bufObject.appendFrameByBufferFrame(p), t.aPreFramePTS = l, null != t.onSamples && t.onSamples(t.onReadyOBJ, p);
              } else {
                var m = 1 == e ? i + t.vStartTime : i,
                    b = new s.BufferFrame(m, !0, r.data, !1);
                t.bufObject.appendFrameByBufferFrame(b), t.aPreFramePTS = m, null != t.onSamples && t.onSamples(t.onReadyOBJ, b);
              }
            }

            t.vStartTime += parseFloat(t.lockWait.lockMember.dur), t.aStartTime += parseFloat(t.lockWait.lockMember.dur), t.vStartTime, t.lockWait.state = !1;
          }, this.mpegTsObj.onReady = function () {
            t._onTsReady(e);
          }, t.mpegTsObj.initDemuxer(), this.timerTsWasm = window.setInterval(function () {
            t.mpegTsWasmState ? (window.clearInterval(t.timerTsWasm), t.timerTsWasm = null) : t.mpegTsWasmRetryLoadTimes >= 3 ? (t._onTsReady(e), window.clearInterval(t.timerTsWasm), t.timerTsWasm = null) : (t.mpegTsWasmRetryLoadTimes += 1, t.mpegTsObj.initDemuxer());
          }, 3e3);
        }
      }, {
        key: "_onTsReady",
        value: function value(e) {
          var t = this;
          t.hls.fetchM3u8(e), t.mpegTsWasmState = !0, t.timerFeed = window.setInterval(function () {
            if (t.tsList.length > 0 && 0 == t.lockWait.state) {
              var e = t.tsList.shift(),
                  r = e.streamURI,
                  i = e.streamDur;
              t.lockWait.state = !0, t.lockWait.lockMember.dur = i, t.mpegTsObj.demuxURL(r);
            }
          }, 50);
        }
      }, {
        key: "bindReady",
        value: function value(e) {
          this.onReadyOBJ = e;
        }
      }, {
        key: "popBuffer",
        value: function value() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
              t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
          return t < 0 ? null : 1 == e ? this.bufObject.vFrame(t) : 2 == e ? this.bufObject.aFrame(t) : void 0;
        }
      }, {
        key: "getACodec",
        value: function value() {
          return this.aCodec;
        }
      }, {
        key: "getDurationMs",
        value: function value() {
          return this.durationMs;
        }
      }, {
        key: "getFPS",
        value: function value() {
          return this.fps;
        }
      }, {
        key: "getSampleRate",
        value: function value() {
          return this.sampleRate;
        }
      }, {
        key: "getSize",
        value: function value() {
          return this.size;
        }
      }, {
        key: "seek",
        value: function value(e) {
          if (e >= 0) {
            var t = this.bufObject.seekIDR(e);
            this.seekPos = t;
          }
        }
      }]) && i(t.prototype, r), h && i(t, h), e;
    }();

    r.M3u8 = h;
  }, {
    "../consts": 205,
    "../decoder/hevc-imp": 213,
    "./buffer": 216,
    "./bufferFrame": 217,
    "./m3u8base": 219,
    "./mpegts/mpeg.js": 223
  }],
  219: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = e("../consts"),
        a = {
      lineDelimiter: /\r?\n/,
      extensionHeader: "#EXTM3U",
      tagPrefix: "#EXT",
      segmentPrefix: "#EXTINF",
      segmentParse: /^#EXTINF: *([0-9.]+)(, *(.+?)?)?$/,
      tagParse: /^#EXT-X-([A-Z-]+)(:(.+))?$/,
      version: "VERSION",
      allowCache: "ALLOW-CACHE",
      combined: "COMBINED",
      endList: "ENDLIST",
      targetDuration: "TARGETDURATION",
      mediaSequence: "MEDIA-SEQUENCE",
      discontinuity: "DISCONTINUITY",
      streamInf: "STREAM-INF",
      isComment: function isComment(e) {
        return e && "#" === e[0] && !e.startsWith(a.tagPrefix);
      },
      isBlank: function isBlank(e) {
        return "" === e;
      },
      canStrip: function canStrip(e) {
        return a.isBlank(e) || a.isComment(e);
      },
      defaultMinDur: 99999,
      hlsSliceLimit: 100
    },
        s = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this._slices = [], this._type = n.PLAYER_IN_TYPE_M3U8_LIVE, this._preURI = "", this.duration = -1, this.onTransportStream = null, this.onFinished = null;
      }

      var t, r, s;
      return t = e, (r = [{
        key: "fetchM3u8",
        value: function value(e) {
          var t = this,
              r = this;
          fetch(e).then(function (e) {
            return e.text();
          }).then(function (t) {
            return 1 == r._uriParse(e) ? r._m3u8Parse(t) : null;
          }).then(function (i) {
            null != i && t._type == n.PLAYER_IN_TYPE_M3U8_LIVE && setTimeout(function () {
              r.fetchM3u8(e);
            }, 1e3 * i);
          });
        }
      }, {
        key: "_uriParse",
        value: function value(e) {
          this._preURI = "";
          var t = e.split("//"),
              r = null,
              i = null;
          if (t.length < 1) return !1;
          t.length > 1 ? (r = t[0], i = t[1].split("/"), this._preURI = r + "//") : i = t[0].split("/");

          for (var n = 0; n < i.length - 1; n++) {
            this._preURI += i[n] + "/";
          }

          return !0;
        }
      }, {
        key: "_m3u8Parse",
        value: function value(e) {
          for (var t = e.split(a.lineDelimiter), r = a.defaultMinDur, i = 0; i < t.length; i++) {
            var s = t[i];

            if (!(s.length < 1)) {
              var o = this._readTag(s);

              if (null != o) switch (o.key) {
                case a.version:
                case a.mediaSequence:
                case a.allowCache:
                case a.discontinuity:
                case a.targetDuration:
                case a.combined:
                case a.streamInf:
                  break;

                case a.endList:
                  if (this._type = n.PLAYER_IN_TYPE_M3U8_VOD, null != this.onFinished) {
                    var f = {
                      type: this._type,
                      duration: this.duration
                    };
                    this.onFinished(f);
                  }

                  return !0;

                default:
                  o.key;
              }
              var u = a.segmentParse.exec(s);

              if (null != u) {
                var h = u[1];
                this.duration += parseFloat(u[1]), r > h && (r = h);
                var c = t[i += 1],
                    d = this._preURI + c;
                this._slices.indexOf(d) < 0 && (this._slices.push(d), null != this.onTransportStream && this.onTransportStream(d, h));
              }
            }
          }

          if (this._slices.length > a.hlsSliceLimit && this._type == n.PLAYER_IN_TYPE_M3U8_LIVE && (this._slices = this._slices.slice(-1 * a.hlsSliceLimit)), null != this.onFinished) {
            var l = {
              type: this._type,
              duration: -1
            };
            this.onFinished(l);
          }

          return r;
        }
      }, {
        key: "_readTag",
        value: function value(e) {
          var t = a.tagParse.exec(e);
          return null !== t ? {
            key: t[1],
            value: t[3]
          } : null;
        }
      }]) && i(t.prototype, r), s && i(t, s), e;
    }();

    r.M3u8Base = s;
  }, {
    "../consts": 205
  }],
  220: [function (e, t, r) {
    "use strict";

    var i = e("mp4box"),
        n = e("../decoder/hevc-header"),
        a = e("../decoder/hevc-imp"),
        s = e("./buffer"),
        o = e("../consts"),
        f = {
      96e3: 0,
      88200: 1,
      64e3: 2,
      48e3: 3,
      44100: 4,
      32e3: 5,
      24e3: 6,
      22050: 7,
      16e3: 8,
      12e3: 9,
      11025: 10,
      8e3: 11,
      7350: 12,
      Reserved: 13,
      "frequency is written explictly": 15
    };

    function u() {}

    u.prototype.setStartCode = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
          r = null;
      return t ? ((r = e)[0] = n.DEFINE_STARTCODE[0], r[1] = n.DEFINE_STARTCODE[1], r[2] = n.DEFINE_STARTCODE[2], r[3] = n.DEFINE_STARTCODE[3]) : ((r = new Uint8Array(n.DEFINE_STARTCODE.length + e.length)).set(n.DEFINE_STARTCODE, 0), r.set(e, n.DEFINE_STARTCODE.length)), r;
    }, u.prototype.setAACAdts = function (e) {
      var t = null,
          r = this.aacProfile,
          i = f[this.sampleRate],
          n = new Uint8Array(7),
          a = n.length + e.length;
      return n[0] = 255, n[1] = 241, n[2] = (r - 1 << 6) + (i << 2) + 0, n[3] = 128 + (a >> 11), n[4] = (2047 & a) >> 3, n[5] = 31 + ((7 & a) << 5), n[6] = 252, (t = new Uint8Array(a)).set(n, 0), t.set(e, n.length), t;
    }, u.prototype.demux = function () {
      var e = this;
      e.seekPos = -1, e.mp4boxfile = i.createFile(), e.movieInfo = null, e.videoCodec = null, e.durationMs = -1, e.fps = -1, e.sampleRate = -1, e.aacProfile = 2, e.size = {
        width: -1,
        height: -1
      }, e.bufObject = s(), e.audioNone = !1, e.mp4boxfile.onError = function (e) {}, this.mp4boxfile.onReady = function (t) {
        for (var r in e.movieInfo = t, t.tracks) {
          "VideoHandler" === t.tracks[r].name && (t.tracks[r].codec.indexOf("hev") >= 0 || t.tracks[r].codec.indexOf("hvc") >= 0 ? e.videoCodec = o.CODEC_H265 : t.tracks[r].codec.indexOf("avc") >= 0 && (e.videoCodec = o.CODEC_H264));
        }

        var i = -1;

        if (i = t.videoTracks[0].samples_duration / t.videoTracks[0].timescale, e.durationMs = 1e3 * i, e.fps = t.videoTracks[0].nb_samples / i, e.seekDiffTime = 1 / e.fps, e.size.width = t.videoTracks[0].track_width, e.size.height = t.videoTracks[0].track_height, t.audioTracks.length > 0) {
          e.sampleRate = t.audioTracks[0].audio.sample_rate;
          var n = t.audioTracks[0].codec.split(".");
          e.aacProfile = n[n.length - 1];
        } else e.audioNone = !0;

        null != e.onMp4BoxReady && e.onMp4BoxReady(e.videoCodec), e.videoCodec === o.CODEC_H265 ? (e.initializeAllSourceBuffers(), e.mp4boxfile.start()) : (e.videoCodec, o.CODEC_H264);
      }, e.mp4boxfile.onSamples = function (t, r, i) {
        var s = window.setInterval(function () {
          for (var r = 0; r < i.length; r++) {
            var f = i[r],
                u = f.data,
                h = null;

            if (!(null == u || u.length < 4) && u) {
              var c = f.dts / f.timescale;

              if (1 == t) {
                var d = null,
                    l = f.is_sync;
                if (e.videoCodec === o.CODEC_H265) d = f.description.hvcC, l = a.GET_NALU_TYPE(u[4]) == n.DEFINE_KEY_FRAME || f.is_sync;else e.videoCodec === o.CODEC_H264 && (d = f.description.avcC);

                if (l) {
                  var p = null,
                      m = null,
                      b = null,
                      y = null;

                  if (e.videoCodec == o.CODEC_H265) {
                    var g = d.nalu_arrays;
                    p = e.setStartCode(g[0][0].data, !1), m = e.setStartCode(g[1][0].data, !1), b = e.setStartCode(g[2][0].data, !1), y = g.length > 3 ? e.setStartCode(g[3][0].data, !1) : new Uint8Array();
                  } else e.videoCodec == o.CODEC_H264 && (p = new Uint8Array(), m = e.setStartCode(d.SPS[0].nalu, !1), b = e.setStartCode(d.PPS[0].nalu, !1), y = new Uint8Array());

                  (h = new Uint8Array(p.length + m.length + b.length + y.length + u.length)).set(p, 0), h.set(m, p.length), h.set(b, p.length + m.length), h.set(y, p.length + m.length + b.length), h.set(e.setStartCode(u, !0), p.length + m.length + b.length + y.length);
                } else h = e.setStartCode(u, !0);

                e.bufObject.appendFrame(c, h, !0, l);
              } else 2 == t && (h = e.setAACAdts(u), e.bufObject.appendFrame(c, h, !1, !0));
            }
          }

          window.clearInterval(s), s = null;
        }, 0);
      };
    }, u.prototype.appendBufferData = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
      return e.fileStart = t, this.mp4boxfile.appendBuffer(e);
    }, u.prototype.finishBuffer = function () {
      this.mp4boxfile.flush();
    }, u.prototype.play = function () {}, u.prototype.getVideoCoder = function () {
      return this.videoCodec;
    }, u.prototype.getDurationMs = function () {
      return this.durationMs;
    }, u.prototype.getFPS = function () {
      return this.fps;
    }, u.prototype.getSampleRate = function () {
      return this.sampleRate;
    }, u.prototype.getSize = function () {
      return this.size;
    }, u.prototype.seek = function (e) {
      if (e >= 0) {
        var t = this.bufObject.seekIDR(e);
        this.seekPos = t;
      }
    }, u.prototype.popBuffer = function () {
      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
      return t < 0 ? null : 1 == e ? this.bufObject.vFrame(t) : 2 == e ? this.bufObject.aFrame(t) : void 0;
    }, u.prototype.addBuffer = function (e) {
      var t = e.id;
      this.mp4boxfile.setExtractionOptions(t);
    }, u.prototype.initializeAllSourceBuffers = function () {
      if (this.movieInfo) {
        for (var e = this.movieInfo, t = 0; t < e.tracks.length; t++) {
          var r = e.tracks[t];
          this.addBuffer(r);
        }

        this.initializeSourceBuffers();
      }
    }, u.prototype.onInitAppended = function (e) {
      var t = e.target;
      "open" === t.ms.readyState && (t.sampleNum = 0, t.removeEventListener("updateend", this.onInitAppended), t.ms.pendingInits--, 0 === t.ms.pendingInits && this.mp4boxfile.start());
    }, u.prototype.initializeSourceBuffers = function () {
      for (var e = this.mp4boxfile.initializeSegmentation(), t = 0; t < e.length; t++) {
        var r = e[t].user;
        0 === t && (r.ms.pendingInits = 0), r.addEventListener("updateend", this.onInitAppended), r.appendBuffer(e[t].buffer), r.segmentIndex = 0, r.ms.pendingInits++;
      }
    }, t.exports = u;
  }, {
    "../consts": 205,
    "../decoder/hevc-header": 212,
    "../decoder/hevc-imp": 213,
    "./buffer": 216,
    mp4box: 143
  }],
  221: [function (e, t, r) {
    "use strict";

    t.exports = {
      DEFAULT_SAMPLERATE: 44100,
      DEFAULT_CHANNEL: 1,
      H264AUD: [0, 0, 0, 1, 9, 224],
      H265AUD: [0, 0, 0, 1, 70, 1, 80],
      DEF_AAC: "aac",
      DEF_MP3: "mp3",
      DEF_H265: "h265",
      DEF_HEVC: "hevc",
      DEF_H264: "h264",
      DEF_AVC: "avc",
      CODEC_OFFSET_TABLE: ["hevc", "h265", "avc", "h264", "aac", "mp3"]
    };
  }, {}],
  222: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = function () {
      function e(t) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.sampleRate = t.sampleRate, this.frameDurMs = Math.floor(1024e3 / this.sampleRate), this.frameDurSec = this.frameDurMs / 1e3;
      }

      var t, r, n;
      return t = e, (r = [{
        key: "updateConfig",
        value: function value(e) {
          this.sampleRate = e.sampleRate, this.frameDurMs = 1024e3 / this.sampleRate, this.frameDurSec = this.frameDurMs / 1e3;
        }
      }, {
        key: "_getPktLen",
        value: function value(e, t, r) {
          return ((3 & e) << 11) + (t << 3) + ((224 & r) >> 5);
        }
      }, {
        key: "sliceAACFrames",
        value: function value(e, t) {
          for (var r = [], i = e, n = 0; n < t.length - 1;) {
            if (255 == t[n] && t[n + 1] >> 4 == 15) {
              var a = this._getPktLen(t[n + 3], t[n + 4], t[n + 5]);

              if (a <= 0) continue;
              var s = t.subarray(n, n + a),
                  o = new Uint8Array(a);
              o.set(s, 0), r.push({
                ptime: i,
                data: o
              }), i += this.frameDurSec, n += a;
            } else n += 1;
          }

          return r;
        }
      }]) && i(t.prototype, r), n && i(t, n), e;
    }();

    r.AACDecoder = n;
  }, {}],
  223: [function (e, t, r) {
    (function (t) {
      "use strict";

      function i(e, t) {
        for (var r = 0; r < t.length; r++) {
          var i = t[r];
          i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
        }
      }

      var n = e("../../decoder/missile.js"),
          a = e("./decoder/aac"),
          s = e("./consts"),
          o = function () {
        function e(t) {
          !function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
          }(this, e), this.configFormat = {}, this.mediaAttr = {
            sampleRate: 0,
            sampleChannel: 0,
            vFps: 0,
            vGop: 0,
            vDuration: 0,
            aDuration: 0,
            duration: 0,
            aCodec: "",
            vCodec: ""
          }, this.extensionInfo = {
            vWidth: 0,
            vHeight: 0
          }, this.wasmState = 0, this.onReady = null, this.onDemuxed = null, this.aacDec = null;
        }

        var r, o, f;
        return r = e, (o = [{
          key: "initDemuxer",
          value: function value() {
            var e = this;
            if (window.WebAssembly) n.run(), 1 === t.STATIC_MEM_wasmDecoderState ? (e.wasmState = 1, e.onReady()) : (n.onRuntimeInitialized = function () {
              null != e.onReady && 0 == e.wasmState && (e.wasmState = 1, e.onReady());
            }, n.postRun = function () {
              null != e.onReady && 0 == e.wasmState && (e.wasmState = 1, e.onReady());
            });else {
              var r = "unsupport WASM!";
              /iPhone|iPad/.test(window.navigator.userAgent) && (r += " ios:min-version 11"), alert(r), alert("Please check your browers, it not support wasm! See:https://www.caniuse.com/#search=wasm");
            }
            return !0;
          }
        }, {
          key: "demuxURL",
          value: function value(e) {
            this._demuxerTsInit(e);
          }
        }, {
          key: "demuxUint8Buf",
          value: function value(e) {
            this._demuxCore(e);
          }
        }, {
          key: "_demuxerTsInit",
          value: function value(e) {
            var t = this;
            fetch(e).then(function (e) {
              return e.arrayBuffer();
            }).then(function (e) {
              e.fileStart = 0;
              var r = new Uint8Array(e);

              t._demuxCore(r);
            });
          }
        }, {
          key: "_demuxCore",
          value: function value(e) {
            this._refreshDemuxer();

            var t = n._malloc(e.length);

            n.HEAP8.set(e, t);
            var r = n.cwrap("demuxBox", "number", ["number", "number"])(t, e.length);
            r >= 0 && (this._setMediaInfo(), this._setExtensionInfo(), null != this.onDemuxed && this.onDemuxed());
          }
        }, {
          key: "_setMediaInfo",
          value: function value() {
            var e = n.cwrap("getMediaInfo", "number", [])(),
                t = n.HEAPU32[e / 4],
                r = n.HEAPU32[e / 4 + 1],
                i = n.HEAPF64[e / 8 + 1],
                o = n.HEAPF64[e / 8 + 1 + 1],
                f = n.HEAPF64[e / 8 + 1 + 1 + 1],
                u = n.HEAPF64[e / 8 + 1 + 1 + 1 + 1],
                h = n.HEAPU32[e / 4 + 2 + 2 + 2 + 2 + 2];
            this.mediaAttr.vFps = i, this.mediaAttr.vGop = h, this.mediaAttr.vDuration = o, this.mediaAttr.aDuration = f, this.mediaAttr.duration = u;
            var c = n.cwrap("getAudioCodecID", "number", [])();
            c >= 0 ? (this.mediaAttr.aCodec = s.CODEC_OFFSET_TABLE[c], this.mediaAttr.sampleRate = t > 0 ? t : s.DEFAULT_SAMPLERATE, this.mediaAttr.sampleChannel = r > 0 ? r : s.DEFAULT_CHANNEL) : (this.mediaAttr.sampleRate = 0, this.mediaAttr.sampleChannel = 0);
            var d = n.cwrap("getVideoCodecID", "number", [])();
            d >= 0 && (this.mediaAttr.vCodec = s.CODEC_OFFSET_TABLE[d]), null == this.aacDec ? this.aacDec = new a.AACDecoder(this.mediaAttr) : this.aacDec.updateConfig(this.mediaAttr);
          }
        }, {
          key: "_setExtensionInfo",
          value: function value() {
            var e = n.cwrap("getExtensionInfo", "number", [])(),
                t = n.HEAPU32[e / 4],
                r = n.HEAPU32[e / 4 + 1];
            this.extensionInfo.vWidth = t, this.extensionInfo.vHeight = r;
          }
        }, {
          key: "readMediaInfo",
          value: function value() {
            return this.mediaAttr;
          }
        }, {
          key: "readExtensionInfo",
          value: function value() {
            return this.extensionInfo;
          }
        }, {
          key: "_readLayer",
          value: function value() {
            var e = {
              vps: null,
              sps: null,
              pps: null,
              sei: null
            },
                t = {
              vlc: null
            },
                r = n.cwrap("getSPSLen", "number", [])(),
                i = n.cwrap("getSPS", "number", [])();
            e.sps = new Uint8Array(r), e.sps.set(n.HEAPU8.subarray(i, i + r), 0);
            var a = n.cwrap("getPPSLen", "number", [])(),
                o = n.cwrap("getPPS", "number", [])();
            e.pps = new Uint8Array(a), e.pps.set(n.HEAPU8.subarray(o, o + a), 0);
            var f = n.cwrap("getSEILen", "number", [])(),
                u = n.cwrap("getSEI", "number", [])();
            e.sei = new Uint8Array(f), e.sei.set(n.HEAPU8.subarray(u, u + f), 0);
            var h = n.cwrap("getVLCLen", "number", [])(),
                c = n.cwrap("getVLC", "number", [])();

            if (t.vlc = new Uint8Array(h), t.vlc.set(n.HEAPU8.subarray(c, c + h), 0), this.mediaAttr.vCodec == s.DEF_HEVC || this.mediaAttr.vCodec == s.DEF_H265) {
              var d = n.cwrap("getVPSLen", "number", [])(),
                  l = n.cwrap("getVPS", "number", [])();
              e.vps = new Uint8Array(d), e.vps.set(n.HEAPU8.subarray(l, l + d), 0);
            } else this.mediaAttr.vCodec == s.DEF_AVC || (this.mediaAttr.vCodec, s.DEF_H264);

            return {
              nalu: e,
              vlc: t
            };
          }
        }, {
          key: "readPacket",
          value: function value() {
            var e = n.cwrap("getPacket", "number", [])(),
                t = n.HEAPU32[e / 4],
                r = n.HEAPU32[e / 4 + 1],
                i = n.HEAPF64[e / 8 + 1],
                a = n.HEAPF64[e / 8 + 1 + 1],
                o = n.HEAPU32[e / 4 + 1 + 1 + 2 + 2],
                f = n.HEAPU32[e / 4 + 1 + 1 + 2 + 2 + 1],
                u = n.HEAPU8.subarray(f, f + r),
                h = this._readLayer();

            return {
              type: t,
              size: r,
              ptime: i,
              dtime: a,
              keyframe: o,
              src: u,
              data: 1 == t && this.mediaAttr.aCodec == s.DEF_AAC ? this.aacDec.sliceAACFrames(i, u) : u,
              layer: h
            };
          }
        }, {
          key: "_refreshDemuxer",
          value: function value() {
            this._releaseDemuxer(), this._initDemuxer();
          }
        }, {
          key: "_initDemuxer",
          value: function value() {
            n.cwrap("initTsMissile", "number", [])(), n.cwrap("initializeDemuxer", "number", [])();
          }
        }, {
          key: "_releaseDemuxer",
          value: function value() {
            n.cwrap("exitTsMissile", "number", [])();
          }
        }]) && i(r.prototype, o), f && i(r, f), e;
      }();

      r.MPEG_JS = o;
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "../../decoder/missile.js": 214,
    "./consts": 221,
    "./decoder/aac": 222
  }],
  224: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = e("./mpegts/mpeg.js"),
        a = e("./buffer"),
        s = e("../decoder/hevc-imp"),
        o = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.seekPos = -1, this.durationMs = -1, this.fps = -1, this.sampleRate = -1, this.aCodec = "", this.size = {
          width: -1,
          height: -1
        }, this.bufObject = a(), this.mpegTsObj = null, this.bufObject = a(), this.mediaInfo = {}, this.extensionInfo = {}, this.onReady = null, this.onDemuxed = null, this.onReadyOBJ = null;
      }

      var t, r, o;
      return t = e, (r = [{
        key: "initMPEG",
        value: function value() {
          var e = this;
          this.mpegTsObj = new n.MPEG_JS({}), this.mpegTsObj.onDemuxed = function () {
            e.mediaInfo = e.mpegTsObj.readMediaInfo(), e.mediaInfo, e.extensionInfo = e.mpegTsObj.readExtensionInfo(), e.extensionInfo, e.aCodec = e.mediaInfo.aCodec, e.durationMs = 1e3 * e.mediaInfo.duration, e.fps = e.mediaInfo.vFps, e.sampleRate = e.mediaInfo.sampleRate, e.extensionInfo.vWidth > 0 && e.extensionInfo.vHeight > 0 && (e.size.width = e.extensionInfo.vWidth, e.size.height = e.extensionInfo.vHeight);

            for (var t = null; !((t = e.mpegTsObj.readPacket()).size <= 0);) {
              var r = t.dtime;

              if (0 == t.type) {
                var i = s.PACK_NALU(t.layer),
                    n = 1 == t.keyframe;
                e.bufObject.appendFrame(r, i, !0, n);
              } else if ("aac" == e.mediaInfo.aCodec) for (var a = t.data, o = 0; o < a.length; o++) {
                var f = a[o];
                e.bufObject.appendFrame(f.ptime, f.data, !1, !0);
              } else e.bufObject.appendFrame(r, t.data, !1, !0);
            }

            e.bufObject.videoBuffer, e.bufObject.audioBuffer, null != e.onDemuxed && e.onDemuxed(e.onReadyOBJ);
          }, this.mpegTsObj.onReady = function () {
            null != e.onReady && e.onReady(e.onReadyOBJ);
          }, this.mpegTsObj.initDemuxer();
        }
      }, {
        key: "bindReady",
        value: function value(e) {
          this.onReadyOBJ = e;
        }
      }, {
        key: "demux",
        value: function value(e) {
          this.mpegTsObj.demuxUint8Buf(e);
        }
      }, {
        key: "popBuffer",
        value: function value() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
              t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
          return t < 0 ? null : 1 == e ? this.bufObject.vFrame(t) : 2 == e ? this.bufObject.aFrame(t) : void 0;
        }
      }, {
        key: "getACodec",
        value: function value() {
          return this.aCodec;
        }
      }, {
        key: "getDurationMs",
        value: function value() {
          return this.durationMs;
        }
      }, {
        key: "getFPS",
        value: function value() {
          return this.fps;
        }
      }, {
        key: "getSampleRate",
        value: function value() {
          return this.sampleRate;
        }
      }, {
        key: "getSize",
        value: function value() {
          return this.size;
        }
      }, {
        key: "seek",
        value: function value(e) {
          if (e >= 0) {
            var t = this.bufObject.seekIDR(e);
            this.seekPos = t;
          }
        }
      }]) && i(t.prototype, r), o && i(t, o), e;
    }();

    r.MpegTs = o;
  }, {
    "../decoder/hevc-imp": 213,
    "./buffer": 216,
    "./mpegts/mpeg.js": 223
  }],
  225: [function (e, t, r) {
    (function (t) {
      "use strict";

      function i(e, t) {
        for (var r = 0; r < t.length; r++) {
          var i = t[r];
          i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
        }
      }

      var n = e("./decoder/player-core"),
          a = e("./native/mp4-player"),
          s = e("./decoder/c-native-core"),
          o = (e("./demuxer/mpegts/mpeg.js"), e("./demuxer/mp4")),
          f = e("./demuxer/ts"),
          u = e("./demuxer/m3u8"),
          h = e("./consts"),
          c = (e("./utils/static-mem"), e("./utils/ui/ui")),
          d = (e("./decoder/cache"), e("./decoder/missile.js")),
          l = {
        moovStartFlag: !1,
        readyShow: !1,
        rawFps: 24,
        autoCrop: !1,
        core: h.PLAYER_CORE_TYPE_DEFAULT,
        coreProbePart: 1
      };

      d.onRuntimeInitialized = function () {
        t.STATIC_MEM_wasmDecoderState = 1, t.STATIC_MEM_wasmDecoderState;
      };

      var p = function () {
        function e(r, i) {
          !function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
          }(this, e), t.STATICE_MEM_playerCount += 1, this.playerIndex = t.STATICE_MEM_playerCount, this.mp4Obj = null, this.mpegTsObj = null, this.hlsObj = null, this.hlsConf = {
            hlsType: h.PLAYER_IN_TYPE_M3U8_VOD
          }, this.videoURL = r, this.configFormat = {
            playerId: i.player || h.DEFAILT_WEBGL_PLAY_ID,
            playerW: i.width || h.DEFAULT_WIDTH,
            playerH: i.height || h.DEFAULT_HEIGHT,
            type: i.type || h.PLAYER_IN_TYPE_MP4,
            accurateSeek: i.accurateSeek || !1,
            playIcon: i.playIcon || "assets/icon-play@300.png",
            loadIcon: i.loadIcon || "assets/icon-loading.gif",
            token: i.token || null,
            extInfo: i.extInfo || l
          }, null != this.configFormat.token ? (this.playMode = h.PLAYER_MODE_VOD, this.seekTarget = 0, this.playParam = null, this.timerFeed = null, this.player = null, this.rawModePts = 0, this.feedMP4Data = null, this.onPlayTime = null, this.onLoadFinish = null, this.onSeekStart = null, this.onSeekFinish = null, this.onRender = null, this.onLoadCache = null, this.onLoadCacheFinshed = null, this.onPlayFinish = null) : alert("请输入TOKEN！Please set token param!");
        }

        var r, d, p;
        return r = e, (d = [{
          key: "do",
          value: function value() {
            var e = this,
                r = !1;
            this.configFormat.type === h.PLAYER_IN_TYPE_RAW_265 && (r = !0, this.playMode = h.PLAYER_MODE_NOTIME_LIVE), this.playParam = {
              durationMs: 0,
              fps: 0,
              sampleRate: 0,
              size: {
                width: 0,
                height: 0
              },
              audioNone: r,
              videoCodec: h.CODEC_H265
            }, c.UI.createPlayerRender(this.configFormat.playerId, this.configFormat.playerW, this.configFormat.playerH);
            var i = window.setInterval(function () {
              if (t.STATICE_MEM_playerIndexPtr === e.playerIndex) if (t.STATICE_MEM_playerIndexPtr, e.playerIndex, window.WebAssembly) t.STATIC_MEM_wasmDecoderState, 1 == t.STATIC_MEM_wasmDecoderState && (e._makeMP4Player(), t.STATICE_MEM_playerIndexPtr += 1, window.clearInterval(i), i = null);else {
                var r = "unsupport WASM!";
                /iPhone|iPad/.test(window.navigator.userAgent) && (r += " ios:min-version 11"), alert(r), alert("Please check your browers, it not support wasm! See:https://www.caniuse.com/#search=wasm"), t.STATICE_MEM_playerIndexPtr += 1, window.clearInterval(i), i = null;
              }
            }, 500);
          }
        }, {
          key: "debugYUV",
          value: function value(e) {
            this.player.debugYUV(e);
          }
        }, {
          key: "setRenderScreen",
          value: function value() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            this.player.setScreen(e);
          }
        }, {
          key: "play",
          value: function value() {
            if (this.playParam.videoCodec === h.CODEC_H265) {
              var e = {
                seekPos: this._getSeekTarget(),
                mode: this.playMode,
                accurateSeek: this.configFormat.accurateSeek,
                seekEvent: !1,
                realPlay: !0
              };
              this.player.play(e);
            } else this.player.play();

            return !0;
          }
        }, {
          key: "pause",
          value: function value() {
            return this.player.pause(), !0;
          }
        }, {
          key: "isPlaying",
          value: function value() {
            return this.player.isPlayingState();
          }
        }, {
          key: "setVoice",
          value: function value(e) {
            if (e < 0) return !1;
            this.player.setVoice(e);
          }
        }, {
          key: "mediaInfo",
          value: function value() {
            return {
              meta: this.playParam,
              videoType: this.playMode
            };
          }
        }, {
          key: "seek",
          value: function value(e) {
            var t = this;
            this.seekTarget = e, this.onSeekStart && this.onSeekStart(e), this.timerFeed && (window.clearInterval(this.timerFeed), this.timerFeed = null);

            var r = this._getSeekTarget();

            return this.playParam.videoCodec === h.CODEC_H264 && this.configFormat.type == h.PLAYER_IN_TYPE_MP4 ? (this.player.seek(e), this.onSeekFinish && this.onSeekFinish()) : this.player.seek(function () {
              t.configFormat.type == h.PLAYER_IN_TYPE_MP4 ? t.mp4Obj.seek(e) : t.configFormat.type == h.PLAYER_IN_TYPE_TS || t.configFormat.type == h.PLAYER_IN_TYPE_MPEGTS ? t.mpegTsObj.seek(e) : t.configFormat.type == h.PLAYER_IN_TYPE_M3U8 && t.hlsObj.seek(e);
              var r,
                  i = (r = 0, r = t.configFormat.accurateSeek ? e : t._getBoxBufSeekIDR(), parseInt(r)),
                  n = parseInt(t._getBoxBufSeekIDR()) || 0;

              t._avFeedMP4Data(n, i);
            }, {
              seekTime: r,
              mode: t.playMode,
              accurateSeek: t.configFormat.accurateSeek
            }), !0;
          }
        }, {
          key: "_durationText",
          value: function value(e) {
            if (e < 0) return "Play";
            var t = Math.round(e);
            return Math.floor(t / 3600) + ":" + Math.floor(t % 3600 / 60) + ":" + Math.floor(t % 60);
          }
        }, {
          key: "_getSeekTarget",
          value: function value() {
            return this.configFormat.accurateSeek ? this.seekTarget : this._getBoxBufSeekIDR();
          }
        }, {
          key: "_getBoxBufSeekIDR",
          value: function value() {
            return this.configFormat.type == h.PLAYER_IN_TYPE_MP4 ? this.mp4Obj.seekPos : this.configFormat.type == h.PLAYER_IN_TYPE_TS || this.configFormat.type == h.PLAYER_IN_TYPE_MPEGTS ? this.mpegTsObj.seekPos : this.configFormat.type == h.PLAYER_IN_TYPE_M3U8 ? this.hlsObj.seekPos : void 0;
          }
        }, {
          key: "_playControl",
          value: function value() {
            this.isPlaying() ? this.pause() : this.play();
          }
        }, {
          key: "_avFeedMP4Data",
          value: function value() {
            var e = this,
                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                n = parseInt(this.playParam.durationMs / 1e3);
            this.timerFeed = window.setInterval(function () {
              var a = null,
                  s = null;
              if (e.configFormat.type == h.PLAYER_IN_TYPE_MP4 ? (a = e.mp4Obj.popBuffer(1, t), s = e.mp4Obj.audioNone ? null : e.mp4Obj.popBuffer(2, r)) : e.configFormat.type == h.PLAYER_IN_TYPE_TS || e.configFormat.type == h.PLAYER_IN_TYPE_MPEGTS ? (a = e.mpegTsObj.popBuffer(1, t), s = e.mpegTsObj.audioNone ? null : e.mpegTsObj.popBuffer(2, r)) : e.configFormat.type == h.PLAYER_IN_TYPE_M3U8 && (a = e.hlsObj.popBuffer(1, t), s = e.hlsObj.audioNone ? null : e.hlsObj.popBuffer(2, r)), null != a) for (var o = 0; o < a.length; o++) {
                e.player.appendHevcFrame(a[o]);
              }
              if (null != s) for (var f = 0; f < s.length; f++) {
                e.player.appendAACFrame(s[f]);
              }
              if (null != a && (e.configFormat.extInfo.readyShow && e.player.cacheYuvBuf.getState() != CACHE_APPEND_STATUS_CODE.NULL && (e.player.playFrameYUV(!0, !0), e.configFormat.extInfo.readyShow = !1), t++), null != s && r++, t > n) return window.clearInterval(e.timerFeed), e.timerFeed = null, void (null != i && i());
            }, 0);
          }
        }, {
          key: "_makeMP4Player",
          value: function value() {
            this.configFormat.type, null != this.configFormat.extInfo.core && null !== this.configFormat.extInfo.core && this.configFormat.extInfo.core === h.PLAYER_CORE_TYPE_CNATIVE ? this._cDemuxDecoderEntry() : this.configFormat.type == h.PLAYER_IN_TYPE_MP4 ? this.configFormat.extInfo.moovStartFlag ? this._mp4EntryVodStream() : this._mp4Entry() : this.configFormat.type == h.PLAYER_IN_TYPE_TS || this.configFormat.type == h.PLAYER_IN_TYPE_MPEGTS ? this._mpegTsEntry() : this.configFormat.type == h.PLAYER_IN_TYPE_M3U8 ? this._m3u8Entry() : this.configFormat.type === h.PLAYER_IN_TYPE_RAW_265 && this._raw265Entry();
          }
        }, {
          key: "_makeMP4PlayerViewEvent",
          value: function value(e, t, r, i) {
            var a = this,
                s = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null,
                f = this;

            if (this.playParam.durationMs = e, this.playParam.fps = t, this.playParam.sampleRate = r, this.playParam.size = i, this.playParam.audioNone = s, this.playParam.videoCodec = o || h.CODEC_H265, (this.configFormat.type == h.PLAYER_IN_TYPE_M3U8 && this.hlsConf.hlsType == h.PLAYER_IN_TYPE_M3U8_LIVE || this.configFormat.type == h.PLAYER_IN_TYPE_RAW_265) && (this.playMode = h.PLAYER_MODE_NOTIME_LIVE), f.configFormat.extInfo.autoCrop) {
              var u = document.querySelector("#" + this.configFormat.playerId),
                  c = i.width / i.height,
                  d = this.configFormat.playerW / this.configFormat.playerH;
              c > d ? u.style.height = this.configFormat.playerW / c + "px" : c < d && (u.style.width = this.configFormat.playerH * c + "px");
            }

            this.player = n({
              width: this.configFormat.playerW,
              height: this.configFormat.playerH,
              sampleRate: r,
              fps: t,
              appendHevcType: h.APPEND_TYPE_FRAME,
              fixed: !1,
              playerId: this.configFormat.playerId,
              audioNone: s,
              token: this.configFormat.token,
              videoCodec: o
            }), this.player.onPlayingTime = function (t) {
              f._durationText(t), f._durationText(e / 1e3), null != f.onPlayTime && f.onPlayTime(t);
            }, this.player.onPlayingFinish = function () {
              a.pause(), a.seek(0), null != a.onPlayFinish && a.onPlayFinish();
            }, this.player.onSeekFinish = function () {
              null != f.onSeekFinish && f.onSeekFinish();
            }, this.player.onRender = function (e, t, r, i, n) {
              null != a.onRender && a.onRender(e, t, r, i, n);
            }, this.player.onLoadCache = function () {
              null != a.onLoadCache && a.onLoadCache();
            }, this.player.onLoadCacheFinshed = function () {
              null != a.onLoadCacheFinshed && a.onLoadCacheFinshed();
            }, f.player.setDurationMs(e), f.player.setFrameRate(t), null != f.onLoadFinish && f.onLoadFinish();
          }
        }, {
          key: "_makeNativePlayer",
          value: function value(e, t, r, i, n, s) {
            var o = this,
                f = this;
            this.playParam.durationMs = e, this.playParam.fps = t, this.playParam.sampleRate = r, this.playParam.size = i, this.playParam.audioNone = n, this.playParam.videoCodec = s || h.CODEC_H265, this.configFormat.type == h.PLAYER_IN_TYPE_M3U8 && this.hlsConf.hlsType == h.PLAYER_IN_TYPE_M3U8_LIVE && (this.playMode = h.PLAYER_MODE_NOTIME_LIVE), this.player = new a.Mp4Player({
              width: this.configFormat.playerW,
              height: this.configFormat.playerH,
              sampleRate: r,
              fps: t,
              appendHevcType: h.APPEND_TYPE_FRAME,
              fixed: !1,
              playerId: this.configFormat.playerId,
              audioNone: n,
              token: this.configFormat.token,
              videoCodec: s
            }), this.player.makeIt(this.videoURL), this.player.onPlayingTime = function (t) {
              f._durationText(t), f._durationText(e / 1e3), null != f.onPlayTime && f.onPlayTime(t);
            }, this.player.onPlayingFinish = function () {
              null != o.onPlayFinish && o.onPlayFinish();
            }, null != this.onLoadFinish && this.onLoadFinish();
          }
        }, {
          key: "_initMp4BoxObject",
          value: function value() {
            var e = this;
            this.timerFeed = null, this.mp4Obj = new o(), this.mp4Obj.onMp4BoxReady = function (t) {
              var r = e.mp4Obj.getDurationMs(),
                  i = e.mp4Obj.getFPS(),
                  n = e.mp4Obj.getSampleRate(),
                  a = e.mp4Obj.getSize(),
                  s = e.mp4Obj.getVideoCoder();
              t === h.CODEC_H265 ? (e._makeMP4PlayerViewEvent(r, i, n, a, e.mp4Obj.audioNone, s), parseInt(r / 1e3), e._avFeedMP4Data(0, 0)) : e._makeNativePlayer(r, i, n, a, e.mp4Obj.audioNone, s);
            };
          }
        }, {
          key: "_mp4Entry",
          value: function value() {
            var e = this,
                t = this;
            fetch(this.videoURL).then(function (e) {
              return e.arrayBuffer();
            }).then(function (r) {
              t._initMp4BoxObject(), e.mp4Obj.demux(), e.mp4Obj.appendBufferData(r, 0), e.mp4Obj.finishBuffer(), e.mp4Obj.seek(-1);
            });
          }
        }, {
          key: "_mp4EntryVodStream",
          value: function value() {
            var e = this,
                t = this;
            this.timerFeed = null, this.mp4Obj = new o(), this._initMp4BoxObject(), this.mp4Obj.demux();
            var r = 0,
                i = !1,
                n = window.setInterval(function () {
              i || (i = !0, fetch(e.videoURL).then(function (e) {
                return function e(i) {
                  return i.read().then(function (a) {
                    if (a.done) return t.mp4Obj.finishBuffer(), t.mp4Obj.seek(-1), void window.clearInterval(n);
                    var s = a.value;
                    return t.mp4Obj.appendBufferData(s.buffer, r), r += s.byteLength, e(i);
                  });
                }(e.body.getReader());
              })["catch"](function (e) {}));
            }, 1);
          }
        }, {
          key: "_cDemuxDecoderEntry",
          value: function value() {
            var e = this,
                t = this;
            this.player = new s.CNativeCore({
              width: this.configFormat.playerW,
              height: this.configFormat.playerH,
              playerId: this.configFormat.playerId,
              token: this.configFormat.token,
              readyShow: this.configFormat.extInfo.readyShow
            }), this.player.onProbeFinish = function () {
              t.playParam.durationMs = 1e3 * t.player.duration, t.playParam.fps = t.player.config.fps, t.playParam.sampleRate = t.player.config.sampleRate, t.playParam.size = {
                width: t.player.width,
                height: t.player.height
              }, t.playParam.audioNone = !1, t.player.vCodecID === h.V_CODEC_NAME_HEVC ? (t.playParam.audioIdx < 0 && (t.playParam.audioNone = !0), t.playParam.videoCodec = h.CODEC_H265, t.onLoadFinish && t.onLoadFinish()) : (t.playParam.videoCodec = h.CODEC_H264, t.player.release(), t.player = null, t._makeNativePlayer(t.playParam.durationMs, t.playParam.fps, t.playParam.sampleRate, t.playParam.size, !1, t.playParam.videoCodec));
            }, this.player.onPlayingTime = function (e) {
              t._durationText(e), t._durationText(t.player.duration), null != t.onPlayTime && t.onPlayTime(e);
            }, this.player.onPlayingFinish = function () {
              t.pause(), t.onPlayFinish && t.onPlayFinish(), t.player.release(), e.player = null, e._cDemuxDecoderEntry();
            }, this.player.onLoadCache = function () {
              null != e.onLoadCache && e.onLoadCache();
            }, this.player.onLoadCacheFinshed = function () {
              null != e.onLoadCacheFinshed && e.onLoadCacheFinshed();
            }, this.player.onRender = function (t, r, i, n, a) {
              null != e.onRender && e.onRender(t, r, i, n, a);
            };
            var r = 0;
            fetch(this.videoURL).then(function (e) {
              return e.headers.has("Content-Length") && (r = e.headers.get("Content-Length"), t.player && t.player.setProbeSize(r * t.configFormat.extInfo.coreProbePart)), e.headers.get("Content-Length"), function e(r) {
                return r.read().then(function (i) {
                  if (!i.done) {
                    i.value.buffer;
                    var n = new Uint8Array(i.value.buffer);
                    return t.player && t.player.pushBuffer(n) < 0 ? (t.player.release(), t.player = null, t._mp4EntryVodStream(), !1) : e(r);
                  }

                  t.player && t.player.pushDone();
                });
              }(e.body.getReader());
            })["catch"](function (e) {});
          }
        }, {
          key: "_mpegTsEntry",
          value: function value() {
            var e = this;
            this.timerFeed = null, this.mpegTsObj = new f.MpegTs(), this.mpegTsObj.bindReady(e), this.mpegTsObj.onDemuxed = this._mpegTsEntryReady, this.mpegTsObj.onReady = function () {
              fetch(e.videoURL).then(function (e) {
                return e.arrayBuffer();
              }).then(function (t) {
                t.fileStart = 0;
                var r = new Uint8Array(t);
                e.mpegTsObj.demux(r);
              });
            }, this.mpegTsObj.initMPEG();
          }
        }, {
          key: "_mpegTsEntryReady",
          value: function value(e) {
            var t = e,
                r = t.mpegTsObj.getACodec(),
                i = t.mpegTsObj.getDurationMs(),
                n = t.mpegTsObj.getFPS(),
                a = t.mpegTsObj.getSampleRate(),
                s = t.mpegTsObj.getSize();
            t._makeMP4PlayerViewEvent(i, n, a, s, "" == r), parseInt(i / 1e3), t._avFeedMP4Data(0, 0);
          }
        }, {
          key: "_m3u8Entry",
          value: function value() {
            var e = this,
                t = this,
                r = !1,
                i = 0;
            this.hlsObj = new u.M3u8(), this.hlsObj.bindReady(t), this.hlsObj.onFinished = function (e, n) {
              0 == r && (i = t.hlsObj.getDurationMs(), t.hlsConf.hlsType = n.type, r = !0);
            }, this.hlsObj.onDemuxed = function (e) {
              if (null == t.player) {
                var r = t.hlsObj.getACodec(),
                    n = t.hlsObj.getFPS(),
                    a = t.hlsObj.getSampleRate(),
                    s = t.hlsObj.getSize();

                t._makeMP4PlayerViewEvent(i, n, a, s, "" == r);
              }
            }, this.hlsObj.onSamples = function (t, r) {
              var i = e;
              1 == r.video ? i.player.appendHevcFrame(r) : i.player.appendAACFrame(r);
            }, this.hlsObj.demux(this.videoURL);
          }
        }, {
          key: "_raw265Entry",
          value: function value() {
            this._makeMP4PlayerViewEvent(-1, this.configFormat.extInfo.rawFps, -1, {
              width: this.configFormat.playerW,
              height: this.configFormat.playerH
            }, !0, h.CODEC_H265), this.timerFeed && (window.clearInterval(this.timerFeed), this.timerFeed = null);
          }
        }, {
          key: "append265NaluFrame",
          value: function value(e) {
            var t = {
              data: e,
              pts: this.rawModePts
            };
            this.player.appendHevcFrame(t), this.configFormat.extInfo.readyShow && this.player.cacheYuvBuf.getState() != CACHE_APPEND_STATUS_CODE.NULL && (this.player.playFrameYUV(!0, !0), this.configFormat.extInfo.readyShow = !1), this.rawModePts += 1 / this.configFormat.extInfo.rawFps;
          }
        }]) && i(r.prototype, d), p && i(r, p), e;
      }();

      r.H265webjs = p, t.new265webjs = function (e, t) {
        return new p(e, t);
      };
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {
    "./consts": 205,
    "./decoder/c-native-core": 209,
    "./decoder/cache": 210,
    "./decoder/missile.js": 214,
    "./decoder/player-core": 215,
    "./demuxer/m3u8": 218,
    "./demuxer/mp4": 220,
    "./demuxer/mpegts/mpeg.js": 223,
    "./demuxer/ts": 224,
    "./native/mp4-player": 226,
    "./utils/static-mem": 228,
    "./utils/ui/ui": 229
  }],
  226: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = e("../consts"),
        a = function () {
      function e(t) {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e), this.configFormat = {
          width: t.width || n.DEFAULT_WIDTH,
          height: t.height || n.DEFAULT_HEIGHT,
          fps: t.fps || n.DEFAULT_FPS,
          fixed: t.fixed || n.DEFAULT_FIXED,
          sampleRate: t.sampleRate || n.DEFAULT_SAMPLERATE,
          appendHevcType: t.appendHevcType || n.APPEND_TYPE_STREAM,
          frameDurMs: t.frameDur || n.DEFAULT_FRAME_DUR,
          playerId: t.playerId || n.DEFAILT_WEBGL_PLAY_ID,
          audioNone: t.audioNone || !1,
          token: t.token || null,
          videoCodec: t.videoCodec || n.CODEC_H265
        }, this.video = null, this.isPlaying = !1, this.onPlayingTime = null, this.onPlayingFinish = null;
      }

      var t, r, a;
      return t = e, (r = [{
        key: "makeIt",
        value: function value(e) {
          var t = this,
              r = document.querySelector("div#" + this.configFormat.playerId);
          this.video = document.createElement("video"), this.video.src = e, this.video.style.width = "100%", this.video.style.height = "100%", r.appendChild(this.video), this.video.ontimeupdate = function () {
            t.onPlayingTime && t.onPlayingTime(t.video.currentTime);
          }, this.video.onended = function () {
            t.onPlayingFinish && t.onPlayingFinish();
          };
        }
      }, {
        key: "play",
        value: function value() {
          this.video.play();
        }
      }, {
        key: "seek",
        value: function value(e) {
          this.video.currentTime = e;
        }
      }, {
        key: "pause",
        value: function value() {
          this.video.pause();
        }
      }, {
        key: "setVoice",
        value: function value(e) {
          this.video.volume = e;
        }
      }, {
        key: "isPlayingState",
        value: function value() {
          return !this.video.paused;
        }
      }]) && i(t.prototype, r), a && i(t, a), e;
    }();

    r.Mp4Player = a;
  }, {
    "../consts": 205
  }],
  227: [function (e, t, r) {
    "use strict";

    function i(e) {
      this.gl = e, this.texture = e.createTexture(), e.bindTexture(e.TEXTURE_2D, this.texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE);
    }

    i.prototype.bind = function (e, t, r) {
      var i = this.gl;
      i.activeTexture([i.TEXTURE0, i.TEXTURE1, i.TEXTURE2][e]), i.bindTexture(i.TEXTURE_2D, this.texture), i.uniform1i(i.getUniformLocation(t, r), e);
    }, i.prototype.fill = function (e, t, r) {
      var i = this.gl;
      i.bindTexture(i.TEXTURE_2D, this.texture), i.texImage2D(i.TEXTURE_2D, 0, i.LUMINANCE, e, t, 0, i.LUMINANCE, i.UNSIGNED_BYTE, r);
    }, t.exports = {
      renderFrame: function renderFrame(e, t, r, i, n, a) {
        e.viewport(0, 0, e.canvas.width, e.canvas.height), e.clearColor(0, 0, 0, 0), e.clear(e.COLOR_BUFFER_BIT), e.y.fill(n, a, t), e.u.fill(n >> 1, a >> 1, r), e.v.fill(n >> 1, a >> 1, i), e.drawArrays(e.TRIANGLE_STRIP, 0, 4);
      },
      setupCanvas: function setupCanvas(e, t) {
        var r = e.getContext("webgl") || e.getContext("experimental-webgl");
        if (!r) return r;
        var n = r.createProgram(),
            a = ["attribute highp vec4 aVertexPosition;", "attribute vec2 aTextureCoord;", "varying highp vec2 vTextureCoord;", "void main(void) {", " gl_Position = aVertexPosition;", " vTextureCoord = aTextureCoord;", "}"].join("\n"),
            s = r.createShader(r.VERTEX_SHADER);
        r.shaderSource(s, a), r.compileShader(s);
        var o = ["precision highp float;", "varying lowp vec2 vTextureCoord;", "uniform sampler2D YTexture;", "uniform sampler2D UTexture;", "uniform sampler2D VTexture;", "const mat4 YUV2RGB = mat4", "(", " 1.1643828125, 0, 1.59602734375, -.87078515625,", " 1.1643828125, -.39176171875, -.81296875, .52959375,", " 1.1643828125, 2.017234375, 0, -1.081390625,", " 0, 0, 0, 1", ");", "void main(void) {", " gl_FragColor = vec4( texture2D(YTexture, vTextureCoord).x, texture2D(UTexture, vTextureCoord).x, texture2D(VTexture, vTextureCoord).x, 1) * YUV2RGB;", "}"].join("\n"),
            f = r.createShader(r.FRAGMENT_SHADER);
        r.shaderSource(f, o), r.compileShader(f), r.attachShader(n, s), r.attachShader(n, f), r.linkProgram(n), r.useProgram(n), r.getProgramParameter(n, r.LINK_STATUS);
        var u = r.getAttribLocation(n, "aVertexPosition");
        r.enableVertexAttribArray(u);
        var h = r.getAttribLocation(n, "aTextureCoord");
        r.enableVertexAttribArray(h);
        var c = r.createBuffer();
        r.bindBuffer(r.ARRAY_BUFFER, c), r.bufferData(r.ARRAY_BUFFER, new Float32Array([1, 1, 0, -1, 1, 0, 1, -1, 0, -1, -1, 0]), r.STATIC_DRAW), r.vertexAttribPointer(u, 3, r.FLOAT, !1, 0, 0);
        var d = r.createBuffer();
        return r.bindBuffer(r.ARRAY_BUFFER, d), r.bufferData(r.ARRAY_BUFFER, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]), r.STATIC_DRAW), r.vertexAttribPointer(h, 2, r.FLOAT, !1, 0, 0), r.y = new i(r), r.u = new i(r), r.v = new i(r), r.y.bind(0, n, "YTexture"), r.u.bind(1, n, "UTexture"), r.v.bind(2, n, "VTexture"), r;
      }
    };
  }, {}],
  228: [function (e, t, r) {
    (function (e) {
      "use strict";

      e.STATIC_MEM_wasmDecoderState = -1, e.STATICE_MEM_playerCount = -1, e.STATICE_MEM_playerIndexPtr = 0;
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
  }, {}],
  229: [function (e, t, r) {
    "use strict";

    function i(e, t) {
      for (var r = 0; r < t.length; r++) {
        var i = t[r];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
      }
    }

    var n = function () {
      function e() {
        !function (e, t) {
          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }(this, e);
      }

      var t, r, n;
      return t = e, n = [{
        key: "createPlayerRender",
        value: function value(e, t, r) {
          var i = document.querySelector("div#" + e);
          return i.style.position = "relative", i.style.backgroundColor = "black", i.style.width = t + "px", i.style.height = r + "px", i;
        }
      }], (r = null) && i(t.prototype, r), n && i(t, n), e;
    }();

    r.UI = n;
  }, {}],
  230: [function (e, t, r) {
    "use strict";

    t.exports = {
      PLAYER_VERSION: "2.3.0"
    };
  }, {}]
}, {}, [225]);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

require('./h265webjs');

var h265webjs =
/*#__PURE__*/
function () {
  function h265webjs() {
    _classCallCheck(this, h265webjs);
  }

  _createClass(h265webjs, null, [{
    key: "createPlayer",
    value: function createPlayer(videoURL, config) {
      return window.new265webjs(videoURL, config);
    }
  }, {
    key: "clear",
    value: function clear() {
      global.STATICE_MEM_playerCount = -1;
      global.STATICE_MEM_playerIndexPtr = 0;
    }
  }]);

  return h265webjs;
}();

exports["default"] = h265webjs;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./h265webjs":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * codecImp Obj
 * Video Raw 265 264 Parser
 */
var AfterGetNalThenMvLen = 3;

var RawParserModule =
/*#__PURE__*/
function () {
  function RawParserModule() {
    _classCallCheck(this, RawParserModule);

    this.frameList = null;
    this.stream = null;
  }
  /*
   *****************************************************
   *                                                   *
   *                                                   *
   *                     HEVC Frames                   *
   *                                                   *
   *                                                   *
   *****************************************************
   */


  _createClass(RawParserModule, [{
    key: "pushFrameRet",
    value: function pushFrameRet(streamPushInput) {
      if (!streamPushInput || streamPushInput == undefined || streamPushInput == null) {
        return false;
      }

      if (!this.frameList || this.frameList == undefined || this.frameList == null) {
        this.frameList = [];
        this.frameList.push(streamPushInput);
      } else {
        this.frameList.push(streamPushInput);
      }

      return true;
    }
  }, {
    key: "nextFrame",
    value: function nextFrame() {
      if (!this.frameList && this.frameList == undefined || this.frameList == null && this.frameList.length < 1) {
        return null;
      }

      return this.frameList.shift();
    }
  }, {
    key: "clearFrameRet",
    value: function clearFrameRet() {
      this.frameList = null;
    }
    /*
     *****************************************************
     *                                                   *
     *                                                   *
     *                     HEVC stream                   *
     *                                                   *
     *                                                   *
     *****************************************************
     */

  }, {
    key: "setStreamRet",
    value: function setStreamRet(streamBufInput) {
      this.stream = streamBufInput;
    }
  }, {
    key: "getStreamRet",
    value: function getStreamRet() {
      return this.stream;
    }
    /**
     * push stream nalu, for live, not vod
     * @param Uint8Array
     * @return bool
     */

  }, {
    key: "appendStreamRet",
    value: function appendStreamRet(input) {
      if (!input || input === undefined || input == null) {
        return false;
      }

      if (!this.stream || this.stream === undefined || this.stream == null) {
        this.stream = input;
        return true;
      }

      var lenOld = this.stream.length;
      var lenPush = input.length;
      var mergeStream = new Uint8Array(lenOld + lenPush);
      mergeStream.set(this.stream, 0);
      mergeStream.set(input, lenOld);
      this.stream = mergeStream;
      return true;
    }
    /**
     * sub nalu stream, and get Nalu unit
     */

  }, {
    key: "subBuf",
    value: function subBuf(startOpen, endOpen) {
      // sub block [m,n]
      // nal
      var returnBuf = new Uint8Array(this.stream.subarray(startOpen, endOpen + 1)); // streamBuf sub

      this.stream = new Uint8Array(this.stream.subarray(endOpen + 1));
      return returnBuf;
    }
    /**
     * @param onceGetNalCount: once use get nal count, defult 1
     * @return uint8array OR false
     */

  }, {
    key: "nextNalu",
    value: function nextNalu() {
      var onceGetNalCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

      // check params
      if (this.stream == null || this.stream.length <= 4) {
        return false;
      } // start nal pos


      var startTag = -1; // return nalBuf

      var returnNalBuf = null;

      for (var i = 0; i < this.stream.length; i++) {
        if (i + 5 >= this.stream.length) {
          if (startTag == -1) {
            return false;
          } else {
            // 如果结尾不到判断的字节位置 就直接全量输出最后一个nal
            returnNalBuf = this.subBuf(startTag, this.stream.length - 1);
            return returnNalBuf;
          }
        } // find nal


        if ( // 0x00 00 01
        this.stream[i] == 0 && this.stream[i + 1] == 0 && this.stream[i + 2] == 1 || // 0x00 00 00 01
        this.stream[i] == 0 && this.stream[i + 1] == 0 && this.stream[i + 2] == 0 && this.stream[i + 3] == 1) {
          // console.log(
          //     "enter find nal , now startTag:" + startTag 
          //     + ", now pos:" + i
          // );
          var nowPos = i;
          i += AfterGetNalThenMvLen; // 移出去
          // begin pos

          if (startTag == -1) {
            startTag = nowPos;
          } else {
            if (onceGetNalCount <= 1) {
              // startCode - End
              // [startTag,nowPos)
              // console.log("[===>] last code hex is :" + this.stream[nowPos-1].toString(16))
              returnNalBuf = this.subBuf(startTag, nowPos - 1);
              return returnNalBuf;
            } else {
              onceGetNalCount -= 1;
            }
          }
        }
      } // end for


      return false;
    }
  }, {
    key: "nextNalu2",
    value: function nextNalu2() {
      var onceGetNalCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

      // check params
      if (this.stream == null || this.stream.length <= 4) {
        return false;
      } // start nal pos


      var startTag = -1; // return nalBuf

      var returnNalBuf = null;

      for (var i = 0; i < this.stream.length; i++) {
        if (i + 5 >= this.stream.length) {
          if (startTag == -1) {
            return false;
          } else {
            // 如果结尾不到判断的字节位置 就直接全量输出最后一个nal
            returnNalBuf = this.subBuf(startTag, this.stream.length - 1);
            return returnNalBuf;
          }
        } // find nal


        var is3BitHeader = this.stream.slice(i, i + 3).join(' ') == '0 0 1';
        var is4BitHeader = this.stream.slice(i, i + 4).join(' ') == '0 0 0 1';

        if (is3BitHeader || is4BitHeader) {
          var nowPos = i;
          i += AfterGetNalThenMvLen; // 移出去
          // begin pos

          if (startTag == -1) {
            startTag = nowPos;
          } else {
            if (onceGetNalCount <= 1) {
              // startCode - End
              // [startTag,nowPos)
              // console.log("[===>] last code hex is :" + this.stream[nowPos-1].toString(16))
              returnNalBuf = this.subBuf(startTag, nowPos - 1);
              return returnNalBuf;
            } else {
              onceGetNalCount -= 1;
            }
          }
        }
      } // end for


      return false;
    }
    /**
     * @brief sub nalu stream, and get Nalu unit
     *          to parse: 
     *           typedef struct {
     *               uint32_t width;
     *               uint32_t height;
     *               uint8_t *dataY;
     *               uint8_t *dataChromaB;
     *               uint8_t *dataChromaR;
     *           } ImageData;
     * @params struct_ptr: Module.cwrap('getFrame', 'number', [])
     * @return Dict
     */

  }, {
    key: "parseYUVFrameStruct",
    value: function parseYUVFrameStruct() {
      var struct_ptr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      // sub block [m,n]
      if (struct_ptr == null || !struct_ptr || struct_ptr == undefined) {
        return null;
      }

      var width = Module.HEAPU32[struct_ptr / 4];
      var height = Module.HEAPU32[struct_ptr / 4 + 1]; // let imgBufferPtr    = Module.HEAPU32[ptr / 4 + 2];
      // let imageBuffer     = Module.HEAPU8.subarray(imgBufferPtr, imgBufferPtr + width * height * 3);
      // console.log("width:",width," height:",height);

      var sizeWH = width * height; // let imgBufferYPtr   = Module.HEAPU32[ptr / 4 + 2];
      // let imageBufferY    = Module.HEAPU8.subarray(imgBufferYPtr, imgBufferYPtr + sizeWH);
      // let imgBufferBPtr   = Module.HEAPU32[ptr/4+ 2 + sizeWH/4 + 1];
      // let imageBufferB    = Module.HEAPU8.subarray(
      //     imgBufferBPtr, 
      //     imgBufferBPtr + sizeWH/4
      // );
      // console.log(imageBufferB);
      // let imgBufferRPtr   = Module.HEAPU32[imgBufferBPtr + sizeWH/16 + 1];
      // let imageBufferR    = Module.HEAPU8.subarray(
      //     imgBufferRPtr, 
      //     imgBufferRPtr + sizeWH/4
      // );

      var imgBufferPtr = Module.HEAPU32[struct_ptr / 4 + 1 + 1];
      var imageBufferY = Module.HEAPU8.subarray(imgBufferPtr, imgBufferPtr + sizeWH);
      var imageBufferB = Module.HEAPU8.subarray(imgBufferPtr + sizeWH + 8, imgBufferPtr + sizeWH + 8 + sizeWH / 4);
      var imageBufferR = Module.HEAPU8.subarray(imgBufferPtr + sizeWH + 8 + sizeWH / 4 + 8, imgBufferPtr + sizeWH + 8 + sizeWH / 2 + 8);
      return {
        width: width,
        height: height,
        sizeWH: sizeWH,
        imageBufferY: imageBufferY,
        imageBufferB: imageBufferB,
        imageBufferR: imageBufferR
      };
    }
  }]);

  return RawParserModule;
}();

exports["default"] = RawParserModule;

},{}],4:[function(require,module,exports){
(function (global){
"use strict";

var _index = _interopRequireDefault(require("./dist/index"));

var _rawParser = _interopRequireDefault(require("./dist/raw-parser.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var ScreenModule = require('./screen');

var SHOW_LOADING = "LOADING...!";
var SHOW_DONE = "done.";

function durationText(duration) {
  if (duration < 0) {
    return "Play";
  }

  var durationSecInt = Math.round(duration);
  return Math.floor(durationSecInt / 3600) + ":" + Math.floor(durationSecInt % 3600 / 60) + ":" + Math.floor(durationSecInt % 60);
}

global.makeH265webjs = function (videoURL, config) {
  var screenView = new ScreenModule.Screen();

  var h265webjs = _index["default"].createPlayer(videoURL, config);

  var progressPts = document.querySelector('#progressPts');
  var progressVoice = document.querySelector('#progressVoice');
  var playBar = document.querySelector('#playBtn');
  var showLabel = document.querySelector('#showLabel');
  var ptsLabel = document.querySelector('#ptsLabel');
  var fullScreenBtn = document.querySelector('#fullScreenBtn');
  var mediaInfo = null;
  playBar.disabled = true;
  playBar.textContent = '>';
  showLabel.textContent = SHOW_LOADING;

  playBar.onclick = function () {
    if (h265webjs.isPlaying()) {
      console.log("bar pause============>");
      playBar.textContent = '>';
      h265webjs.pause();
    } else {
      playBar.textContent = '||';
      h265webjs.play();
    }
  };

  fullScreenBtn.onclick = function () {
    screenView.open();
    h265webjs.setRenderScreen(true);
  };

  screenView.onClose = function () {
    h265webjs.setRenderScreen(false);
  };

  progressPts.addEventListener('click', function (e) {
    showLabel.textContent = SHOW_LOADING;
    var x = e.pageX - progressPts.offsetLeft; // or e.offsetX (less support, though)

    var y = e.pageY - progressPts.offsetTop; // or e.offsetY

    var clickedValue = x * progressPts.max / progressPts.offsetWidth;
    h265webjs.seek(clickedValue);
  });
  progressVoice.addEventListener('click', function (e) {
    var x = e.pageX - progressVoice.offsetLeft; // or e.offsetX (less support, though)

    var y = e.pageY - progressVoice.offsetTop; // or e.offsetY

    var clickedValue = x * progressVoice.max / progressVoice.offsetWidth;
    progressVoice.value = clickedValue;
    var volume = clickedValue / 100;
    h265webjs.setVoice(volume);
  });

  h265webjs.onSeekStart = function (pts) {
    showLabel.textContent = SHOW_LOADING + " seek to:" + parseInt(pts);
  };

  h265webjs.onSeekFinish = function () {
    showLabel.textContent = SHOW_DONE;
  };

  h265webjs.onPlayFinish = function () {
    playBar.textContent = '>';
  };

  h265webjs.onRender = function (width, height, imageBufferY, imageBufferB, imageBufferR) {
    screenView.render(width, height, imageBufferY, imageBufferB, imageBufferR);
    console.log("on render");
  };

  h265webjs.onLoadCache = function () {
    showLabel.textContent = "Caching...";
  };

  h265webjs.onLoadCacheFinshed = function () {
    showLabel.textContent = SHOW_DONE;
  };

  h265webjs.onLoadFinish = function () {
    h265webjs.setVoice(1.0);
    mediaInfo = h265webjs.mediaInfo();
    console.log("mediaInfo===========>", mediaInfo);
    /*
    meta:
        durationMs: 144400
        fps: 25
        sampleRate: 44100
        size: {
            width: 864,
            height: 480
        },
        audioNone : false
    videoType: "vod"
    */

    playBar.disabled = false;

    if (mediaInfo.meta.audioNone) {
      progressVoice.value = 0;
      progressVoice.style.display = 'none';
    }

    if (mediaInfo.videoType == "vod") {
      progressPts.max = mediaInfo.meta.durationMs / 1000;
      ptsLabel.textContent = '0:0:0/' + durationText(progressPts.max);
    } else {
      progressPts.hidden = true;
      ptsLabel.textContent = '0:0:0/LIVE';
    }

    showLabel.textContent = SHOW_DONE;
  };

  h265webjs.onPlayTime = function (videoPTS) {
    if (mediaInfo.videoType == "vod") {
      progressPts.value = videoPTS;
      ptsLabel.textContent = durationText(videoPTS) + '/' + durationText(progressPts.max);
    } else {
      ptsLabel.textContent = durationText(videoPTS) + '/LIVE';
    }
  };

  h265webjs["do"]();
  return h265webjs;
};
/*
 * 创建265流播放器
 */


global.makeH265webjsRaw = function (url265, config) {
  var screenView = new ScreenModule.Screen();

  var h265webjs = _index["default"].createPlayer(null, config);

  var progressPts = document.querySelector('#progressPts');
  var progressVoice = document.querySelector('#progressVoice');
  var playBar = document.querySelector('#playBtn');
  var fullScreenBtn = document.querySelector('#fullScreenBtn');
  var mediaInfo = null;
  playBar.disabled = true;
  playBar.textContent = '>';

  playBar.onclick = function () {
    if (h265webjs.isPlaying()) {
      console.log("bar pause============>");
      playBar.textContent = '>';
      h265webjs.pause();
    } else {
      playBar.textContent = '||';
      h265webjs.play();
    }
  };

  fullScreenBtn.onclick = function () {
    screenView.open();
    h265webjs.setRenderScreen(true);
  };

  screenView.onClose = function () {
    h265webjs.setRenderScreen(false);
  };

  h265webjs.onRender = function (width, height, imageBufferY, imageBufferB, imageBufferR) {
    screenView.render(width, height, imageBufferY, imageBufferB, imageBufferR);
    console.log("on render");
  };

  h265webjs.onPlayTime = function (videoPTS) {
    if (mediaInfo.videoType == "vod") {
      progressPts.value = videoPTS;
      ptsLabel.textContent = durationText(videoPTS) + '/' + durationText(progressPts.max);
    } else {
      ptsLabel.textContent = durationText(videoPTS) + '/LIVE';
    }
  };

  h265webjs.onLoadFinish = function () {
    h265webjs.setVoice(1.0);
    mediaInfo = h265webjs.mediaInfo();
    console.log("mediaInfo===========>", mediaInfo);
    /*
    meta:
        durationMs: 144400
        fps: 25
        sampleRate: 44100
        size: {
            width: 864,
            height: 480
        },
        audioNone : false
    videoType: "vod"
    */

    playBar.disabled = false;

    if (mediaInfo.meta.audioNone) {
      progressVoice.value = 0;
      progressVoice.style.display = 'none';
    }

    if (mediaInfo.videoType == "vod") {
      progressPts.max = mediaInfo.meta.durationMs / 1000;
      ptsLabel.textContent = '0:0:0/' + durationText(progressPts.max);
    } else {
      progressPts.hidden = true;
      ptsLabel.textContent = '0:0:0/LIVE';
    }

    showLabel.textContent = SHOW_DONE;
  };

  h265webjs["do"]();
  /*
   * fetch 265
   */

  /*
   * fetch 265
   * you can use your code to fetch vod stream
   * only need `h265webjs.append265NaluFrame(nalBuf);` to append 265 frame
   */

  var rawParser = new _rawParser["default"]();
  var fetchFinished = false;
  var startFetch = false;
  var networkInterval = window.setInterval(function () {
    if (!startFetch) {
      startFetch = true;
      fetch(url265).then(function (response) {
        var pump = function pump(reader) {
          return reader.read().then(function (result) {
            if (result.done) {
              // console.log("========== RESULT DONE ===========");
              fetchFinished = true;
              window.clearInterval(networkInterval);
              networkInterval = null;
              return;
            }

            var chunk = result.value;
            rawParser.appendStreamRet(chunk);
            return pump(reader);
          });
        };

        return pump(response.body.getReader());
      })["catch"](function (error) {
        console.log(error);
      });
    }
  }, 1); // fps>=30 play else cache

  var naluParseInterval = window.setInterval(function () {
    var test1time = getMsTime();
    var nalBuf = rawParser.nextNalu(); // nal

    var preCostTime = getMsTime() - test1time;
    console.log("rawParser.nextNalu() => ", nalBuf, " usage => ", preCostTime);

    if (nalBuf != false) {
      // require
      h265webjs.append265NaluFrame(nalBuf);
    } else if (fetchFinished) {
      window.clearInterval(naluParseInterval);
      naluParseInterval = null;
    }
  }, 1);
  return h265webjs;
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./dist/index":2,"./dist/raw-parser.js":3,"./screen":5}],5:[function(require,module,exports){
"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var YUVBuffer = require('yuv-buffer');

var YUVCanvas = require('yuv-canvas');

var ScreenModule =
/*#__PURE__*/
function () {
  function ScreenModule() {
    _classCallCheck(this, ScreenModule);

    this.screenW = window.screen.width;
    this.screenH = window.screen.height;
    this.fixed = false;
    this.screenCanvasBox = null;
    this.screenCanvas = null;
    this.screenYuv = null;

    this._makeScreenGL(); // Event


    this.onClose = null;
  }

  _createClass(ScreenModule, [{
    key: "render",
    value: function render(width, height, imageBufferY, imageBufferB, imageBufferR) {
      this.screenYuv.clear();

      var displayWH = this._checkScreenDisplaySize(width, height);

      var format = YUVBuffer.format({
        width: width,
        height: height,
        chromaWidth: width / 2,
        chromaHeight: height / 2,
        displayWidth: this.screenCanvas.offsetWidth,
        displayHeight: this.screenCanvas.offsetHeight
      });
      var frame = YUVBuffer.frame(format);
      frame.y.bytes = imageBufferY;
      frame.y.stride = width;
      frame.u.bytes = imageBufferB;
      frame.u.stride = width / 2;
      frame.v.bytes = imageBufferR;
      frame.v.stride = width / 2;
      this.screenYuv.drawFrame(frame);
    }
  }, {
    key: "open",
    value: function open() {
      this.screenCanvasBox.style.display = 'block';
    }
  }, {
    key: "close",
    value: function close() {
      this.screenCanvasBox.style.display = 'none';
      if (this.onClose != null) this.onClose();
    }
    /*
     * full screen
     */

  }, {
    key: "_checkScreenDisplaySize",
    value: function _checkScreenDisplaySize(widthIn, heightIn) {
      var biggerWidth = widthIn / this.screenW > heightIn / this.screenH;
      var fixedWidth = (this.screenW / widthIn).toFixed(2);
      var fixedHeight = (this.screenH / heightIn).toFixed(2);
      var scaleRatio = biggerWidth ? fixedWidth : fixedHeight;
      var width = this.fixed ? this.screenW : parseInt(widthIn * scaleRatio);
      var height = this.fixed ? this.screenH : parseInt(heightIn * scaleRatio);

      if (this.screenCanvas.offsetWidth != width || this.screenCanvas.offsetHeight != height) {
        var topMargin = parseInt((this.screenCanvasBox.offsetHeight - height) / 2);
        var leftMargin = parseInt((this.screenCanvasBox.offsetWidth - width) / 2);
        this.screenCanvas.style.marginTop = topMargin + 'px';
        this.screenCanvas.style.marginLeft = leftMargin + 'px';
        this.screenCanvas.style.width = width + 'px';
        this.screenCanvas.style.height = height + 'px';
      }

      return [width, height];
    }
  }, {
    key: "_makeScreenGL",
    value: function _makeScreenGL() {
      var canvasBox = document.createElement('div'); // canvasBox.style.position = 'relative';

      canvasBox.style.backgroundColor = 'black';
      canvasBox.style.width = this.screenW + 'px';
      canvasBox.style.height = this.screenH + 'px';
      canvasBox.style.display = 'none'; // canvasBox.style.display = 'block';

      canvasBox.style.position = 'absolute';
      canvasBox.style.zIndex = '2001';
      canvasBox.style.overflow = 'auto';
      canvasBox.style.top = "0px";
      canvasBox.style.left = "0px";
      var canvas = document.createElement('canvas');
      canvas.style.width = canvasBox.clientWidth + 'px';
      canvas.style.height = canvasBox.clientHeight + 'px';
      canvas.style.top = '0px';
      canvas.style.left = '0px';
      canvasBox.appendChild(canvas);
      this.screenCanvasBox = canvasBox;
      this.screenCanvas = canvas;
      this.screenYuv = YUVCanvas.attach(canvas); // this.screenYuv.clear() //clearing the canvas?

      document.body.appendChild(canvasBox);

      this._addCloseBtn();
    }
  }, {
    key: "_addCloseBtn",
    value: function _addCloseBtn() {
      var _this = this;

      var closeBtn = document.createElement('button');
      closeBtn.style.backgroundColor = 'white';
      closeBtn.style.width = '100px';
      closeBtn.style.height = '100px';
      closeBtn.style.display = 'block';
      closeBtn.style.position = 'absolute';
      closeBtn.style.zIndex = '2002';
      closeBtn.style.overflow = 'auto';
      closeBtn.style.top = "5px";
      closeBtn.style.left = "5px";
      closeBtn.textContent = "X";

      closeBtn.onclick = function () {
        _this.close();
      };

      this.screenCanvasBox.appendChild(closeBtn);
    }
  }]);

  return ScreenModule;
}();

exports.Screen = ScreenModule;

},{"yuv-buffer":6,"yuv-canvas":13}],6:[function(require,module,exports){
/*
Copyright (c) 2014-2016 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
ONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * Represents metadata about a YUV frame format.
 * @typedef {Object} YUVFormat
 * @property {number} width - width of encoded frame in luma pixels
 * @property {number} height - height of encoded frame in luma pixels
 * @property {number} chromaWidth - width of encoded frame in chroma pixels
 * @property {number} chromaHeight - height of encoded frame in chroma pixels
 * @property {number} cropLeft - upper-left X coordinate of visible crop region, in luma pixels
 * @property {number} cropTop - upper-left Y coordinate of visible crop region, in luma pixels
 * @property {number} cropWidth - width of visible crop region, in luma pixels
 * @property {number} cropHeight - height of visible crop region, in luma pixels
 * @property {number} displayWidth - final display width of visible region, in luma pixels
 * @property {number} displayHeight - final display height of visible region, in luma pixels
 */

/**
 * Represents underlying image data for a single luma or chroma plane.
 * Cannot be interpreted without the format data from a frame buffer.
 * @typedef {Object} YUVPlane
 * @property {Uint8Array} bytes - typed array containing image data bytes
 * @property {number} stride - byte distance between rows in data
 */

/**
 * Represents a YUV image frame buffer, with enough format information
 * to interpret the data usefully. Buffer objects use generic objects
 * under the hood and can be transferred between worker threads using
 * the structured clone algorithm.
 *
 * @typedef {Object} YUVFrame
 * @property {YUVFormat} format
 * @property {YUVPlane} y
 * @property {YUVPlane} u
 * @property {YUVPlane} v
 */

/**
 * Holder namespace for utility functions and constants related to
 * YUV frame and plane buffers.
 *
 * @namespace
 */
var YUVBuffer = {
  /**
   * Validate a plane dimension
   * @param {number} dim - vertical or horizontal dimension
   * @throws exception on zero, negative, or non-integer value
   */
  validateDimension: function(dim) {
    if (dim <= 0 || dim !== (dim | 0)) {
      throw 'YUV plane dimensions must be a positive integer';
    }
  },

  /**
   * Validate a plane offset
   * @param {number} dim - vertical or horizontal dimension
   * @throws exception on negative or non-integer value
   */
  validateOffset: function(dim) {
    if (dim < 0 || dim !== (dim | 0)) {
      throw 'YUV plane offsets must be a non-negative integer';
    }
  },

  /**
   * Validate and fill out a YUVFormat object structure.
   *
   * At least width and height fields are required; other fields will be
   * derived if left missing or empty:
   * - chromaWidth and chromaHeight will be copied from width and height as for a 4:4:4 layout
   * - cropLeft and cropTop will be 0
   * - cropWidth and cropHeight will be set to whatever of the frame is visible after cropTop and cropLeft are applied
   * - displayWidth and displayHeight will be set to cropWidth and cropHeight.
   *
   * @param {YUVFormat} fields - input fields, must include width and height.
   * @returns {YUVFormat} - validated structure, with all derivable fields filled out.
   * @throws exception on invalid fields or missing width/height
   */
  format: function(fields) {
    var width = fields.width,
      height = fields.height,
      chromaWidth = fields.chromaWidth || width,
      chromaHeight = fields.chromaHeight || height,
      cropLeft = fields.cropLeft || 0,
      cropTop = fields.cropTop || 0,
      cropWidth = fields.cropWidth || width - cropLeft,
      cropHeight = fields.cropHeight || height - cropTop,
      displayWidth = fields.displayWidth || cropWidth,
      displayHeight = fields.displayHeight || cropHeight;
    this.validateDimension(width);
    this.validateDimension(height);
    this.validateDimension(chromaWidth);
    this.validateDimension(chromaHeight);
    this.validateOffset(cropLeft);
    this.validateOffset(cropTop);
    this.validateDimension(cropWidth);
    this.validateDimension(cropHeight);
    this.validateDimension(displayWidth);
    this.validateDimension(displayHeight);
    return {
      width: width,
      height: height,
      chromaWidth: chromaWidth,
      chromaHeight: chromaHeight,
      cropLeft: cropLeft,
      cropTop: cropTop,
      cropWidth: cropWidth,
      cropHeight: cropHeight,
      displayWidth: displayWidth,
      displayHeight: displayHeight
    };
  },

  /**
   * Allocate a new YUVPlane object of the given size.
   * @param {number} stride - byte distance between rows
   * @param {number} rows - number of rows to allocate
   * @returns {YUVPlane} - freshly allocated planar buffer
   */
  allocPlane: function(stride, rows) {
    YUVBuffer.validateDimension(stride);
    YUVBuffer.validateDimension(rows);
    return {
      bytes: new Uint8Array(stride * rows),
      stride: stride
    }
  },

  /**
   * Pick a suitable stride for a custom-allocated thingy
   * @param {number} width - width in bytes
   * @returns {number} - new width in bytes at least as large
   * @throws exception on invalid input width
   */
  suitableStride: function(width) {
    YUVBuffer.validateDimension(width);
    var alignment = 4,
      remainder = width % alignment;
    if (remainder == 0) {
      return width;
    } else {
      return width + (alignment - remainder);
    }
  },

  /**
   * Allocate or extract a YUVPlane object from given dimensions/source.
   * @param {number} width - width in pixels
   * @param {number} height - height in pixels
   * @param {Uint8Array} source - input byte array; optional (will create empty buffer if missing)
   * @param {number} stride - row length in bytes; optional (will create a default if missing)
   * @param {number} offset - offset into source array to extract; optional (will start at 0 if missing)
   * @returns {YUVPlane} - freshly allocated planar buffer
   */
  allocPlane: function(width, height, source, stride, offset) {
    var size, bytes;

    this.validateDimension(width);
    this.validateDimension(height);

    offset = offset || 0;

    stride = stride || this.suitableStride(width);
    this.validateDimension(stride);
    if (stride < width) {
      throw "Invalid input stride for YUV plane; must be larger than width";
    }

    size = stride * height;

    if (source) {
      if (source.length - offset < size) {
        throw "Invalid input buffer for YUV plane; must be large enough for stride times height";
      }
      bytes = source.slice(offset, offset + size);
    } else {
      bytes = new Uint8Array(size);
      stride = stride || this.suitableStride(width);
    }

    return {
      bytes: bytes,
      stride: stride
    };
  },

  /**
   * Allocate a new YUVPlane object big enough for a luma plane in the given format
   * @param {YUVFormat} format - target frame format
   * @param {Uint8Array} source - input byte array; optional (will create empty buffer if missing)
   * @param {number} stride - row length in bytes; optional (will create a default if missing)
   * @param {number} offset - offset into source array to extract; optional (will start at 0 if missing)
   * @returns {YUVPlane} - freshly allocated planar buffer
   */
  lumaPlane: function(format, source, stride, offset) {
    return this.allocPlane(format.width, format.height, source, stride, offset);
  },

  /**
   * Allocate a new YUVPlane object big enough for a chroma plane in the given format,
   * optionally copying data from an existing buffer.
   *
   * @param {YUVFormat} format - target frame format
   * @param {Uint8Array} source - input byte array; optional (will create empty buffer if missing)
   * @param {number} stride - row length in bytes; optional (will create a default if missing)
   * @param {number} offset - offset into source array to extract; optional (will start at 0 if missing)
   * @returns {YUVPlane} - freshly allocated planar buffer
   */
  chromaPlane: function(format, source, stride, offset) {
    return this.allocPlane(format.chromaWidth, format.chromaHeight, source, stride, offset);
  },

  /**
   * Allocate a new YUVFrame object big enough for the given format
   * @param {YUVFormat} format - target frame format
   * @param {YUVPlane} y - optional Y plane; if missing, fresh one will be allocated
   * @param {YUVPlane} u - optional U plane; if missing, fresh one will be allocated
   * @param {YUVPlane} v - optional V plane; if missing, fresh one will be allocated
   * @returns {YUVFrame} - freshly allocated frame buffer
   */
  frame: function(format, y, u, v) {
    y = y || this.lumaPlane(format);
    u = u || this.chromaPlane(format);
    v = v || this.chromaPlane(format);
    return {
      format: format,
      y: y,
      u: u,
      v: v
    }
  },

  /**
   * Duplicate a plane using new buffer memory.
   * @param {YUVPlane} plane - input plane to copy
   * @returns {YUVPlane} - freshly allocated and filled planar buffer
   */
  copyPlane: function(plane) {
    return {
      bytes: plane.bytes.slice(),
      stride: plane.stride
    };
  },

  /**
   * Duplicate a frame using new buffer memory.
   * @param {YUVFrame} frame - input frame to copyFrame
   * @returns {YUVFrame} - freshly allocated and filled frame buffer
   */
  copyFrame: function(frame) {
    return {
      format: frame.format,
      y: this.copyPlane(frame.y),
      u: this.copyPlane(frame.u),
      v: this.copyPlane(frame.v)
    }
  },

  /**
   * List the backing buffers for the frame's planes for transfer between
   * threads via Worker.postMessage.
   * @param {YUVFrame} frame - input frame
   * @returns {Array} - list of transferable objects
   */
  transferables: function(frame) {
    return [frame.y.bytes.buffer, frame.u.bytes.buffer, frame.v.bytes.buffer];
  }
};

module.exports = YUVBuffer;

},{}],7:[function(require,module,exports){
module.exports = {
  vertex: "precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aLumaPosition;\nattribute vec2 aChromaPosition;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vLumaPosition = aLumaPosition;\n    vChromaPosition = aChromaPosition;\n}\n",
  fragment: "// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n\nprecision lowp float;\n\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.\n   float fY = texture2D(uTextureY, vLumaPosition).x;\n   float fCb = texture2D(uTextureCb, vChromaPosition).x;\n   float fCr = texture2D(uTextureCr, vChromaPosition).x;\n\n   // Premultipy the Y...\n   float fYmul = fY * 1.1643828125;\n\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     fYmul + 1.59602734375 * fCr - 0.87078515625,\n     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,\n     fYmul + 2.017234375   * fCb - 1.081390625,\n     1\n   );\n}\n",
  vertexStripe: "precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aTexturePosition;\nvarying vec2 vTexturePosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vTexturePosition = aTexturePosition;\n}\n",
  fragmentStripe: "// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures\n\nprecision lowp float;\n\nuniform sampler2D uStripe;\nuniform sampler2D uTexture;\nvarying vec2 vTexturePosition;\nvoid main() {\n   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture\n   // so we can upload them without expanding the bytes on IE 11\n   // which doesn't allow LUMINANCE or ALPHA textures\n   // The stripe textures mark which channel to keep for each pixel.\n   // Each texture extraction will contain the relevant value in one\n   // channel only.\n\n   float fLuminance = dot(\n      texture2D(uStripe, vTexturePosition),\n      texture2D(uTexture, vTexturePosition)\n   );\n\n   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);\n}\n"
};

},{}],8:[function(require,module,exports){
(function() {
  "use strict";

  /**
   * Create a YUVCanvas and attach it to an HTML5 canvas element.
   *
   * This will take over the drawing context of the canvas and may turn
   * it into a WebGL 3d canvas if possible. Do not attempt to use the
   * drawing context directly after this.
   *
   * @param {HTMLCanvasElement} canvas - HTML canvas element to attach to
   * @param {YUVCanvasOptions} options - map of options
   * @throws exception if WebGL requested but unavailable
   * @constructor
   * @abstract
   */
  function FrameSink(canvas, options) {
    throw new Error('abstract');
  }

  /**
   * Draw a single YUV frame on the underlying canvas, converting to RGB.
   * If necessary the canvas will be resized to the optimal pixel size
   * for the given buffer's format.
   *
   * @param {YUVBuffer} buffer - the YUV buffer to draw
   * @see {@link https://www.npmjs.com/package/yuv-buffer|yuv-buffer} for format
   */
  FrameSink.prototype.drawFrame = function(buffer) {
    throw new Error('abstract');
  };

  /**
   * Clear the canvas using appropriate underlying 2d or 3d context.
   */
  FrameSink.prototype.clear = function() {
    throw new Error('abstract');
  };

  module.exports = FrameSink;

})();

},{}],9:[function(require,module,exports){
/*
Copyright (c) 2014-2016 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function() {
	"use strict";

	var FrameSink = require('./FrameSink.js'),
		YCbCr = require('./YCbCr.js');

	/**
	 * @param {HTMLCanvasElement} canvas - HTML canvas eledment to attach to
	 * @constructor
	 */
	function SoftwareFrameSink(canvas) {
		var self = this,
			ctx = canvas.getContext('2d'),
			imageData = null,
			resampleCanvas = null,
			resampleContext = null;



		function initImageData(width, height) {
			imageData = ctx.createImageData(width, height);

			// Prefill the alpha to opaque
			var data = imageData.data,
				pixelCount = width * height * 4;
			for (var i = 0; i < pixelCount; i += 4) {
				data[i + 3] = 255;
			}
		}

		function initResampleCanvas(cropWidth, cropHeight) {
			resampleCanvas = document.createElement('canvas');
			resampleCanvas.width = cropWidth;
			resampleCanvas.height = cropHeight;
			resampleContext = resampleCanvas.getContext('2d');
		}

		/**
		 * Actually draw a frame into the canvas.
		 * @param {YUVFrame} buffer - YUV frame buffer object to draw
		 */
		self.drawFrame = function drawFrame(buffer) {
			var format = buffer.format;

			if (canvas.width !== format.displayWidth || canvas.height !== format.displayHeight) {
				// Keep the canvas at the right size...
				canvas.width = format.displayWidth;
				canvas.height = format.displayHeight;
			}

			if (imageData === null ||
					imageData.width != format.width ||
					imageData.height != format.height) {
				initImageData(format.width, format.height);
			}

			// YUV -> RGB over the entire encoded frame
			YCbCr.convertYCbCr(buffer, imageData.data);

			var resample = (format.cropWidth != format.displayWidth || format.cropHeight != format.displayHeight);
			var drawContext;
			if (resample) {
				// hack for non-square aspect-ratio
				// putImageData doesn't resample, so we have to draw in two steps.
				if (!resampleCanvas) {
					initResampleCanvas(format.cropWidth, format.cropHeight);
				}
				drawContext = resampleContext;
			} else {
				drawContext = ctx;
			}

			// Draw cropped frame to either the final or temporary canvas
			drawContext.putImageData(imageData,
				-format.cropLeft, -format.cropTop, // must offset the offset
				format.cropLeft, format.cropTop,
				format.cropWidth, format.cropHeight);

			if (resample) {
				ctx.drawImage(resampleCanvas, 0, 0, format.displayWidth, format.displayHeight);
			}
		};

		self.clear = function() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);
		};

		return self;
	}

	SoftwareFrameSink.prototype = Object.create(FrameSink.prototype);

	module.exports = SoftwareFrameSink;
})();

},{"./FrameSink.js":8,"./YCbCr.js":11}],10:[function(require,module,exports){
/*
Copyright (c) 2014-2016 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function() {
	"use strict";

	var FrameSink = require('./FrameSink.js'),
		shaders = require('../build/shaders.js');

	/**
	 * Warning: canvas must not have been used for 2d drawing prior!
	 *
	 * @param {HTMLCanvasElement} canvas - HTML canvas element to attach to
	 * @constructor
	 */
	function WebGLFrameSink(canvas) {
		var self = this,
			gl = WebGLFrameSink.contextForCanvas(canvas),
			debug = false; // swap this to enable more error checks, which can slow down rendering

		if (gl === null) {
			throw new Error('WebGL unavailable');
		}

		// GL!
		function checkError() {
			if (debug) {
				err = gl.getError();
				if (err !== 0) {
					throw new Error("GL error " + err);
				}
			}
		}

		function compileShader(type, source) {
			var shader = gl.createShader(type);
			gl.shaderSource(shader, source);
			gl.compileShader(shader);

			if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
				var err = gl.getShaderInfoLog(shader);
				gl.deleteShader(shader);
				throw new Error('GL shader compilation for ' + type + ' failed: ' + err);
			}

			return shader;
		}


		var program,
			unpackProgram,
			err;

		// In the world of GL there are no rectangles.
		// There are only triangles.
		// THERE IS NO SPOON.
		var rectangle = new Float32Array([
			// First triangle (top left, clockwise)
			-1.0, -1.0,
			+1.0, -1.0,
			-1.0, +1.0,

			// Second triangle (bottom right, clockwise)
			-1.0, +1.0,
			+1.0, -1.0,
			+1.0, +1.0
		]);

		var textures = {};
		var framebuffers = {};
		var stripes = {};
		var buf, positionLocation, unpackPositionLocation;
		var unpackTexturePositionBuffer, unpackTexturePositionLocation;
		var stripeLocation, unpackTextureLocation;
		var lumaPositionBuffer, lumaPositionLocation;
		var chromaPositionBuffer, chromaPositionLocation;

		function createOrReuseTexture(name) {
			if (!textures[name]) {
				textures[name] = gl.createTexture();
			}
			return textures[name];
		}

		function uploadTexture(name, width, height, data) {
			var texture = createOrReuseTexture(name);
			gl.activeTexture(gl.TEXTURE0);

			if (WebGLFrameSink.stripe) {
				var uploadTemp = !textures[name + '_temp'];
				var tempTexture = createOrReuseTexture(name + '_temp');
				gl.bindTexture(gl.TEXTURE_2D, tempTexture);
				if (uploadTemp) {
					// new texture
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
					gl.texImage2D(
						gl.TEXTURE_2D,
						0, // mip level
						gl.RGBA, // internal format
						width / 4,
						height,
						0, // border
						gl.RGBA, // format
						gl.UNSIGNED_BYTE, // type
						data // data!
					);
				} else {
					// update texture
					gl.texSubImage2D(
						gl.TEXTURE_2D,
						0, // mip level
						0, // x offset
						0, // y offset
						width / 4,
						height,
						gl.RGBA, // format
						gl.UNSIGNED_BYTE, // type
						data // data!
					);
				}

				var stripeTexture = textures[name + '_stripe'];
				var uploadStripe = !stripeTexture;
				if (uploadStripe) {
					stripeTexture = createOrReuseTexture(name + '_stripe');
				}
				gl.bindTexture(gl.TEXTURE_2D, stripeTexture);
				if (uploadStripe) {
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
					gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
					gl.texImage2D(
						gl.TEXTURE_2D,
						0, // mip level
						gl.RGBA, // internal format
						width,
						1,
						0, // border
						gl.RGBA, // format
						gl.UNSIGNED_BYTE, //type
						buildStripe(width, 1) // data!
					);
				}

			} else {
				gl.bindTexture(gl.TEXTURE_2D, texture);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
				gl.texImage2D(
					gl.TEXTURE_2D,
					0, // mip level
					gl.LUMINANCE, // internal format
					width,
					height,
					0, // border
					gl.LUMINANCE, // format
					gl.UNSIGNED_BYTE, //type
					data // data!
				);
			}
		}

		function unpackTexture(name, width, height) {
			var texture = textures[name];

			// Upload to a temporary RGBA texture, then unpack it.
			// This is faster than CPU-side swizzling in ANGLE on Windows.
			gl.useProgram(unpackProgram);

			var fb = framebuffers[name];
			if (!fb) {
				// Create a framebuffer and an empty target size
				gl.activeTexture(gl.TEXTURE0);
				gl.bindTexture(gl.TEXTURE_2D, texture);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
				gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
				gl.texImage2D(
					gl.TEXTURE_2D,
					0, // mip level
					gl.RGBA, // internal format
					width,
					height,
					0, // border
					gl.RGBA, // format
					gl.UNSIGNED_BYTE, //type
					null // data!
				);

				fb = framebuffers[name] = gl.createFramebuffer();
			}

			gl.bindFramebuffer(gl.FRAMEBUFFER, fb);
			gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);

			var tempTexture = textures[name + '_temp'];
			gl.activeTexture(gl.TEXTURE1);
			gl.bindTexture(gl.TEXTURE_2D, tempTexture);
			gl.uniform1i(unpackTextureLocation, 1);

			var stripeTexture = textures[name + '_stripe'];
			gl.activeTexture(gl.TEXTURE2);
			gl.bindTexture(gl.TEXTURE_2D, stripeTexture);
			gl.uniform1i(stripeLocation, 2);

			// Rectangle geometry
			gl.bindBuffer(gl.ARRAY_BUFFER, buf);
			gl.enableVertexAttribArray(positionLocation);
			gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

			// Set up the texture geometry...
			gl.bindBuffer(gl.ARRAY_BUFFER, unpackTexturePositionBuffer);
			gl.enableVertexAttribArray(unpackTexturePositionLocation);
			gl.vertexAttribPointer(unpackTexturePositionLocation, 2, gl.FLOAT, false, 0, 0);

			// Draw into the target texture...
			gl.viewport(0, 0, width, height);

			gl.drawArrays(gl.TRIANGLES, 0, rectangle.length / 2);

			gl.bindFramebuffer(gl.FRAMEBUFFER, null);

		}

		function attachTexture(name, register, index) {
			gl.activeTexture(register);
			gl.bindTexture(gl.TEXTURE_2D, textures[name]);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);

			gl.uniform1i(gl.getUniformLocation(program, name), index);
		}

		function buildStripe(width) {
			if (stripes[width]) {
				return stripes[width];
			}
			var len = width,
				out = new Uint32Array(len);
			for (var i = 0; i < len; i += 4) {
				out[i    ] = 0x000000ff;
				out[i + 1] = 0x0000ff00;
				out[i + 2] = 0x00ff0000;
				out[i + 3] = 0xff000000;
			}
			return stripes[width] = new Uint8Array(out.buffer);
		}

		function initProgram(vertexShaderSource, fragmentShaderSource) {
			var vertexShader = compileShader(gl.VERTEX_SHADER, vertexShaderSource);
			var fragmentShader = compileShader(gl.FRAGMENT_SHADER, fragmentShaderSource);

			var program = gl.createProgram();
			gl.attachShader(program, vertexShader);
			gl.attachShader(program, fragmentShader);

			gl.linkProgram(program);
			if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
				var err = gl.getProgramInfoLog(program);
				gl.deleteProgram(program);
				throw new Error('GL program linking failed: ' + err);
			}

			return program;
		}

		function init() {
			if (WebGLFrameSink.stripe) {
				unpackProgram = initProgram(shaders.vertexStripe, shaders.fragmentStripe);
				unpackPositionLocation = gl.getAttribLocation(unpackProgram, 'aPosition');

				unpackTexturePositionBuffer = gl.createBuffer();
				var textureRectangle = new Float32Array([
					0, 0,
					1, 0,
					0, 1,
					0, 1,
					1, 0,
					1, 1
				]);
				gl.bindBuffer(gl.ARRAY_BUFFER, unpackTexturePositionBuffer);
				gl.bufferData(gl.ARRAY_BUFFER, textureRectangle, gl.STATIC_DRAW);

				unpackTexturePositionLocation = gl.getAttribLocation(unpackProgram, 'aTexturePosition');
				stripeLocation = gl.getUniformLocation(unpackProgram, 'uStripe');
				unpackTextureLocation = gl.getUniformLocation(unpackProgram, 'uTexture');
			}
			program = initProgram(shaders.vertex, shaders.fragment);

			buf = gl.createBuffer();
			gl.bindBuffer(gl.ARRAY_BUFFER, buf);
			gl.bufferData(gl.ARRAY_BUFFER, rectangle, gl.STATIC_DRAW);

			positionLocation = gl.getAttribLocation(program, 'aPosition');
			lumaPositionBuffer = gl.createBuffer();
			lumaPositionLocation = gl.getAttribLocation(program, 'aLumaPosition');
			chromaPositionBuffer = gl.createBuffer();
			chromaPositionLocation = gl.getAttribLocation(program, 'aChromaPosition');
		}

		/**
		 * Actually draw a frame.
		 * @param {YUVFrame} buffer - YUV frame buffer object
		 */
		self.drawFrame = function(buffer) {
			var format = buffer.format;

			var formatUpdate = (!program || canvas.width !== format.displayWidth || canvas.height !== format.displayHeight);
			if (formatUpdate) {
				// Keep the canvas at the right size...
				canvas.width = format.displayWidth;
				canvas.height = format.displayHeight;
				self.clear();
			}

			if (!program) {
				init();
			}

			if (formatUpdate) {
				var setupTexturePosition = function(buffer, location, texWidth) {
					// Warning: assumes that the stride for Cb and Cr is the same size in output pixels
					var textureX0 = format.cropLeft / texWidth;
					var textureX1 = (format.cropLeft + format.cropWidth) / texWidth;
					var textureY0 = (format.cropTop + format.cropHeight) / format.height;
					var textureY1 = format.cropTop / format.height;
					var textureRectangle = new Float32Array([
						textureX0, textureY0,
						textureX1, textureY0,
						textureX0, textureY1,
						textureX0, textureY1,
						textureX1, textureY0,
						textureX1, textureY1
					]);

					gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
					gl.bufferData(gl.ARRAY_BUFFER, textureRectangle, gl.STATIC_DRAW);
				};
				setupTexturePosition(
					lumaPositionBuffer,
					lumaPositionLocation,
					buffer.y.stride);
				setupTexturePosition(
					chromaPositionBuffer,
					chromaPositionLocation,
					buffer.u.stride * format.width / format.chromaWidth);
			}

			// Create or update the textures...
			uploadTexture('uTextureY', buffer.y.stride, format.height, buffer.y.bytes);
			uploadTexture('uTextureCb', buffer.u.stride, format.chromaHeight, buffer.u.bytes);
			uploadTexture('uTextureCr', buffer.v.stride, format.chromaHeight, buffer.v.bytes);

			if (WebGLFrameSink.stripe) {
				// Unpack the textures after upload to avoid blocking on GPU
				unpackTexture('uTextureY', buffer.y.stride, format.height);
				unpackTexture('uTextureCb', buffer.u.stride, format.chromaHeight);
				unpackTexture('uTextureCr', buffer.v.stride, format.chromaHeight);
			}

			// Set up the rectangle and draw it
			gl.useProgram(program);
			gl.viewport(0, 0, canvas.width, canvas.height);

			attachTexture('uTextureY', gl.TEXTURE0, 0);
			attachTexture('uTextureCb', gl.TEXTURE1, 1);
			attachTexture('uTextureCr', gl.TEXTURE2, 2);

			// Set up geometry
			gl.bindBuffer(gl.ARRAY_BUFFER, buf);
			gl.enableVertexAttribArray(positionLocation);
			gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

			// Set up the texture geometry...
			gl.bindBuffer(gl.ARRAY_BUFFER, lumaPositionBuffer);
			gl.enableVertexAttribArray(lumaPositionLocation);
			gl.vertexAttribPointer(lumaPositionLocation, 2, gl.FLOAT, false, 0, 0);

			gl.bindBuffer(gl.ARRAY_BUFFER, chromaPositionBuffer);
			gl.enableVertexAttribArray(chromaPositionLocation);
			gl.vertexAttribPointer(chromaPositionLocation, 2, gl.FLOAT, false, 0, 0);

			// Aaaaand draw stuff.
			gl.drawArrays(gl.TRIANGLES, 0, rectangle.length / 2);
		};

		self.clear = function() {
			gl.viewport(0, 0, canvas.width, canvas.height);
			gl.clearColor(0.0, 0.0, 0.0, 0.0);
			gl.clear(gl.COLOR_BUFFER_BIT);
		};

		self.clear();

		return self;
	}

	// For Windows; luminance and alpha textures are ssllooww to upload,
	// so we pack into RGBA and unpack in the shaders.
	//
	// This seems to affect all browsers on Windows, probably due to fun
	// mismatches between GL and D3D.
	WebGLFrameSink.stripe = (function() {
		if (navigator.userAgent.indexOf('Windows') !== -1) {
			return true;
		}
		return false;
	})();

	WebGLFrameSink.contextForCanvas = function(canvas) {
		var options = {
			// Don't trigger discrete GPU in multi-GPU systems
			preferLowPowerToHighPerformance: true,
			powerPreference: 'low-power',
			// Don't try to use software GL rendering!
			failIfMajorPerformanceCaveat: true,
			// In case we need to capture the resulting output.
			preserveDrawingBuffer: true
		};
		return canvas.getContext('webgl', options) || canvas.getContext('experimental-webgl', options);
	};

	/**
	 * Static function to check if WebGL will be available with appropriate features.
	 *
	 * @returns {boolean} - true if available
	 */
	WebGLFrameSink.isAvailable = function() {
		var canvas = document.createElement('canvas'),
			gl;
		canvas.width = 1;
		canvas.height = 1;
		try {
			gl = WebGLFrameSink.contextForCanvas(canvas);
		} catch (e) {
			return false;
		}
		if (gl) {
			var register = gl.TEXTURE0,
				width = 4,
				height = 4,
				texture = gl.createTexture(),
				data = new Uint8Array(width * height),
				texWidth = WebGLFrameSink.stripe ? (width / 4) : width,
				format = WebGLFrameSink.stripe ? gl.RGBA : gl.LUMINANCE,
				filter = WebGLFrameSink.stripe ? gl.NEAREST : gl.LINEAR;

			gl.activeTexture(register);
			gl.bindTexture(gl.TEXTURE_2D, texture);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);
			gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);
			gl.texImage2D(
				gl.TEXTURE_2D,
				0, // mip level
				format, // internal format
				texWidth,
				height,
				0, // border
				format, // format
				gl.UNSIGNED_BYTE, //type
				data // data!
			);

			var err = gl.getError();
			if (err) {
				// Doesn't support luminance textures?
				return false;
			} else {
				return true;
			}
		} else {
			return false;
		}
	};

	WebGLFrameSink.prototype = Object.create(FrameSink.prototype);

	module.exports = WebGLFrameSink;
})();

},{"../build/shaders.js":7,"./FrameSink.js":8}],11:[function(require,module,exports){
/*
Copyright (c) 2014-2019 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function() {
	"use strict";

	var depower = require('./depower.js');

	/**
	 * Basic YCbCr->RGB conversion
	 *
	 * @author Brion Vibber <brion@pobox.com>
	 * @copyright 2014-2019
	 * @license MIT-style
	 *
	 * @param {YUVFrame} buffer - input frame buffer
	 * @param {Uint8ClampedArray} output - array to draw RGBA into
	 * Assumes that the output array already has alpha channel set to opaque.
	 */
	function convertYCbCr(buffer, output) {
		var width = buffer.format.width | 0,
			height = buffer.format.height | 0,
			hdec = depower(buffer.format.width / buffer.format.chromaWidth) | 0,
			vdec = depower(buffer.format.height / buffer.format.chromaHeight) | 0,
			bytesY = buffer.y.bytes,
			bytesCb = buffer.u.bytes,
			bytesCr = buffer.v.bytes,
			strideY = buffer.y.stride | 0,
			strideCb = buffer.u.stride | 0,
			strideCr = buffer.v.stride | 0,
			outStride = width << 2,
			YPtr = 0, Y0Ptr = 0, Y1Ptr = 0,
			CbPtr = 0, CrPtr = 0,
			outPtr = 0, outPtr0 = 0, outPtr1 = 0,
			colorCb = 0, colorCr = 0,
			multY = 0, multCrR = 0, multCbCrG = 0, multCbB = 0,
			x = 0, y = 0, xdec = 0, ydec = 0;

		if (hdec == 1 && vdec == 1) {
			// Optimize for 4:2:0, which is most common
			outPtr0 = 0;
			outPtr1 = outStride;
			ydec = 0;
			for (y = 0; y < height; y += 2) {
				Y0Ptr = y * strideY | 0;
				Y1Ptr = Y0Ptr + strideY | 0;
				CbPtr = ydec * strideCb | 0;
				CrPtr = ydec * strideCr | 0;
				for (x = 0; x < width; x += 2) {
					colorCb = bytesCb[CbPtr++] | 0;
					colorCr = bytesCr[CrPtr++] | 0;

					// Quickie YUV conversion
					// https://en.wikipedia.org/wiki/YCbCr#ITU-R_BT.2020_conversion
					// multiplied by 256 for integer-friendliness
					multCrR   = (409 * colorCr | 0) - 57088 | 0;
					multCbCrG = (100 * colorCb | 0) + (208 * colorCr | 0) - 34816 | 0;
					multCbB   = (516 * colorCb | 0) - 70912 | 0;

					multY = 298 * bytesY[Y0Ptr++] | 0;
					output[outPtr0    ] = (multY + multCrR) >> 8;
					output[outPtr0 + 1] = (multY - multCbCrG) >> 8;
					output[outPtr0 + 2] = (multY + multCbB) >> 8;
					outPtr0 += 4;

					multY = 298 * bytesY[Y0Ptr++] | 0;
					output[outPtr0    ] = (multY + multCrR) >> 8;
					output[outPtr0 + 1] = (multY - multCbCrG) >> 8;
					output[outPtr0 + 2] = (multY + multCbB) >> 8;
					outPtr0 += 4;

					multY = 298 * bytesY[Y1Ptr++] | 0;
					output[outPtr1    ] = (multY + multCrR) >> 8;
					output[outPtr1 + 1] = (multY - multCbCrG) >> 8;
					output[outPtr1 + 2] = (multY + multCbB) >> 8;
					outPtr1 += 4;

					multY = 298 * bytesY[Y1Ptr++] | 0;
					output[outPtr1    ] = (multY + multCrR) >> 8;
					output[outPtr1 + 1] = (multY - multCbCrG) >> 8;
					output[outPtr1 + 2] = (multY + multCbB) >> 8;
					outPtr1 += 4;
				}
				outPtr0 += outStride;
				outPtr1 += outStride;
				ydec++;
			}
		} else {
			outPtr = 0;
			for (y = 0; y < height; y++) {
				xdec = 0;
				ydec = y >> vdec;
				YPtr = y * strideY | 0;
				CbPtr = ydec * strideCb | 0;
				CrPtr = ydec * strideCr | 0;

				for (x = 0; x < width; x++) {
					xdec = x >> hdec;
					colorCb = bytesCb[CbPtr + xdec] | 0;
					colorCr = bytesCr[CrPtr + xdec] | 0;

					// Quickie YUV conversion
					// https://en.wikipedia.org/wiki/YCbCr#ITU-R_BT.2020_conversion
					// multiplied by 256 for integer-friendliness
					multCrR   = (409 * colorCr | 0) - 57088 | 0;
					multCbCrG = (100 * colorCb | 0) + (208 * colorCr | 0) - 34816 | 0;
					multCbB   = (516 * colorCb | 0) - 70912 | 0;

					multY = 298 * bytesY[YPtr++] | 0;
					output[outPtr    ] = (multY + multCrR) >> 8;
					output[outPtr + 1] = (multY - multCbCrG) >> 8;
					output[outPtr + 2] = (multY + multCbB) >> 8;
					outPtr += 4;
				}
			}
		}
	}

	module.exports = {
		convertYCbCr: convertYCbCr
	};
})();

},{"./depower.js":12}],12:[function(require,module,exports){
/*
Copyright (c) 2014-2016 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function() {
  "use strict";

  /**
   * Convert a ratio into a bit-shift count; for instance a ratio of 2
   * becomes a bit-shift of 1, while a ratio of 1 is a bit-shift of 0.
   *
   * @author Brion Vibber <brion@pobox.com>
   * @copyright 2016
   * @license MIT-style
   *
   * @param {number} ratio - the integer ratio to convert.
   * @returns {number} - number of bits to shift to multiply/divide by the ratio.
   * @throws exception if given a non-power-of-two
   */
  function depower(ratio) {
    var shiftCount = 0,
      n = ratio >> 1;
    while (n != 0) {
      n = n >> 1;
      shiftCount++
    }
    if (ratio !== (1 << shiftCount)) {
      throw 'chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got ' + ratio;
    }
    return shiftCount;
  }

  module.exports = depower;
})();

},{}],13:[function(require,module,exports){
/*
Copyright (c) 2014-2016 Brion Vibber <brion@pobox.com>

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
MPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function() {
  "use strict";

  var FrameSink = require('./FrameSink.js'),
    SoftwareFrameSink = require('./SoftwareFrameSink.js'),
    WebGLFrameSink = require('./WebGLFrameSink.js');

  /**
   * @typedef {Object} YUVCanvasOptions
   * @property {boolean} webGL - Whether to use WebGL to draw to the canvas and accelerate color space conversion. If left out, defaults to auto-detect.
   */

  var YUVCanvas = {
    FrameSink: FrameSink,

    SoftwareFrameSink: SoftwareFrameSink,

    WebGLFrameSink: WebGLFrameSink,

    /**
     * Attach a suitable FrameSink instance to an HTML5 canvas element.
     *
     * This will take over the drawing context of the canvas and may turn
     * it into a WebGL 3d canvas if possible. Do not attempt to use the
     * drawing context directly after this.
     *
     * @param {HTMLCanvasElement} canvas - HTML canvas element to attach to
     * @param {YUVCanvasOptions} options - map of options
     * @returns {FrameSink} - instance of suitable subclass.
     */
    attach: function(canvas, options) {
      options = options || {};
      var webGL = ('webGL' in options) ? options.webGL : WebGLFrameSink.isAvailable();
      if (webGL) {
        return new WebGLFrameSink(canvas, options);
      } else {
        return new SoftwareFrameSink(canvas, options);
      }
    }
  };

  module.exports = YUVCanvas;
})();

},{"./FrameSink.js":8,"./SoftwareFrameSink.js":9,"./WebGLFrameSink.js":10}]},{},[4]);
